  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210621180130)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180130"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePortfolios (20210621180433)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "initial_balance" decimal, "current_balance" decimal, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180433"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTrades (20210621180933)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "trades" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "coin_name" varchar, "coin_id" varchar, "price" decimal, "quantity" integer, "user_id" integer, "portfolio_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180933"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-21 18:10:54.338655"], ["updated_at", "2021-06-21 18:10:54.338655"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mPortfolio Load (5.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Verena"], ["last_name", "last"], ["email", "last@test.com"], ["password_digest", "$2a$12$HgIboCszLkFVcK0sMTKihuEGM1bWFxcprGvYwitztUgvfMPf/Naw."], ["created_at", "2021-06-21 18:49:53.268026"], ["updated_at", "2021-06-21 18:49:53.268026"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Doge Portfolio"], ["description", "Testing Doge"], ["initial_balance", 10000.0], ["user_id", 1], ["created_at", "2021-06-21 18:52:36.041475"], ["updated_at", "2021-06-21 18:52:36.041475"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 56909.0], ["quantity", 90], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-21 18:57:12.354249"], ["updated_at", "2021-06-21 18:57:12.354249"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ? ORDER BY "trades"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["LIMIT", 11]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2021-06-21 19:39:25 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 9.0ms | Allocations: 480)
Completed 200 OK in 42ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 4151)


Started GET "/" for ::1 at 2021-06-21 19:39:28 -0400
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 12.8ms | Allocations: 221)
Completed 200 OK in 34ms (Views: 33.0ms | ActiveRecord: 0.0ms | Allocations: 870)


Started GET "/favicon.ico" for ::1 at 2021-06-21 19:39:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2021-06-21 19:41:33 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/cruser/.rvm/gems/ruby-2.6.1/gems/railties-6.1.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 12.9ms | Allocations: 315)
Completed 200 OK in 39ms (Views: 16.5ms | ActiveRecord: 0.0ms | Allocations: 2602)


Started GET "/favicon.ico" for 127.0.0.1 at 2021-06-21 19:41:34 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/users" for 127.0.0.1 at 2021-06-21 19:42:17 -0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.16ms)
Completed 200 OK in 59ms (Views: 47.7ms | ActiveRecord: 1.4ms | Allocations: 9942)


Started GET "/users/1" for 127.0.0.1 at 2021-06-21 19:42:42 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `set_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1126)


Started GET "/login" for 127.0.0.1 at 2021-06-21 19:47:46 -0400
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2021-06-21 19:58:28 -0400
  
NoMethodError (undefined method `port' for #<ActionDispatch::Routing::Mapper:0x00007fc4643f68a0>
Did you mean?  post):
  
config/routes.rb:7:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/auto-login" for 127.0.0.1 at 2021-06-21 19:58:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/auto-login"):
  
Started GET "/auto-login" for 127.0.0.1 at 2021-06-21 19:59:37 -0400
Processing by SessionController#auto_login as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 498)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `auth_header_token'
app/controllers/application_controller.rb:20:in `decoded_token'
app/controllers/application_controller.rb:12:in `session_user'
app/controllers/session_controller.rb:19:in `auto_login'
Started GET "/klkl" for 127.0.0.1 at 2021-06-21 20:00:00 -0400
  
ActionController::RoutingError (No route matches [GET] "/klkl"):
  
Started GET "/auto-login" for 127.0.0.1 at 2021-06-21 20:02:25 -0400
Processing by SessionController#auto_login as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 479)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `auth_header_token'
app/controllers/application_controller.rb:20:in `decoded_token'
app/controllers/application_controller.rb:12:in `session_user'
app/controllers/session_controller.rb:19:in `auto_login'
Started GET "/auto-login" for ::1 at 2021-06-21 20:02:50 -0400
Processing by SessionController#auto_login as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 480)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `auth_header_token'
app/controllers/application_controller.rb:20:in `decoded_token'
app/controllers/application_controller.rb:12:in `session_user'
app/controllers/session_controller.rb:19:in `auto_login'
Started GET "/favicon.ico" for ::1 at 2021-06-21 20:02:50 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/kl" for ::1 at 2021-06-21 20:03:04 -0400
  
ActionController::RoutingError (No route matches [GET] "/kl"):
  
Started GET "/users" for ::1 at 2021-06-21 21:24:36 -0400
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.44ms)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.3ms | Allocations: 6650)


Started POST "/login" for ::1 at 2021-06-21 21:26:21 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 283ms (Views: 2.8ms | ActiveRecord: 3.5ms | Allocations: 17707)


Started POST "/login" for ::1 at 2021-06-22 07:24:48 -0400
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 279ms (Views: 2.3ms | ActiveRecord: 3.4ms | Allocations: 25809)


Started GET "/auto-login" for ::1 at 2021-06-22 07:36:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.66ms)
Completed 200 OK in 21ms (Views: 13.4ms | ActiveRecord: 1.5ms | Allocations: 3096)


Started GET "/auto-login" for ::1 at 2021-06-22 07:36:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.33ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1318)


Started GET "/auto-login" for ::1 at 2021-06-22 07:38:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 07:38:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1318)


Started GET "/auto-login" for ::1 at 2021-06-22 07:40:09 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 07:49:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.7ms | Allocations: 1767)


Started GET "/auto-login" for ::1 at 2021-06-22 07:55:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.39ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 1768)


Started GET "/auto-login" for ::1 at 2021-06-22 07:56:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 07:56:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1318)


Started GET "/auto-login" for ::1 at 2021-06-22 07:56:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.47ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 07:56:39 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 07:58:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 200 OK in 53ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 1302)


Started GET "/auto-login" for ::1 at 2021-06-22 08:00:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 08:02:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 08:03:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 08:05:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 08:12:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 1767)


Started GET "/auto-login" for ::1 at 2021-06-22 08:13:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 08:13:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started POST "/login" for ::1 at 2021-06-22 08:32:40 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 235ms (Views: 6.1ms | ActiveRecord: 1.1ms | Allocations: 1093)


Started POST "/login" for ::1 at 2021-06-22 08:33:24 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (2.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 235ms (Views: 0.7ms | ActiveRecord: 2.9ms | Allocations: 2419)


Started GET "/auto-login" for ::1 at 2021-06-22 08:39:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 1768)


Started GET "/auto-login" for ::1 at 2021-06-22 08:40:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started POST "/login" for ::1 at 2021-06-22 08:41:12 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 231ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 2435)


Started GET "/auto-login" for ::1 at 2021-06-22 08:42:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started POST "/login" for ::1 at 2021-06-22 08:42:58 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 228ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 2374)


Started POST "/login" for ::1 at 2021-06-22 08:48:01 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"last@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "last@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 229ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 2374)


Started POST "/signup" for ::1 at 2021-06-22 11:16:00 -0400
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1088)


Started POST "/signup" for ::1 at 2021-06-22 11:27:49 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (6.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "dan@test.com"], ["password_digest", "$2a$12$cVi2wbQTb7yQAVV29wsvrukcHEQDIlvbzDUKZAOWf1Ensd13ldIqO"], ["created_at", "2021-06-22 15:27:49.680656"], ["updated_at", "2021-06-22 15:27:49.680656"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 244ms (Views: 0.9ms | ActiveRecord: 8.4ms | Allocations: 7492)


Started POST "/signup" for ::1 at 2021-06-22 11:29:33 -0400
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"tim@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"tim@test.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "tim@test.com"], ["password_digest", "$2a$12$7521qmWjQFHuacb7i4WFNOs6ziueUJJgv.YVgygL9DUDhzkhlLw8G"], ["created_at", "2021-06-22 15:29:33.986467"], ["updated_at", "2021-06-22 15:29:33.986467"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/controllers/users_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 234ms (Views: 0.5ms | ActiveRecord: 3.5ms | Allocations: 2729)


Started GET "/auto-login" for ::1 at 2021-06-22 11:32:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.69ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 1719)


Started GET "/auto-login" for ::1 at 2021-06-22 11:50:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1767)


Started GET "/auto-login" for ::1 at 2021-06-22 11:55:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 11:56:38 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.41ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 11:56:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:02:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 1767)


Started GET "/auto-login" for ::1 at 2021-06-22 12:02:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.5ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:03:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:04:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:04:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:04:39 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.43ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:08:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:08:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:08:59 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1302)


Started GET "/auto-login" for ::1 at 2021-06-22 12:10:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.48ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:11:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:11:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:16:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:19:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:19:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.48ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:19:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:20:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:21:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:25:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 12:25:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 1299)


Started POST "/login" for ::1 at 2021-06-22 12:30:00 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1568)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Doge Portfolio"], ["description", "Testing Doge"], ["initial_balance", 10000.0], ["user_id", 3], ["created_at", "2021-06-22 16:35:07.231748"], ["updated_at", "2021-06-22 16:35:07.231748"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (7.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Doge Portfolio"], ["description", "Testing Doge"], ["initial_balance", 10000.0], ["user_id", 1], ["created_at", "2021-06-22 16:35:40.309287"], ["updated_at", "2021-06-22 16:35:40.309287"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Started POST "/signup" for ::1 at 2021-06-22 12:39:31 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Pedrito", "last_name"=>"Perez", "email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Pedrito", "last_name"=>"Perez", "email"=>"pedrito@pass.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Pedrito"], ["last_name", "Perez"], ["email", "pedrito@pass.com"], ["password_digest", "$2a$12$9ZJ804ZbaFiitprecFITyeWDlJaRhxXI/PihAs6RZRqj14ONH9oBK"], ["created_at", "2021-06-22 16:39:31.833433"], ["updated_at", "2021-06-22 16:39:31.833433"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["user_id", 4], ["created_at", "2021-06-22 16:39:31.863422"], ["updated_at", "2021-06-22 16:39:31.863422"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/users_controller.rb:26:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/users_controller.rb:26:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 271ms (Views: 1.1ms | ActiveRecord: 9.5ms | Allocations: 15379)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 4], ["LIMIT", 11]]
Started GET "/auto-login" for ::1 at 2021-06-22 12:41:09 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.93ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 1684)


Started GET "/auto-login" for ::1 at 2021-06-22 12:59:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1770)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/login" for ::1 at 2021-06-22 13:24:08 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 250ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 13571)


Started GET "/auto-login" for ::1 at 2021-06-22 13:24:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.69ms)
Completed 200 OK in 96ms (Views: 92.7ms | ActiveRecord: 0.3ms | Allocations: 3414)


Started GET "/auto-login" for ::1 at 2021-06-22 13:29:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.06ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 1.1ms | Allocations: 13070)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:31:31 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 4887)


Started GET "/auto-login" for ::1 at 2021-06-22 13:31:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (3.82ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 2351)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:33:43 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 235ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 2216)


Started POST "/login" for ::1 at 2021-06-22 13:34:07 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 230ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 2217)


Started GET "/auto-login" for ::1 at 2021-06-22 13:34:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.85ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms | Allocations: 3823)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:34:23 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2216)


Started GET "/auto-login" for ::1 at 2021-06-22 13:34:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.1ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms | Allocations: 2351)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:34:39 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 230ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2219)


Started GET "/auto-login" for ::1 at 2021-06-22 13:40:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (24.08ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.9ms | Allocations: 4312)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:42:44 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 258ms (Views: 0.9ms | ActiveRecord: 2.6ms | Allocations: 14895)


Started GET "/auto-login" for ::1 at 2021-06-22 13:42:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.24ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms | Allocations: 2847)


  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
  has_many: trades
          ^):
  
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/serializers/portfolio_serializer.rb:4: syntax error, unexpected ':', expecting end
app/controllers/session_controller.rb:20:in `auto_login'
Started POST "/login" for ::1 at 2021-06-22 13:44:44 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 2.2ms | Allocations: 14852)


Started GET "/auto-login" for ::1 at 2021-06-22 13:44:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.3ms | Allocations: 1740)


Started GET "/auto-login" for ::1 at 2021-06-22 13:45:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 13:45:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 13:47:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.5ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 13:49:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.39ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1302)


Started GET "/auto-login" for ::1 at 2021-06-22 13:50:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1299)


Started GET "/auto-login" for ::1 at 2021-06-22 13:56:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 1767)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 4], ["LIMIT", 11]]
Started GET "/users/1" for ::1 at 2021-06-22 14:13:01 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:53:in `set_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.8ms | Allocations: 1294)


Started GET "/users/1" for ::1 at 2021-06-22 14:13:15 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:53:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.97ms)
Completed 200 OK in 29ms (Views: 14.9ms | ActiveRecord: 2.3ms | Allocations: 13798)


Started GET "/users/2" for ::1 at 2021-06-22 14:13:52 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (3.37ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 1551)


Started GET "/users/3" for ::1 at 2021-06-22 14:13:56 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 3]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.41ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.5ms | Allocations: 1686)


Started GET "/auto-login" for ::1 at 2021-06-22 14:14:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.3ms)
Completed 200 OK in 78ms (Views: 41.2ms | ActiveRecord: 5.1ms | Allocations: 14238)


Started GET "/users/3" for ::1 at 2021-06-22 14:15:20 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:53:in `set_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 3]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 3]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.56ms)
Completed 200 OK in 40ms (Views: 24.7ms | ActiveRecord: 2.6ms | Allocations: 17233)


Started GET "/auto-login" for ::1 at 2021-06-22 14:15:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.64ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.4ms | Allocations: 2418)


Started GET "/auto-login" for ::1 at 2021-06-22 14:16:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (2.27ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 2313)


Started GET "/users/4" for ::1 at 2021-06-22 14:18:20 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.63ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 2753)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 56909.0], ["quantity", 90], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-22 18:18:40.731387"], ["updated_at", "2021-06-22 18:18:40.731387"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/4" for ::1 at 2021-06-22 14:18:44 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:53:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (33.36ms)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 1.1ms | Allocations: 8813)


Started GET "/auto-login" for ::1 at 2021-06-22 14:18:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (2.41ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 2313)


Started GET "/auto-login" for ::1 at 2021-06-22 14:19:56 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (1.2ms)
Completed 200 OK in 59ms (Views: 11.8ms | ActiveRecord: 2.0ms | Allocations: 7559)


Started GET "/auto-login" for ::1 at 2021-06-22 14:20:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (20.84ms)
Completed 200 OK in 39ms (Views: 21.4ms | ActiveRecord: 2.5ms | Allocations: 14208)


Started GET "/auto-login" for ::1 at 2021-06-22 14:20:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.93ms)
Completed 200 OK in 101ms (Views: 68.4ms | ActiveRecord: 6.8ms | Allocations: 21305)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/login" for ::1 at 2021-06-22 14:21:45 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 236ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 2840)


Started POST "/login" for ::1 at 2021-06-22 14:22:55 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 227ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2373)


Started GET "/auto-login" for ::1 at 2021-06-22 14:23:33 -0400
  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/session_controller.rb:8: syntax error, unexpected ':', expecting ']'
        :portfolios :trades)
                    ^):
  
app/controllers/session_controller.rb:8: syntax error, unexpected ':', expecting ']'
app/controllers/session_controller.rb:8: syntax error, unexpected ':', expecting ']'
Started POST "/login" for ::1 at 2021-06-22 14:24:18 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ?[0m  [["portfolio_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 259ms (Views: 0.6ms | ActiveRecord: 2.9ms | Allocations: 19088)


Started GET "/auto-login" for ::1 at 2021-06-22 14:24:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (13.88ms)
Completed 200 OK in 20ms (Views: 16.0ms | ActiveRecord: 1.0ms | Allocations: 5053)


Started GET "/auto-login" for ::1 at 2021-06-22 14:25:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (121.58ms)
Completed 200 OK in 141ms (Views: 118.7ms | ActiveRecord: 6.6ms | Allocations: 21250)


Started POST "/login" for ::1 at 2021-06-22 14:25:39 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 227ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 2020)


Started GET "/auto-login" for ::1 at 2021-06-22 14:27:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (63.96ms)
Completed 200 OK in 94ms (Views: 64.3ms | ActiveRecord: 8.0ms | Allocations: 21296)


Started POST "/login" for ::1 at 2021-06-22 14:27:45 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 234ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 2755)


Started POST "/signup" for ::1 at 2021-06-22 14:30:04 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"last@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"last@test.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "last@test.com"], ["password_digest", "$2a$12$L5XacXIZc.rMRLlIx8LIfuY7x6ab8qJd4PGcGrFPiW/7WpPquRdhy"], ["created_at", "2021-06-22 18:30:04.507987"], ["updated_at", "2021-06-22 18:30:04.507987"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["user_id", 5], ["created_at", "2021-06-22 18:30:04.529237"], ["updated_at", "2021-06-22 18:30:04.529237"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 252ms (Views: 1.2ms | ActiveRecord: 10.4ms | Allocations: 13365)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 5], ["LIMIT", 11]]
Started POST "/signup" for ::1 at 2021-06-22 14:32:24 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"lalla@gmail.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"lalla@gmail.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "lalla@gmail.com"], ["password_digest", "$2a$12$mhsBOJJ543EtihIx.jCmRuuWl5p7IFA./V.4Z6PF3NPfYTsIscxUq"], ["created_at", "2021-06-22 18:32:24.605498"], ["updated_at", "2021-06-22 18:32:24.605498"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["user_id", 6], ["created_at", "2021-06-22 18:32:24.629879"], ["updated_at", "2021-06-22 18:32:24.629879"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
  ↳ app/controllers/users_controller.rb:28:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 279ms (Views: 0.7ms | ActiveRecord: 11.0ms | Allocations: 22459)


Started GET "/auto-login" for ::1 at 2021-06-22 14:33:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (15.05ms)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 0.8ms | Allocations: 4174)


Started GET "/auto-login" for ::1 at 2021-06-22 14:38:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.1ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 14:42:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.93ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms | Allocations: 3367)


Started GET "/auto-login" for ::1 at 2021-06-22 14:42:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.75ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 1.8ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 14:47:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.12ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:00:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (24.85ms)
Completed 200 OK in 31ms (Views: 24.2ms | ActiveRecord: 1.9ms | Allocations: 3879)


Started GET "/auto-login" for ::1 at 2021-06-22 15:00:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.4ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.9ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:01:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.48ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:01:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.29ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:02:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.54ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:07:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.54ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.0ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:07:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.87ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:12:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.05ms)
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 2.4ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 15:14:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.97ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:14:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.42ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:31:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.5ms)
Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 2.2ms | Allocations: 3878)


  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 6], ["LIMIT", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 6], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 6], ["LIMIT", 1]]
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" WHERE "trades"."portfolio_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 6], ["LIMIT", 11]]
Started GET "/auto-login" for ::1 at 2021-06-22 15:35:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (47.89ms)
Completed 200 OK in 102ms (Views: 51.4ms | ActiveRecord: 5.2ms | Allocations: 16780)


Started GET "/auto-login" for ::1 at 2021-06-22 15:35:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (50.64ms)
Completed 200 OK in 117ms (Views: 52.5ms | ActiveRecord: 6.0ms | Allocations: 16765)


Started GET "/auto-login" for ::1 at 2021-06-22 15:46:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.72ms)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 1.2ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 15:49:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.87ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 15:50:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.43ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:08:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.04ms)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 1.9ms | Allocations: 3879)


Started GET "/auto-login" for ::1 at 2021-06-22 17:08:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.32ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:08:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.44ms)
Completed 200 OK in 15ms (Views: 7.8ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:18:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.05ms)
Completed 200 OK in 17ms (Views: 12.1ms | ActiveRecord: 1.1ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 17:19:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.02ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:22:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (27.64ms)
Completed 200 OK in 33ms (Views: 28.1ms | ActiveRecord: 0.7ms | Allocations: 3367)


Started GET "/auto-login" for ::1 at 2021-06-22 17:24:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.4ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:27:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.25ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:28:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.58ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:28:45 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.46ms)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.8ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:29:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.61ms)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:33:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.72ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.8ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:34:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.66ms)
Completed 200 OK in 12ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:35:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.11ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 17:38:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.21ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 18:33:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.9ms)
Completed 200 OK in 45ms (Views: 39.2ms | ActiveRecord: 1.3ms | Allocations: 3879)


Started GET "/auto-login" for ::1 at 2021-06-22 19:20:39 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.45ms)
Completed 200 OK in 20ms (Views: 9.7ms | ActiveRecord: 1.6ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 19:20:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.18ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 19:56:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.81ms)
Completed 200 OK in 14ms (Views: 7.9ms | ActiveRecord: 1.1ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 19:57:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (62.58ms)
Completed 200 OK in 73ms (Views: 67.1ms | ActiveRecord: 3.0ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:05:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.17ms)
Completed 200 OK in 20ms (Views: 9.9ms | ActiveRecord: 2.6ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 20:06:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.36ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 1.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:07:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.2ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:09:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.97ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:10:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (21.83ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.5ms | Allocations: 3367)


Started GET "/auto-login" for ::1 at 2021-06-22 20:11:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.03ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:12:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.63ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:14:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.61ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.8ms | Allocations: 3369)


Started GET "/auto-login" for ::1 at 2021-06-22 20:14:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.66ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.9ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:15:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.53ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.8ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:23:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.21ms)
Completed 200 OK in 13ms (Views: 7.2ms | ActiveRecord: 1.4ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 20:25:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.65ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:25:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.7ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:27:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.58ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:27:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.23ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:28:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.77ms)
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 20:29:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (16.73ms)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 3367)


Started GET "/auto-login" for ::1 at 2021-06-22 20:51:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.0ms)
Completed 200 OK in 12ms (Views: 6.9ms | ActiveRecord: 1.2ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 20:51:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.08ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 21:19:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.79ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 21:46:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.27ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 1.2ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 21:50:40 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.2ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 21:52:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.33ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 21:58:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.13ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:00:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.48ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:01:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (21.57ms)
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 0.6ms | Allocations: 3367)


Started GET "/auto-login" for ::1 at 2021-06-22 22:05:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.68ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:06:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.7ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:06:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.7ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:07:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.31ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.6ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:08:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.48ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:14:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.58ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 1.2ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 22:16:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (4.38ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.4ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:18:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.05ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 0.7ms | Allocations: 3366)


Started GET "/auto-login" for ::1 at 2021-06-22 22:40:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.26ms)
Completed 200 OK in 13ms (Views: 7.1ms | ActiveRecord: 1.4ms | Allocations: 3878)


Started GET "/auto-login" for ::1 at 2021-06-22 22:42:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 6]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.22ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.5ms | Allocations: 3366)


  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
Started POST "/login" for ::1 at 2021-06-22 22:43:40 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"pedrito@pass.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pedrito@pass.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 9.2ms | Allocations: 6832)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 6], ["LIMIT", 11]]
Started GET "/auto-login" for ::1 at 2021-06-23 12:58:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (50.06ms)
Completed 200 OK in 62ms (Views: 51.8ms | ActiveRecord: 2.0ms | Allocations: 5854)


Started GET "/auto-login" for ::1 at 2021-06-23 12:59:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.61ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.5ms | Allocations: 3511)


Started GET "/auto-login" for ::1 at 2021-06-23 13:04:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.28ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 3511)


Started GET "/use" for ::1 at 2021-06-23 13:08:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/auto-login" for ::1 at 2021-06-23 13:12:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.8ms)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 1.3ms | Allocations: 4289)


Started POST "/trades" for ::1 at 2021-06-23 13:12:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33705, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33705, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33705.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:12:11.438162"], ["updated_at", "2021-06-23 17:12:11.438162"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.8ms)
Completed 201 Created in 19ms (Views: 2.5ms | ActiveRecord: 2.9ms | Allocations: 4228)


  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trades"[0m
Started POST "/trades" for ::1 at 2021-06-23 13:13:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33705, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33705, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33705.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:13:08.440366"], ["updated_at", "2021-06-23 17:13:08.440366"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.39ms)
Completed 201 Created in 14ms (Views: 1.1ms | ActiveRecord: 5.0ms | Allocations: 3543)


Started POST "/trades" for ::1 at 2021-06-23 13:13:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1991.42, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1991.42, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["price", 1991.42], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:13:09.967376"], ["updated_at", "2021-06-23 17:13:09.967376"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 201 Created in 18ms (Views: 2.6ms | ActiveRecord: 2.1ms | Allocations: 3551)


Started POST "/trades" for ::1 at 2021-06-23 13:13:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.25, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.25, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "cardano"], ["price", 1.25], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:13:11.210739"], ["updated_at", "2021-06-23 17:13:11.210739"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.33ms)
Completed 201 Created in 34ms (Views: 3.1ms | ActiveRecord: 7.7ms | Allocations: 3551)


Started POST "/trades" for ::1 at 2021-06-23 13:13:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232625, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232625, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.232625], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:13:11.808498"], ["updated_at", "2021-06-23 17:13:11.808498"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 201 Created in 23ms (Views: 1.1ms | ActiveRecord: 2.2ms | Allocations: 3551)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trades"[0m
Started GET "/auto-login" for ::1 at 2021-06-23 13:13:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.65ms)
Completed 200 OK in 23ms (Views: 13.1ms | ActiveRecord: 0.5ms | Allocations: 4256)


Started GET "/auto-login" for ::1 at 2021-06-23 13:15:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.91ms)
Completed 200 OK in 37ms (Views: 31.2ms | ActiveRecord: 0.5ms | Allocations: 4257)


Started GET "/auto-login" for ::1 at 2021-06-23 13:15:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.65ms)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.6ms | Allocations: 4256)


Started POST "/trades" for ::1 at 2021-06-23 13:15:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232758, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232758, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.232758], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:15:11.704607"], ["updated_at", "2021-06-23 17:15:11.704607"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 201 Created in 19ms (Views: 1.3ms | ActiveRecord: 7.9ms | Allocations: 3552)


Started GET "/auto-login" for ::1 at 2021-06-23 13:17:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (7.0ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.5ms | Allocations: 4408)


Started GET "/auto-login" for ::1 at 2021-06-23 13:17:50 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.71ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.5ms | Allocations: 4408)


Started GET "/auto-login" for ::1 at 2021-06-23 13:20:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.59ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.5ms | Allocations: 4408)


Started POST "/trades" for ::1 at 2021-06-23 13:20:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33762, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33762, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33762.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:20:20.038165"], ["updated_at", "2021-06-23 17:20:20.038165"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 201 Created in 17ms (Views: 1.1ms | ActiveRecord: 4.3ms | Allocations: 3543)


Started GET "/auto-login" for ::1 at 2021-06-23 13:23:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.29ms)
Completed 200 OK in 15ms (Views: 9.4ms | ActiveRecord: 0.8ms | Allocations: 4552)


Started GET "/auto-login" for ::1 at 2021-06-23 13:23:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.83ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.7ms | Allocations: 4552)


Started POST "/trades" for ::1 at 2021-06-23 13:23:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232876, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.232876, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.232876], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:23:33.059971"], ["updated_at", "2021-06-23 17:23:33.059971"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 201 Created in 23ms (Views: 1.0ms | ActiveRecord: 12.2ms | Allocations: 3551)


Started GET "/auto-login" for ::1 at 2021-06-23 13:25:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.05ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.6ms | Allocations: 4704)


Started GET "/auto-login" for ::1 at 2021-06-23 13:25:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.28ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.6ms | Allocations: 4704)


Started POST "/trades" for ::1 at 2021-06-23 13:25:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33715, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33715, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33715.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:25:09.585440"], ["updated_at", "2021-06-23 17:25:09.585440"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 201 Created in 14ms (Views: 1.0ms | ActiveRecord: 3.0ms | Allocations: 3543)


Started GET "/auto-login" for ::1 at 2021-06-23 13:25:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (21.25ms)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.7ms | Allocations: 4849)


Started GET "/auto-login" for ::1 at 2021-06-23 13:25:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.26ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.6ms | Allocations: 4848)


Started POST "/trades" for ::1 at 2021-06-23 13:25:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>293.91, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>293.91, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["price", 293.91], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:25:39.579558"], ["updated_at", "2021-06-23 17:25:39.579558"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 201 Created in 15ms (Views: 1.1ms | ActiveRecord: 4.4ms | Allocations: 3551)


Started GET "/auto-login" for ::1 at 2021-06-23 13:38:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (13.86ms)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 1.5ms | Allocations: 5512)


Started POST "/trades" for ::1 at 2021-06-23 13:38:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33615, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33615, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33615.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:38:47.923337"], ["updated_at", "2021-06-23 17:38:47.923337"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 201 Created in 11ms (Views: 0.9ms | ActiveRecord: 2.9ms | Allocations: 3564)


Started GET "/auto-login" for ::1 at 2021-06-23 13:39:38 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.81ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.5ms | Allocations: 5144)


Started POST "/trades" for ::1 at 2021-06-23 13:39:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.24, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.24, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "cardano"], ["price", 1.24], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:39:42.142867"], ["updated_at", "2021-06-23 17:39:42.142867"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[active_model_serializers] Rendered TradeSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 16ms (Views: 1.0ms | ActiveRecord: 4.1ms | Allocations: 3551)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
Started GET "/auto-login" for ::1 at 2021-06-23 13:51:50 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (32.21ms)
Completed 200 OK in 65ms (Views: 33.5ms | ActiveRecord: 1.4ms | Allocations: 21832)


Started POST "/trades" for ::1 at 2021-06-23 13:51:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33685, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33685, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33685.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:51:54.715187"], ["updated_at", "2021-06-23 17:51:54.715187"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 27ms (Views: 1.2ms | ActiveRecord: 3.6ms | Allocations: 8413)


Started GET "/auto-login" for ::1 at 2021-06-23 13:53:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.41ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.5ms | Allocations: 5440)


Started GET "/auto-login" for ::1 at 2021-06-23 13:53:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.32ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.9ms | Allocations: 5441)


Started POST "/trades" for ::1 at 2021-06-23 13:53:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.25, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"cardano", "price"=>1.25, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "cardano"], ["price", 1.25], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:53:23.893574"], ["updated_at", "2021-06-23 17:53:23.893574"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 200 OK in 24ms (Views: 1.1ms | ActiveRecord: 3.6ms | Allocations: 7895)


Started GET "/auto-login" for ::1 at 2021-06-23 13:54:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.22ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.5ms | Allocations: 5592)


Started GET "/auto-login" for ::1 at 2021-06-23 13:54:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.94ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.7ms | Allocations: 5592)


Started POST "/trades" for ::1 at 2021-06-23 13:54:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33678, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33678, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33678.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:54:11.110251"], ["updated_at", "2021-06-23 17:54:11.110251"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 200 OK in 22ms (Views: 0.9ms | ActiveRecord: 2.7ms | Allocations: 8039)


Started GET "/auto-login" for ::1 at 2021-06-23 13:54:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.24ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.7ms | Allocations: 5737)


Started POST "/trades" for ::1 at 2021-06-23 13:55:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33665, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33665, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33665.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 17:55:06.907150"], ["updated_at", "2021-06-23 17:55:06.907150"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 3.1ms | Allocations: 8191)


Started POST "/trades" for ::1 at 2021-06-23 14:00:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>1, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>1, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "tether"], ["price", 1.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 18:00:30.867943"], ["updated_at", "2021-06-23 18:00:30.867943"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 22ms (Views: 1.0ms | ActiveRecord: 3.0ms | Allocations: 8343)


Started GET "/auto-login" for ::1 at 2021-06-23 14:21:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.43ms)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 1.6ms | Allocations: 6536)


Started GET "/auto-login" for ::1 at 2021-06-23 14:30:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.86ms)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 1.1ms | Allocations: 6536)


Started GET "/auto-login" for ::1 at 2021-06-23 14:31:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.83ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.7ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:32:56 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.47ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:32:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (33.7ms)
Completed 200 OK in 37ms (Views: 34.0ms | ActiveRecord: 0.6ms | Allocations: 6025)


Started GET "/auto-login" for ::1 at 2021-06-23 14:33:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.88ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.7ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:33:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (8.94ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:43:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (13.3ms)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 1.3ms | Allocations: 6536)


Started GET "/auto-login" for ::1 at 2021-06-23 14:46:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.68ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.5ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:47:40 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.61ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.6ms | Allocations: 6024)


Started GET "/auto-login" for ::1 at 2021-06-23 14:47:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.19ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.8ms | Allocations: 6024)


Started POST "/trades" for ::1 at 2021-06-23 14:48:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33584, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33584, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33584.0], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 18:48:13.295160"], ["updated_at", "2021-06-23 18:48:13.295160"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 22ms (Views: 0.7ms | ActiveRecord: 4.0ms | Allocations: 8519)


Started GET "/auto-login" for ::1 at 2021-06-23 14:51:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.57ms)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 1.9ms | Allocations: 6168)


Started GET "/auto-login" for ::1 at 2021-06-23 15:06:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (27.51ms)
Completed 200 OK in 33ms (Views: 26.7ms | ActiveRecord: 2.4ms | Allocations: 6681)


Started GET "/auto-login" for ::1 at 2021-06-23 15:11:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (51.34ms)
Completed 200 OK in 75ms (Views: 52.0ms | ActiveRecord: 5.5ms | Allocations: 24674)


Started POST "/trades" for ::1 at 2021-06-23 15:13:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.72, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.72, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.72], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:13:23.435918"], ["updated_at", "2021-06-23 19:13:23.435918"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 23ms (Views: 1.0ms | ActiveRecord: 3.1ms | Allocations: 9333)


Started POST "/trades" for ::1 at 2021-06-23 15:13:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.108011, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.108011, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.108011], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:13:39.762011"], ["updated_at", "2021-06-23 19:13:39.762011"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 200 OK in 34ms (Views: 1.1ms | ActiveRecord: 4.1ms | Allocations: 8824)


Started POST "/trades" for ::1 at 2021-06-23 15:13:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.254961, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.254961, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "stellar"], ["price", 0.254961], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:13:40.838095"], ["updated_at", "2021-06-23 19:13:40.838095"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 25ms (Views: 0.7ms | ActiveRecord: 2.3ms | Allocations: 8983)


Started GET "/auto-login" for ::1 at 2021-06-23 15:14:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.68ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.1ms | Allocations: 7372)


Started GET "/auto-login" for ::1 at 2021-06-23 15:14:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (13.59ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.5ms | Allocations: 7372)


Started POST "/trades" for ::1 at 2021-06-23 15:17:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.223519, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.223519, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.223519], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:17:01.370839"], ["updated_at", "2021-06-23 19:17:01.370839"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 200 OK in 28ms (Views: 0.6ms | ActiveRecord: 8.0ms | Allocations: 9143)


Started GET "/auto-login" for ::1 at 2021-06-23 15:17:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.67ms)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 0.5ms | Allocations: 7558)


Started POST "/trades" for ::1 at 2021-06-23 15:26:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1961.18, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1961.18, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (3.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["price", 1961.18], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:26:30.380427"], ["updated_at", "2021-06-23 19:26:30.380427"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 40ms (Views: 0.7ms | ActiveRecord: 6.9ms | Allocations: 9841)


Started GET "/auto-login" for ::1 at 2021-06-23 15:32:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.97ms)
Completed 200 OK in 18ms (Views: 12.9ms | ActiveRecord: 1.3ms | Allocations: 8256)


Started GET "/auto-login" for ::1 at 2021-06-23 15:32:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.33ms)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.6ms | Allocations: 7744)


Started GET "/auto-login" for ::1 at 2021-06-23 15:34:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (30.31ms)
Completed 200 OK in 34ms (Views: 30.4ms | ActiveRecord: 0.7ms | Allocations: 7744)


Started POST "/trades" for ::1 at 2021-06-23 15:36:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"litecoin", "price"=>125.95, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"litecoin", "price"=>125.95, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "litecoin"], ["price", 125.95], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:36:05.738261"], ["updated_at", "2021-06-23 19:36:05.738261"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.34ms)
Completed 200 OK in 25ms (Views: 1.0ms | ActiveRecord: 4.0ms | Allocations: 9484)


Started POST "/trades" for ::1 at 2021-06-23 15:36:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Solana", "coin_id"=>"solana", "price"=>29.26, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Solana", "coin_id"=>"solana", "price"=>29.26, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Solana"], ["coin_id", "solana"], ["price", 29.26], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:36:06.547662"], ["updated_at", "2021-06-23 19:36:06.547662"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 28ms (Views: 0.8ms | ActiveRecord: 5.0ms | Allocations: 9623)


Started POST "/trades" for ::1 at 2021-06-23 15:36:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"litecoin", "price"=>125.95, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"litecoin", "price"=>125.95, "quantity"=>1, "user_id"=>4, "portfolio_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "litecoin"], ["price", 125.95], ["quantity", 1], ["user_id", 4], ["portfolio_id", 4], ["created_at", "2021-06-23 19:36:07.669752"], ["updated_at", "2021-06-23 19:36:07.669752"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 200 OK in 38ms (Views: 0.7ms | ActiveRecord: 3.4ms | Allocations: 9784)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210621180130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180130"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePortfolios (20210621180433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "initial_balance" decimal, "current_balance" decimal, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180433"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTrades (20210621180933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "trades" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "coin_name" varchar, "coin_id" varchar, "price" decimal, "quantity" integer, "user_id" integer, "portfolio_id" integer, "image" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180933"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCoins (20210623194338)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "coin_name" varchar, "coin_id" varchar, "average_price" decimal, "quantity" integer, "user_id" integer, "portfolio_id" integer, "image" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210623194338"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-23 19:47:47.787459"], ["updated_at", "2021-06-23 19:47:47.787459"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/signup" for ::1 at 2021-06-23 15:52:28 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "dan@test.com"], ["password_digest", "$2a$12$qZbYRNZ5AoBR4ZdgSUNvkuqWyQDcMgwROfhnC0MJv9GlbsrLuDpKK"], ["created_at", "2021-06-23 19:52:28.649385"], ["updated_at", "2021-06-23 19:52:28.649385"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["user_id", 1], ["created_at", "2021-06-23 19:52:28.680568"], ["updated_at", "2021-06-23 19:52:28.680568"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:28:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 285ms (Views: 1.7ms | ActiveRecord: 8.9ms | Allocations: 24298)


Started POST "/trades" for ::1 at 2021-06-23 15:52:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33110, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33110, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33110.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:52:45.146425"], ["updated_at", "2021-06-23 19:52:45.146425"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 37ms (Views: 1.0ms | ActiveRecord: 4.4ms | Allocations: 11112)


Started POST "/trades" for ::1 at 2021-06-23 15:52:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Wrapped Bitcoin", "coin_id"=>"wrapped-bitcoin", "price"=>33197, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Wrapped Bitcoin", "coin_id"=>"wrapped-bitcoin", "price"=>33197, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Wrapped Bitcoin"], ["coin_id", "wrapped-bitcoin"], ["price", 33197.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:52:56.884214"], ["updated_at", "2021-06-23 19:52:56.884214"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 22ms (Views: 1.0ms | ActiveRecord: 7.5ms | Allocations: 6828)


Started POST "/trades" for ::1 at 2021-06-23 15:53:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.107148, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.107148, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.107148], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:53:09.485366"], ["updated_at", "2021-06-23 19:53:09.485366"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 20ms (Views: 0.6ms | ActiveRecord: 4.1ms | Allocations: 6058)


Started GET "/auto-login" for ::1 at 2021-06-23 15:53:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (47.31ms)
Completed 200 OK in 79ms (Views: 75.8ms | ActiveRecord: 0.6ms | Allocations: 6737)


Started POST "/trades" for ::1 at 2021-06-23 15:55:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33104, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33104, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33104.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:55:16.158107"], ["updated_at", "2021-06-23 19:55:16.158107"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 43ms (Views: 1.4ms | ActiveRecord: 4.5ms | Allocations: 6185)


Started POST "/trades" for ::1 at 2021-06-23 15:55:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>285.6, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>285.6, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["price", 285.6], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:55:35.416509"], ["updated_at", "2021-06-23 19:55:35.416509"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 200 OK in 27ms (Views: 0.8ms | ActiveRecord: 8.4ms | Allocations: 6360)


Started POST "/trades" for ::1 at 2021-06-23 15:56:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.68, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.68, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.68], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 19:56:03.276373"], ["updated_at", "2021-06-23 19:56:03.276373"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 27ms (Views: 1.0ms | ActiveRecord: 8.3ms | Allocations: 6525)


Started GET "/auto-login" for ::1 at 2021-06-23 15:56:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (13.35ms)
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 0.8ms | Allocations: 4460)


Started GET "/auto-login" for ::1 at 2021-06-23 18:32:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (28.69ms)
Completed 200 OK in 89ms (Views: 33.5ms | ActiveRecord: 7.9ms | Allocations: 4974)


Started POST "/trades" for ::1 at 2021-06-23 18:32:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33530, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33530, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33530.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 22:32:13.687387"], ["updated_at", "2021-06-23 22:32:13.687387"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 200 OK in 32ms (Views: 0.7ms | ActiveRecord: 3.5ms | Allocations: 6696)


Started GET "/auto-login" for ::1 at 2021-06-23 18:41:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.63ms)
Completed 200 OK in 19ms (Views: 10.6ms | ActiveRecord: 2.0ms | Allocations: 5153)


Started POST "/trades" for ::1 at 2021-06-23 18:41:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33540, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33540, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
[31mUnpermitted parameter: :image[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33540.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 22:41:20.902645"], ["updated_at", "2021-06-23 22:41:20.902645"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[31mUnpermitted parameter: :image[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.87ms)
Completed 200 OK in 24ms (Views: 1.5ms | ActiveRecord: 3.0ms | Allocations: 6920)


  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/trades" for ::1 at 2021-06-23 18:42:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110711, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110711, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
[31mUnpermitted parameter: :image[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.110711], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["created_at", "2021-06-23 22:42:01.530735"], ["updated_at", "2021-06-23 22:42:01.530735"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
[31mUnpermitted parameter: :image[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 63ms (Views: 0.8ms | ActiveRecord: 2.4ms | Allocations: 7070)


  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/auto-login" for ::1 at 2021-06-23 18:42:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (66.26ms)
Completed 200 OK in 109ms (Views: 68.3ms | ActiveRecord: 5.7ms | Allocations: 23294)


Started POST "/trades" for ::1 at 2021-06-23 18:43:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.235201, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.235201, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.235201], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-23 22:43:02.292937"], ["updated_at", "2021-06-23 22:43:02.292937"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 26ms (Views: 1.0ms | ActiveRecord: 3.6ms | Allocations: 7897)


  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/auto-login" for ::1 at 2021-06-23 18:48:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (28.25ms)
Completed 200 OK in 32ms (Views: 27.6ms | ActiveRecord: 1.6ms | Allocations: 5704)


Started GET "/auto-login" for ::1 at 2021-06-23 18:48:38 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (9.71ms)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.5ms | Allocations: 5189)


Started GET "/auto-login" for ::1 at 2021-06-23 18:49:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (6.58ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 5189)


Started POST "/trades" for ::1 at 2021-06-23 18:49:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33581, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33581, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33581.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 22:49:53.104636"], ["updated_at", "2021-06-23 22:49:53.104636"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 200 OK in 21ms (Views: 0.9ms | ActiveRecord: 2.7ms | Allocations: 7391)


Started GET "/auto-login" for ::1 at 2021-06-23 18:50:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.06ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.6ms | Allocations: 5368)


Started POST "/trades" for ::1 at 2021-06-23 18:51:34 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33581, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33581, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33581.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 22:51:34.076767"], ["updated_at", "2021-06-23 22:51:34.076767"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 20ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 7537)


Started GET "/auto-login" for ::1 at 2021-06-23 18:52:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.53ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.6ms | Allocations: 5547)


Started POST "/trades" for ::1 at 2021-06-23 18:52:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110802, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110802, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.110802], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-23 22:52:29.754716"], ["updated_at", "2021-06-23 22:52:29.754716"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 200 OK in 24ms (Views: 0.6ms | ActiveRecord: 8.0ms | Allocations: 7720)


Started GET "/auto-login" for ::1 at 2021-06-23 18:54:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.84ms)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.7ms | Allocations: 5734)


Started GET "/auto-login" for ::1 at 2021-06-23 18:56:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.34ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 4.6ms | Allocations: 23015)


  
NameError (undefined local variable or method `image' for TradeSerializer:Class):
  
app/serializers/trade_serializer.rb:2:in `<class:TradeSerializer>'
app/serializers/trade_serializer.rb:1:in `<main>'
app/controllers/session_controller.rb:20:in `auto_login'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/login" for ::1 at 2021-06-23 18:56:48 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 254ms (Views: 0.6ms | ActiveRecord: 3.1ms | Allocations: 21865)


Started GET "/auto-login" for ::1 at 2021-06-23 18:57:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (88.94ms)
Completed 200 OK in 106ms (Views: 101.6ms | ActiveRecord: 0.7ms | Allocations: 8560)


Started POST "/trades" for ::1 at 2021-06-23 18:58:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110836, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110836, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.110836], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-23 22:58:06.965474"], ["updated_at", "2021-06-23 22:58:06.965474"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 200 OK in 30ms (Views: 0.9ms | ActiveRecord: 8.7ms | Allocations: 8433)


Started POST "/trades" for ::1 at 2021-06-23 18:58:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Chainlink", "coin_id"=>"chainlink", "price"=>18.08, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Chainlink", "coin_id"=>"chainlink", "price"=>18.08, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Chainlink"], ["coin_id", "chainlink"], ["price", 18.08], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700"], ["created_at", "2021-06-23 22:58:09.898205"], ["updated_at", "2021-06-23 22:58:09.898205"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 2.6ms | Allocations: 8070)


Started POST "/trades" for ::1 at 2021-06-23 18:58:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33573, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33573, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33573.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 22:58:18.135770"], ["updated_at", "2021-06-23 22:58:18.135770"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 33ms (Views: 0.9ms | ActiveRecord: 8.5ms | Allocations: 11375)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCoin Create (0.7ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["average_price", 56909.0], ["quantity", 90], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 23:02:59.387910"], ["updated_at", "2021-06-23 23:02:59.387910"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" ORDER BY "coins"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/1" for ::1 at 2021-06-23 19:05:28 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:55:in `set_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:55:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (37.35ms)
Completed 200 OK in 55ms (Views: 38.5ms | ActiveRecord: 1.3ms | Allocations: 23929)


Started GET "/users/1" for ::1 at 2021-06-23 19:06:13 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:55:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:55:in `set_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.3ms | Allocations: 8684)


  
NameError (undefined local variable or method `portfolios' for UserSerializer:Class):
  
app/serializers/user_serializer.rb:5:in `<class:UserSerializer>'
app/serializers/user_serializer.rb:1:in `<main>'
app/controllers/users_controller.rb:13:in `show'
Started GET "/users/1" for ::1 at 2021-06-23 19:06:28 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:55:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:55:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (62.8ms)
Completed 200 OK in 79ms (Views: 62.0ms | ActiveRecord: 4.2ms | Allocations: 33525)


Started GET "/users/1" for ::1 at 2021-06-23 19:06:30 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:55:in `set_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/users_controller.rb:13:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.74ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.6ms | Allocations: 7075)


Started GET "/auto-login" for ::1 at 2021-06-23 19:08:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (149.82ms)
Completed 200 OK in 184ms (Views: 148.1ms | ActiveRecord: 7.2ms | Allocations: 33541)


Started GET "/auto-login" for ::1 at 2021-06-23 19:14:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.13ms)
Completed 200 OK in 68ms (Views: 54.9ms | ActiveRecord: 1.9ms | Allocations: 8244)


Started GET "/auto-login" for ::1 at 2021-06-23 19:15:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (54.89ms)
Completed 200 OK in 66ms (Views: 58.7ms | ActiveRecord: 1.1ms | Allocations: 7705)


Started GET "/auto-login" for ::1 at 2021-06-23 19:18:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.9ms)
Completed 200 OK in 56ms (Views: 50.4ms | ActiveRecord: 0.8ms | Allocations: 7706)


Started GET "/auto-login" for ::1 at 2021-06-23 19:19:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.63ms)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 0.9ms | Allocations: 7705)


Started POST "/trades" for ::1 at 2021-06-23 19:20:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33399, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33399, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33399.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 23:20:32.114171"], ["updated_at", "2021-06-23 23:20:32.114171"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 200 OK in 28ms (Views: 0.9ms | ActiveRecord: 8.3ms | Allocations: 9183)


Started GET "/auto-login" for ::1 at 2021-06-23 19:21:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.14ms)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.9ms | Allocations: 7899)


Started POST "/trades" for ::1 at 2021-06-23 19:21:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33405, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33405, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33405.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-23 23:21:57.766036"], ["updated_at", "2021-06-23 23:21:57.766036"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 200 OK in 23ms (Views: 0.6ms | ActiveRecord: 2.5ms | Allocations: 8563)


Started GET "/auto-login" for ::1 at 2021-06-23 19:23:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.6ms)
Completed 200 OK in 26ms (Views: 23.4ms | ActiveRecord: 0.8ms | Allocations: 8093)


Started POST "/trades" for ::1 at 2021-06-23 19:23:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110962, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.110962, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.110962], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-23 23:23:56.831152"], ["updated_at", "2021-06-23 23:23:56.831152"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 23ms (Views: 0.7ms | ActiveRecord: 3.1ms | Allocations: 8746)


Started GET "/auto-login" for ::1 at 2021-06-23 19:24:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (16.71ms)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 0.9ms | Allocations: 8295)


Started POST "/trades" for ::1 at 2021-06-23 21:10:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33437, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33437, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33437.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:10:13.169192"], ["updated_at", "2021-06-24 01:10:13.169192"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 22ms (Views: 0.8ms | ActiveRecord: 4.1ms | Allocations: 9445)


Started GET "/auto-login" for ::1 at 2021-06-23 21:11:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (17.91ms)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 1.1ms | Allocations: 8514)


Started GET "/auto-login" for ::1 at 2021-06-23 21:16:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (127.69ms)
Completed 200 OK in 157ms (Views: 128.6ms | ActiveRecord: 6.4ms | Allocations: 37646)


Started GET "/auto-login" for ::1 at 2021-06-23 21:18:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.86ms)
Completed 200 OK in 27ms (Views: 22.6ms | ActiveRecord: 1.5ms | Allocations: 8489)


Started GET "/auto-login" for ::1 at 2021-06-23 21:18:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (17.69ms)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 1.2ms | Allocations: 8489)


Started GET "/auto-login" for ::1 at 2021-06-23 21:19:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (18.8ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.9ms | Allocations: 8489)


Started POST "/trades" for ::1 at 2021-06-23 21:19:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33331, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33331, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33331.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:19:55.704051"], ["updated_at", "2021-06-24 01:19:55.704051"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 200 OK in 21ms (Views: 1.3ms | ActiveRecord: 2.5ms | Allocations: 9744)


Started GET "/auto-login" for ::1 at 2021-06-23 21:21:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (15.21ms)
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.9ms | Allocations: 8683)


Started GET "/auto-login" for ::1 at 2021-06-23 21:24:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (17.16ms)
Completed 200 OK in 35ms (Views: 17.0ms | ActiveRecord: 0.9ms | Allocations: 8684)


Started GET "/auto-login" for ::1 at 2021-06-23 21:31:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (30.55ms)
Completed 200 OK in 37ms (Views: 30.1ms | ActiveRecord: 1.9ms | Allocations: 9222)


Started GET "/auto-login" for ::1 at 2021-06-23 21:31:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (19.31ms)
Completed 200 OK in 23ms (Views: 19.3ms | ActiveRecord: 0.9ms | Allocations: 8684)


Started GET "/auto-login" for ::1 at 2021-06-23 21:31:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (19.81ms)
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 1.4ms | Allocations: 8683)


Started GET "/auto-login" for ::1 at 2021-06-23 21:32:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (16.34ms)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.7ms | Allocations: 8683)


Started GET "/auto-login" for ::1 at 2021-06-23 21:32:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (21.77ms)
Completed 200 OK in 27ms (Views: 21.6ms | ActiveRecord: 2.5ms | Allocations: 8683)


Started GET "/auto-login" for ::1 at 2021-06-23 21:32:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (20.8ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 0.9ms | Allocations: 8683)


Started GET "/auto-login" for ::1 at 2021-06-23 21:33:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (43.13ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.9ms | Allocations: 8684)


Started GET "/auto-login" for ::1 at 2021-06-23 21:35:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (19.24ms)
Completed 200 OK in 23ms (Views: 19.4ms | ActiveRecord: 0.9ms | Allocations: 8683)


Started POST "/trades" for ::1 at 2021-06-23 21:36:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33265, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33265, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33265.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:36:01.948773"], ["updated_at", "2021-06-24 01:36:01.948773"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 200 OK in 22ms (Views: 0.7ms | ActiveRecord: 3.6ms | Allocations: 9260)


Started GET "/auto-login" for ::1 at 2021-06-23 21:38:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (134.29ms)
Completed 200 OK in 187ms (Views: 145.4ms | ActiveRecord: 8.5ms | Allocations: 34746)


Started POST "/trades" for ::1 at 2021-06-23 21:38:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33237, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>33237, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 33237.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:38:11.379476"], ["updated_at", "2021-06-24 01:38:11.379476"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 200 OK in 26ms (Views: 1.1ms | ActiveRecord: 3.1ms | Allocations: 11027)


Started POST "/trades" for ::1 at 2021-06-23 21:38:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>202.9, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>202.9, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 202.9], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 01:38:35.787822"], ["updated_at", "2021-06-24 01:38:35.787822"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.38ms)
Completed 200 OK in 22ms (Views: 1.1ms | ActiveRecord: 2.9ms | Allocations: 10536)


Started GET "/auto-login" for ::1 at 2021-06-23 21:44:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (1.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (72.61ms)
Completed 200 OK in 80ms (Views: 71.5ms | ActiveRecord: 2.8ms | Allocations: 9813)


Started POST "/trades" for ::1 at 2021-06-23 21:44:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32942, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32942, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32942.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:44:21.377999"], ["updated_at", "2021-06-24 01:44:21.377999"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 3.8ms | Allocations: 10716)


Started GET "/auto-login" for ::1 at 2021-06-23 21:47:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.06ms)
Completed 200 OK in 26ms (Views: 21.8ms | ActiveRecord: 1.0ms | Allocations: 9467)


Started GET "/auto-login" for ::1 at 2021-06-23 21:52:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (19.77ms)
Completed 200 OK in 24ms (Views: 19.6ms | ActiveRecord: 1.1ms | Allocations: 9467)


Started POST "/trades" for ::1 at 2021-06-23 21:53:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32729, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32729, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32729.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 01:53:47.368561"], ["updated_at", "2021-06-24 01:53:47.368561"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 200 OK in 30ms (Views: 0.7ms | ActiveRecord: 5.4ms | Allocations: 10862)


Started POST "/trades" for ::1 at 2021-06-23 21:53:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>287.14, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>287.14, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["price", 287.14], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 01:53:50.739125"], ["updated_at", "2021-06-24 01:53:50.739125"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.53ms)
Completed 200 OK in 84ms (Views: 1.5ms | ActiveRecord: 13.9ms | Allocations: 11046)


Started GET "/auto-login" for ::1 at 2021-06-23 21:58:23 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (18.75ms)
Completed 200 OK in 23ms (Views: 19.0ms | ActiveRecord: 1.3ms | Allocations: 9863)


Started GET "/auto-login" for ::1 at 2021-06-23 22:01:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.43ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 0.9ms | Allocations: 9863)


Started GET "/auto-login" for ::1 at 2021-06-23 22:01:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (18.02ms)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.9ms | Allocations: 9863)


Started GET "/auto-login" for ::1 at 2021-06-23 22:01:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (25.59ms)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.9ms | Allocations: 9863)


Started POST "/trades" for ::1 at 2021-06-23 22:02:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.5, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.5, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.5], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:02:00.811369"], ["updated_at", "2021-06-24 02:02:00.811369"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.36ms)
Completed 200 OK in 28ms (Views: 0.8ms | ActiveRecord: 5.2ms | Allocations: 11220)


Started POST "/trades" for ::1 at 2021-06-23 22:02:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32706, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32706, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32706.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:02:04.846901"], ["updated_at", "2021-06-24 02:02:04.846901"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:22:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 200 OK in 31ms (Views: 1.2ms | ActiveRecord: 4.7ms | Allocations: 11380)


Started GET "/auto-login" for ::1 at 2021-06-23 22:02:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (21.9ms)
Completed 200 OK in 26ms (Views: 21.7ms | ActiveRecord: 1.0ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:12:49 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.65ms)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 1.6ms | Allocations: 10798)


Started GET "/auto-login" for ::1 at 2021-06-23 22:13:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.79ms)
Completed 200 OK in 30ms (Views: 24.3ms | ActiveRecord: 1.2ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:13:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.77ms)
Completed 200 OK in 43ms (Views: 38.9ms | ActiveRecord: 1.1ms | Allocations: 10260)


Started GET "/auto-login" for ::1 at 2021-06-23 22:13:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (26.23ms)
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 0.9ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:20:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (16.93ms)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 1.4ms | Allocations: 10798)


Started GET "/auto-login" for ::1 at 2021-06-23 22:20:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.45ms)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 2.0ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:24:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (20.29ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 1.0ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:24:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.45ms)
Completed 200 OK in 27ms (Views: 23.3ms | ActiveRecord: 0.9ms | Allocations: 10259)


Started GET "/auto-login" for ::1 at 2021-06-23 22:26:26 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.12ms)
Completed 200 OK in 52ms (Views: 47.5ms | ActiveRecord: 1.6ms | Allocations: 10260)


Started GET "/auto-login" for ::1 at 2021-06-23 22:35:50 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (170.37ms)
Completed 200 OK in 207ms (Views: 176.5ms | ActiveRecord: 2.3ms | Allocations: 34158)


Started POST "/trades" for ::1 at 2021-06-23 22:35:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1902.33, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1902.33, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["price", 1902.33], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 02:35:54.215318"], ["updated_at", "2021-06-24 02:35:54.215318"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mCoin Create (1.0ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["average_price", 1902.33], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 02:35:54.227195"], ["updated_at", "2021-06-24 02:35:54.227195"]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 200 OK in 40ms (Views: 1.2ms | ActiveRecord: 6.5ms | Allocations: 16552)


Started POST "/trades" for ::1 at 2021-06-23 22:36:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:36:09.946030"], ["updated_at", "2021-06-24 02:36:09.946030"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mCoin Create (1.1ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["average_price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:36:09.960394"], ["updated_at", "2021-06-24 02:36:09.960394"]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 200 OK in 46ms (Views: 0.8ms | ActiveRecord: 6.9ms | Allocations: 15784)


Started POST "/trades" for ::1 at 2021-06-23 22:36:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:36:13.267606"], ["updated_at", "2021-06-24 02:36:13.267606"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mCoin Create (0.8ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["average_price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:36:13.278023"], ["updated_at", "2021-06-24 02:36:13.278023"]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 200 OK in 49ms (Views: 1.0ms | ActiveRecord: 5.4ms | Allocations: 16136)


Started POST "/trades" for ::1 at 2021-06-23 22:36:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:36:20.486460"], ["updated_at", "2021-06-24 02:36:20.486460"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["average_price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:36:20.506412"], ["updated_at", "2021-06-24 02:36:20.506412"]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 200 OK in 51ms (Views: 0.9ms | ActiveRecord: 12.2ms | Allocations: 19747)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE (btc) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? ORDER BY "coins"."id" DESC LIMIT ?[0m  [["portfolio_id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "dd"], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dd"]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
Started POST "/trades" for ::1 at 2021-06-23 22:48:23 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:48:23.221664"], ["updated_at", "2021-06-24 02:48:23.221664"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 63ms (ActiveRecord: 3.6ms | Allocations: 27984)


  [1m[36mCACHE Coin Load (0.0ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"], ["LIMIT", 11]]
  
NoMethodError (undefined method `quantity' for #<Coin::ActiveRecord_AssociationRelation:0x00007fbf6b40a2b8>):
  
app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE Coin Load (0.0ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"], ["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ? /* loading for inspect */ LIMIT ?[0m  [["portfolio_id", 1], ["coin_id", "btc"], ["LIMIT", 11]]
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
Started POST "/trades" for ::1 at 2021-06-23 22:53:04 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:53:04.515319"], ["updated_at", "2021-06-24 02:53:04.515319"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.45ms)
Completed 200 OK in 79ms (Views: 1.0ms | ActiveRecord: 7.4ms | Allocations: 41886)


Started POST "/trades" for ::1 at 2021-06-23 22:53:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "tether"], ["price", 0.997613], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 02:53:23.698032"], ["updated_at", "2021-06-24 02:53:23.698032"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "tether"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "tether"], ["average_price", 0.997613], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 02:53:23.715657"], ["updated_at", "2021-06-24 02:53:23.715657"]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.53ms)
Completed 200 OK in 47ms (Views: 0.9ms | ActiveRecord: 6.8ms | Allocations: 19363)


Started POST "/trades" for ::1 at 2021-06-23 22:53:34 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "tether"], ["price", 0.997613], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 02:53:34.517947"], ["updated_at", "2021-06-24 02:53:34.517947"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "tether"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "tether"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.54ms)
Completed 200 OK in 46ms (Views: 1.0ms | ActiveRecord: 3.9ms | Allocations: 15865)


Started POST "/trades" for ::1 at 2021-06-23 22:54:11 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"tether", "price"=>0.997613, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "tether"], ["price", 0.997613], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 02:54:11.721958"], ["updated_at", "2021-06-24 02:54:11.721958"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "tether"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "tether"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:11.742584"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 200 OK in 80ms (Views: 0.9ms | ActiveRecord: 8.5ms | Allocations: 42885)


Started POST "/trades" for ::1 at 2021-06-23 22:54:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>284.57, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>284.57, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["price", 284.57], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 02:54:16.892953"], ["updated_at", "2021-06-24 02:54:16.892953"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "binancecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["average_price", 284.57], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 02:54:16.917566"], ["updated_at", "2021-06-24 02:54:16.917566"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.65ms)
Completed 200 OK in 52ms (Views: 1.1ms | ActiveRecord: 11.3ms | Allocations: 19798)


Started POST "/trades" for ::1 at 2021-06-23 22:54:17 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>284.57, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"binancecoin", "price"=>284.57, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "binancecoin"], ["price", 284.57], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 02:54:17.735377"], ["updated_at", "2021-06-24 02:54:17.735377"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "binancecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "binancecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:17.749135"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.9ms)
Completed 200 OK in 57ms (Views: 1.5ms | ActiveRecord: 8.2ms | Allocations: 18868)


Started POST "/trades" for ::1 at 2021-06-23 22:54:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:25.155878"], ["updated_at", "2021-06-24 02:54:25.155878"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:25.185688"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 88ms (Views: 1.1ms | ActiveRecord: 6.0ms | Allocations: 22335)


Started POST "/trades" for ::1 at 2021-06-23 22:54:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:26.451179"], ["updated_at", "2021-06-24 02:54:26.451179"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:54:26.463933"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.6ms)
Completed 200 OK in 42ms (Views: 1.0ms | ActiveRecord: 5.9ms | Allocations: 19215)


Started POST "/trades" for ::1 at 2021-06-23 22:54:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:26.959740"], ["updated_at", "2021-06-24 02:54:26.959740"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:54:26.979372"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 60ms (Views: 13.0ms | ActiveRecord: 11.1ms | Allocations: 19406)


Started POST "/trades" for ::1 at 2021-06-23 22:54:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:27.531200"], ["updated_at", "2021-06-24 02:54:27.531200"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:54:27.546266"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.92ms)
Completed 200 OK in 60ms (Views: 1.4ms | ActiveRecord: 6.5ms | Allocations: 22859)


Started POST "/trades" for ::1 at 2021-06-23 22:54:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:28.094601"], ["updated_at", "2021-06-24 02:54:28.094601"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 02:54:28.111099"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.67ms)
Completed 200 OK in 50ms (Views: 1.2ms | ActiveRecord: 6.0ms | Allocations: 23034)


Started POST "/trades" for ::1 at 2021-06-23 22:54:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:28.657080"], ["updated_at", "2021-06-24 02:54:28.657080"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 02:54:28.677082"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.6ms)
Completed 200 OK in 65ms (Views: 1.3ms | ActiveRecord: 6.7ms | Allocations: 19916)


Started POST "/trades" for ::1 at 2021-06-23 22:54:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:29.179024"], ["updated_at", "2021-06-24 02:54:29.179024"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 02:54:29.193597"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.64ms)
Completed 200 OK in 46ms (Views: 1.0ms | ActiveRecord: 7.8ms | Allocations: 20090)


Started POST "/trades" for ::1 at 2021-06-23 22:54:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:29.622185"], ["updated_at", "2021-06-24 02:54:29.622185"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 02:54:29.645859"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.94ms)
Completed 200 OK in 65ms (Views: 1.6ms | ActiveRecord: 5.9ms | Allocations: 20265)


Started POST "/trades" for ::1 at 2021-06-23 22:54:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:30.008466"], ["updated_at", "2021-06-24 02:54:30.008466"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 02:54:30.037418"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.9ms)
Completed 200 OK in 84ms (Views: 2.5ms | ActiveRecord: 8.6ms | Allocations: 22539)


Started POST "/trades" for ::1 at 2021-06-23 22:54:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:30.428489"], ["updated_at", "2021-06-24 02:54:30.428489"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 02:54:30.440057"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.74ms)
Completed 200 OK in 46ms (Views: 1.1ms | ActiveRecord: 6.1ms | Allocations: 20615)


Started POST "/trades" for ::1 at 2021-06-23 22:54:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (2.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:31.215588"], ["updated_at", "2021-06-24 02:54:31.215588"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 02:54:31.231762"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.77ms)
Completed 200 OK in 59ms (Views: 1.2ms | ActiveRecord: 7.9ms | Allocations: 20791)


Started POST "/trades" for ::1 at 2021-06-23 22:54:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:31.802188"], ["updated_at", "2021-06-24 02:54:31.802188"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 02:54:31.816934"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 48ms (Views: 1.6ms | ActiveRecord: 7.3ms | Allocations: 20968)


Started POST "/trades" for ::1 at 2021-06-23 22:54:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:32.490175"], ["updated_at", "2021-06-24 02:54:32.490175"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 02:54:32.520359"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 72ms (Views: 1.6ms | ActiveRecord: 11.6ms | Allocations: 21140)


Started POST "/trades" for ::1 at 2021-06-23 22:54:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:32.791266"], ["updated_at", "2021-06-24 02:54:32.791266"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 02:54:32.805038"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.86ms)
Completed 200 OK in 45ms (Views: 1.3ms | ActiveRecord: 6.1ms | Allocations: 21316)


Started POST "/trades" for ::1 at 2021-06-23 22:54:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:33.037696"], ["updated_at", "2021-06-24 02:54:33.037696"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 02:54:33.050549"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.06ms)
Completed 200 OK in 48ms (Views: 1.7ms | ActiveRecord: 5.3ms | Allocations: 24784)


Started POST "/trades" for ::1 at 2021-06-23 22:54:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:36.897788"], ["updated_at", "2021-06-24 02:54:36.897788"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["average_price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:36.919278"], ["updated_at", "2021-06-24 02:54:36.919278"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.71ms)
Completed 200 OK in 62ms (Views: 1.1ms | ActiveRecord: 11.6ms | Allocations: 22779)


Started POST "/trades" for ::1 at 2021-06-23 22:54:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:37.419096"], ["updated_at", "2021-06-24 02:54:37.419096"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:37.432202"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.75ms)
Completed 200 OK in 48ms (Views: 1.2ms | ActiveRecord: 5.5ms | Allocations: 22015)


Started POST "/trades" for ::1 at 2021-06-23 22:54:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:39.410185"], ["updated_at", "2021-06-24 02:54:39.410185"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:39.428999"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.78ms)
Completed 200 OK in 61ms (Views: 1.2ms | ActiveRecord: 11.3ms | Allocations: 22191)


Started POST "/trades" for ::1 at 2021-06-23 22:54:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:39.977783"], ["updated_at", "2021-06-24 02:54:39.977783"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:54:39.991778"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 67ms (Views: 1.6ms | ActiveRecord: 6.2ms | Allocations: 22365)


Started POST "/trades" for ::1 at 2021-06-23 22:54:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:44.318091"], ["updated_at", "2021-06-24 02:54:44.318091"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["average_price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:44.340636"], ["updated_at", "2021-06-24 02:54:44.340636"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.8ms)
Completed 200 OK in 85ms (Views: 1.4ms | ActiveRecord: 11.1ms | Allocations: 23653)


Started POST "/trades" for ::1 at 2021-06-23 22:54:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:44.706610"], ["updated_at", "2021-06-24 02:54:44.706610"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:44.723877"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.85ms)
Completed 200 OK in 49ms (Views: 1.3ms | ActiveRecord: 11.1ms | Allocations: 22891)


Started POST "/trades" for ::1 at 2021-06-23 22:54:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:44.901717"], ["updated_at", "2021-06-24 02:54:44.901717"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:54:44.919746"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.77ms)
Completed 200 OK in 53ms (Views: 1.2ms | ActiveRecord: 5.7ms | Allocations: 26359)


Started POST "/trades" for ::1 at 2021-06-23 22:54:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:45.077276"], ["updated_at", "2021-06-24 02:54:45.077276"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:54:45.103510"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.6ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.76ms)
Completed 200 OK in 99ms (Views: 1.3ms | ActiveRecord: 21.0ms | Allocations: 29728)


Started POST "/trades" for ::1 at 2021-06-23 22:54:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 02:54:45.281035"], ["updated_at", "2021-06-24 02:54:45.281035"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:54:45.304608"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.86ms)
Completed 200 OK in 137ms (Views: 2.8ms | ActiveRecord: 12.0ms | Allocations: 26709)


Started POST "/trades" for ::1 at 2021-06-23 22:54:48 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:48.889038"], ["updated_at", "2021-06-24 02:54:48.889038"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 02:54:48.908147"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 62ms (Views: 1.5ms | ActiveRecord: 11.5ms | Allocations: 23591)


Started POST "/trades" for ::1 at 2021-06-23 22:54:49 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:49.545936"], ["updated_at", "2021-06-24 02:54:49.545936"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:54:49.563977"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.87ms)
Completed 200 OK in 53ms (Views: 1.3ms | ActiveRecord: 6.1ms | Allocations: 27059)


Started POST "/trades" for ::1 at 2021-06-23 22:54:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"NEM", "coin_id"=>"nem", "price"=>0.106597, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "NEM"], ["coin_id", "nem"], ["price", 0.106597], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/242/large/NEM_Logo_256x256.png?1598687029"], ["created_at", "2021-06-24 02:54:50.052723"], ["updated_at", "2021-06-24 02:54:50.052723"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "nem"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 02:54:50.072491"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 66ms (Views: 1.6ms | ActiveRecord: 8.1ms | Allocations: 27236)


Started POST "/trades" for ::1 at 2021-06-23 22:54:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:51.620329"], ["updated_at", "2021-06-24 02:54:51.620329"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:54:51.636916"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.89ms)
Completed 200 OK in 59ms (Views: 1.3ms | ActiveRecord: 6.4ms | Allocations: 27409)


Started POST "/trades" for ::1 at 2021-06-23 22:54:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:52.131104"], ["updated_at", "2021-06-24 02:54:52.131104"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:54:52.151399"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.85ms)
Completed 200 OK in 63ms (Views: 1.3ms | ActiveRecord: 11.3ms | Allocations: 24291)


Started POST "/trades" for ::1 at 2021-06-23 22:54:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:54:52.654639"], ["updated_at", "2021-06-24 02:54:52.654639"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 02:54:52.675034"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 56ms (Views: 1.7ms | ActiveRecord: 12.2ms | Allocations: 24465)


Started POST "/trades" for ::1 at 2021-06-23 22:54:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:53.397124"], ["updated_at", "2021-06-24 02:54:53.397124"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.2ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:54:53.409149"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.52ms)
Completed 200 OK in 76ms (Views: 2.1ms | ActiveRecord: 7.4ms | Allocations: 24641)


Started POST "/trades" for ::1 at 2021-06-23 22:54:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:53.878348"], ["updated_at", "2021-06-24 02:54:53.878348"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:54:53.897274"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.89ms)
Completed 200 OK in 53ms (Views: 1.3ms | ActiveRecord: 11.3ms | Allocations: 24815)


Started POST "/trades" for ::1 at 2021-06-23 22:54:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.246196, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.246196, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "stellar"], ["price", 0.246196], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"], ["created_at", "2021-06-24 02:54:55.071102"], ["updated_at", "2021-06-24 02:54:55.071102"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "stellar"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "stellar"], ["average_price", 0.246196], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"], ["created_at", "2021-06-24 02:54:55.089813"], ["updated_at", "2021-06-24 02:54:55.089813"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.92ms)
Completed 200 OK in 69ms (Views: 1.5ms | ActiveRecord: 6.6ms | Allocations: 26105)


Started POST "/trades" for ::1 at 2021-06-23 22:54:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:54:55.609043"], ["updated_at", "2021-06-24 02:54:55.609043"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["average_price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:54:55.625526"], ["updated_at", "2021-06-24 02:54:55.625526"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.13ms)
Completed 200 OK in 59ms (Views: 1.7ms | ActiveRecord: 5.7ms | Allocations: 29747)


Started POST "/trades" for ::1 at 2021-06-23 22:54:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:55.976121"], ["updated_at", "2021-06-24 02:54:55.976121"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 02:54:55.989557"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.96ms)
Completed 200 OK in 56ms (Views: 1.4ms | ActiveRecord: 6.7ms | Allocations: 25691)


Started POST "/trades" for ::1 at 2021-06-23 22:54:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:54:56.621049"], ["updated_at", "2021-06-24 02:54:56.621049"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 02:54:56.635518"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.34ms)
Completed 200 OK in 55ms (Views: 1.9ms | ActiveRecord: 6.6ms | Allocations: 29159)


Started POST "/trades" for ::1 at 2021-06-23 22:54:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:54:57.303816"], ["updated_at", "2021-06-24 02:54:57.303816"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:57.336115"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 85ms (Views: 3.1ms | ActiveRecord: 11.2ms | Allocations: 29335)


Started POST "/trades" for ::1 at 2021-06-23 22:54:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.246196, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Stellar", "coin_id"=>"stellar", "price"=>0.246196, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "stellar"], ["price", 0.246196], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"], ["created_at", "2021-06-24 02:54:58.039904"], ["updated_at", "2021-06-24 02:54:58.039904"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "stellar"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "stellar"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:54:58.054980"], ["id", 10]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 64ms (Views: 1.9ms | ActiveRecord: 8.5ms | Allocations: 26215)


Started POST "/trades" for ::1 at 2021-06-23 22:54:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:54:58.681797"], ["updated_at", "2021-06-24 02:54:58.681797"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:54:58.704748"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 62ms (Views: 1.5ms | ActiveRecord: 5.9ms | Allocations: 26391)


Started POST "/trades" for ::1 at 2021-06-23 22:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:55:00.040823"], ["updated_at", "2021-06-24 02:55:00.040823"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:55:00.055263"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.61ms)
Completed 200 OK in 77ms (Views: 7.2ms | ActiveRecord: 6.9ms | Allocations: 26565)


Started POST "/trades" for ::1 at 2021-06-23 22:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"OKB", "coin_id"=>"okb", "price"=>9.44, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "OKB"], ["coin_id", "okb"], ["price", 9.44], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/4463/large/okb_token.png?1548386209"], ["created_at", "2021-06-24 02:55:00.327973"], ["updated_at", "2021-06-24 02:55:00.327973"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "okb"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:55:00.350735"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 64ms (Views: 1.5ms | ActiveRecord: 11.6ms | Allocations: 30035)


Started POST "/trades" for ::1 at 2021-06-23 22:55:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:55:21.109503"], ["updated_at", "2021-06-24 02:55:21.109503"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 02:55:21.124593"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 61ms (Views: 1.5ms | ActiveRecord: 8.0ms | Allocations: 26892)


Started POST "/trades" for ::1 at 2021-06-23 22:55:49 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:49.671413"], ["updated_at", "2021-06-24 02:55:49.671413"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 02:55:49.683400"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 47ms (Views: 1.7ms | ActiveRecord: 5.8ms | Allocations: 27082)


Started POST "/trades" for ::1 at 2021-06-23 22:55:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:50.560603"], ["updated_at", "2021-06-24 02:55:50.560603"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 02:55:50.586296"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.06ms)
Completed 200 OK in 76ms (Views: 1.6ms | ActiveRecord: 11.4ms | Allocations: 30552)


Started POST "/trades" for ::1 at 2021-06-23 22:55:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:51.067864"], ["updated_at", "2021-06-24 02:55:51.067864"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 02:55:51.082270"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.07ms)
Completed 200 OK in 76ms (Views: 1.5ms | ActiveRecord: 7.3ms | Allocations: 30726)


Started POST "/trades" for ::1 at 2021-06-23 22:55:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:51.549912"], ["updated_at", "2021-06-24 02:55:51.549912"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 02:55:51.582570"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 70ms (Views: 1.7ms | ActiveRecord: 11.7ms | Allocations: 30902)


Started POST "/trades" for ::1 at 2021-06-23 22:55:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:51.767043"], ["updated_at", "2021-06-24 02:55:51.767043"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 02:55:51.781826"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.47ms)
Completed 200 OK in 72ms (Views: 2.1ms | ActiveRecord: 6.6ms | Allocations: 31077)


Started POST "/trades" for ::1 at 2021-06-23 22:55:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:51.961937"], ["updated_at", "2021-06-24 02:55:51.961937"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 02:55:51.989887"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 108ms (Views: 1.7ms | ActiveRecord: 12.5ms | Allocations: 31254)


Started POST "/trades" for ::1 at 2021-06-23 22:55:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:52.174906"], ["updated_at", "2021-06-24 02:55:52.174906"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 02:55:52.211312"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 109ms (Views: 1.7ms | ActiveRecord: 11.7ms | Allocations: 31427)


Started POST "/trades" for ::1 at 2021-06-23 22:55:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:52.359352"], ["updated_at", "2021-06-24 02:55:52.359352"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (1.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 02:55:52.419561"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 117ms (Views: 1.9ms | ActiveRecord: 16.2ms | Allocations: 31601)


Started POST "/trades" for ::1 at 2021-06-23 22:55:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:52.559692"], ["updated_at", "2021-06-24 02:55:52.559692"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 02:55:52.583488"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 100ms (Views: 1.4ms | ActiveRecord: 12.2ms | Allocations: 31777)


Started POST "/trades" for ::1 at 2021-06-23 22:55:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:52.733258"], ["updated_at", "2021-06-24 02:55:52.733258"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 02:55:52.761479"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 118ms (Views: 1.8ms | ActiveRecord: 12.9ms | Allocations: 35144)


Started POST "/trades" for ::1 at 2021-06-23 22:55:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Aave", "coin_id"=>"aave", "price"=>194.88, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Aave"], ["coin_id", "aave"], ["price", 194.88], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12645/large/AAVE.png?1601374110"], ["created_at", "2021-06-24 02:55:52.919241"], ["updated_at", "2021-06-24 02:55:52.919241"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "aave"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 02:55:52.945723"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.42ms)
Completed 200 OK in 89ms (Views: 2.0ms | ActiveRecord: 12.4ms | Allocations: 32127)


Started POST "/trades" for ::1 at 2021-06-23 22:55:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:55:56.109826"], ["updated_at", "2021-06-24 02:55:56.109826"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (3.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 02:55:56.133653"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 68ms (Views: 1.6ms | ActiveRecord: 14.7ms | Allocations: 32277)


Started POST "/trades" for ::1 at 2021-06-23 22:55:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:55:56.632798"], ["updated_at", "2021-06-24 02:55:56.632798"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.2ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 02:55:56.648126"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 71ms (Views: 1.8ms | ActiveRecord: 6.5ms | Allocations: 32445)


Started POST "/trades" for ::1 at 2021-06-23 22:55:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:55:56.983213"], ["updated_at", "2021-06-24 02:55:56.983213"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 02:55:57.002976"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.68ms)
Completed 200 OK in 85ms (Views: 2.2ms | ActiveRecord: 13.7ms | Allocations: 29317)


Started POST "/trades" for ::1 at 2021-06-23 22:57:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:06.776527"], ["updated_at", "2021-06-24 02:57:06.776527"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 02:57:06.797084"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 77ms (Views: 1.9ms | ActiveRecord: 12.1ms | Allocations: 29509)


Started POST "/trades" for ::1 at 2021-06-23 22:57:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:07.777580"], ["updated_at", "2021-06-24 02:57:07.777580"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 02:57:07.797747"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.37ms)
Completed 200 OK in 63ms (Views: 2.0ms | ActiveRecord: 12.2ms | Allocations: 29683)


Started POST "/trades" for ::1 at 2021-06-23 22:57:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:08.253006"], ["updated_at", "2021-06-24 02:57:08.253006"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 02:57:08.273216"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.23ms)
Completed 200 OK in 82ms (Views: 2.2ms | ActiveRecord: 12.4ms | Allocations: 33153)


Started POST "/trades" for ::1 at 2021-06-23 22:57:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:08.603161"], ["updated_at", "2021-06-24 02:57:08.603161"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 02:57:08.619617"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 60ms (Views: 1.7ms | ActiveRecord: 8.0ms | Allocations: 30033)


Started POST "/trades" for ::1 at 2021-06-23 22:57:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:08.950813"], ["updated_at", "2021-06-24 02:57:08.950813"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 02:57:08.962926"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 59ms (Views: 1.5ms | ActiveRecord: 5.4ms | Allocations: 30209)


Started POST "/trades" for ::1 at 2021-06-23 22:57:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:09.250351"], ["updated_at", "2021-06-24 02:57:09.250351"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 02:57:09.266155"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 62ms (Views: 1.8ms | ActiveRecord: 5.9ms | Allocations: 33677)


Started POST "/trades" for ::1 at 2021-06-23 22:57:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cosmos", "coin_id"=>"cosmos", "price"=>9.12, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cosmos"], ["coin_id", "cosmos"], ["price", 9.12], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png?1555657960"], ["created_at", "2021-06-24 02:57:09.569434"], ["updated_at", "2021-06-24 02:57:09.569434"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "cosmos"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 02:57:09.589333"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 71ms (Views: 1.6ms | ActiveRecord: 12.1ms | Allocations: 30560)


Started POST "/trades" for ::1 at 2021-06-23 22:57:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:57:12.138554"], ["updated_at", "2021-06-24 02:57:12.138554"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 02:57:12.158640"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 62ms (Views: 1.8ms | ActiveRecord: 11.3ms | Allocations: 30709)


Started POST "/trades" for ::1 at 2021-06-23 22:57:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:57:12.829990"], ["updated_at", "2021-06-24 02:57:12.829990"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 02:57:12.850223"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 71ms (Views: 1.8ms | ActiveRecord: 11.6ms | Allocations: 30877)


Started POST "/trades" for ::1 at 2021-06-23 22:57:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"bitcoin", "price"=>32635, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "bitcoin"], ["price", 32635.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 02:57:13.078794"], ["updated_at", "2021-06-24 02:57:13.078794"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bitcoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 02:57:13.101859"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.3ms)
Completed 200 OK in 64ms (Views: 1.7ms | ActiveRecord: 13.0ms | Allocations: 34337)


Started POST "/trades" for ::1 at 2021-06-24 07:07:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:07:13.434028"], ["updated_at", "2021-06-24 11:07:13.434028"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 11:07:13.450500"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 70ms (Views: 2.5ms | ActiveRecord: 7.7ms | Allocations: 31848)


Started POST "/trades" for ::1 at 2021-06-24 07:07:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"dogecoin", "price"=>0.225665, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "dogecoin"], ["price", 0.225665], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:07:30.329850"], ["updated_at", "2021-06-24 11:07:30.329850"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dogecoin"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 11:07:30.349228"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 68ms (Views: 1.7ms | ActiveRecord: 11.6ms | Allocations: 31410)


Started GET "/auto-login" for ::1 at 2021-06-24 07:23:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.62ms)
Completed 200 OK in 57ms (Views: 50.5ms | ActiveRecord: 2.0ms | Allocations: 29833)


Started POST "/trades" for ::1 at 2021-06-24 07:25:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1946.74, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1946.74, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["price", 1946.74], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 11:25:58.285358"], ["updated_at", "2021-06-24 11:25:58.285358"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ethereum"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ethereum"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 11:25:58.297773"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 59ms (Views: 1.6ms | ActiveRecord: 5.9ms | Allocations: 31652)


Started POST "/trades" for ::1 at 2021-06-24 07:26:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1946.74, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"ethereum", "price"=>1946.74, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (2.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "ethereum"], ["price", 1946.74], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 11:26:05.741967"], ["updated_at", "2021-06-24 11:26:05.741967"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ethereum"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ethereum"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 11:26:05.754649"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.07ms)
Completed 200 OK in 50ms (Views: 1.4ms | ActiveRecord: 7.5ms | Allocations: 31759)


Started GET "/auto-login" for ::1 at 2021-06-24 07:28:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.35ms)
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 1.1ms | Allocations: 28215)


Started GET "/auto-login" for ::1 at 2021-06-24 07:28:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (39.64ms)
Completed 200 OK in 44ms (Views: 39.9ms | ActiveRecord: 1.1ms | Allocations: 28214)


Started GET "/auto-login" for ::1 at 2021-06-24 07:28:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (65.65ms)
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 1.5ms | Allocations: 28215)


Started GET "/auto-login" for ::1 at 2021-06-24 07:31:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (56.97ms)
Completed 200 OK in 60ms (Views: 56.9ms | ActiveRecord: 1.3ms | Allocations: 28214)


Started GET "/auto-login" for ::1 at 2021-06-24 07:31:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (42.09ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 1.1ms | Allocations: 28215)


Started POST "/trades" for ::1 at 2021-06-24 07:35:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.35, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.35, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.35], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 11:35:35.503320"], ["updated_at", "2021-06-24 11:35:35.503320"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["average_price", 1.35], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 11:35:35.520818"], ["updated_at", "2021-06-24 11:35:35.520818"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.2ms)
Completed 200 OK in 86ms (Views: 2.8ms | ActiveRecord: 15.8ms | Allocations: 33047)


Started POST "/trades" for ::1 at 2021-06-24 07:35:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:35:41.211489"], ["updated_at", "2021-06-24 11:35:41.211489"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["average_price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:35:41.237748"], ["updated_at", "2021-06-24 11:35:41.237748"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 62ms (Views: 1.5ms | ActiveRecord: 10.2ms | Allocations: 33399)


Started POST "/trades" for ::1 at 2021-06-24 07:36:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:36:04.685918"], ["updated_at", "2021-06-24 11:36:04.685918"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 11:36:04.700066"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 58ms (Views: 1.6ms | ActiveRecord: 7.4ms | Allocations: 32635)


Started POST "/trades" for ::1 at 2021-06-24 07:36:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:36:05.326478"], ["updated_at", "2021-06-24 11:36:05.326478"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 11:36:05.338961"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (17.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.53ms)
Completed 200 OK in 142ms (Views: 2.8ms | ActiveRecord: 23.0ms | Allocations: 34284)


Started POST "/trades" for ::1 at 2021-06-24 07:36:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:36:05.743564"], ["updated_at", "2021-06-24 11:36:05.743564"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 11:36:05.761733"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 54ms (Views: 1.6ms | ActiveRecord: 11.1ms | Allocations: 32985)


Started POST "/trades" for ::1 at 2021-06-24 07:36:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:36:06.153375"], ["updated_at", "2021-06-24 11:36:06.153375"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 11:36:06.170329"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 62ms (Views: 1.6ms | ActiveRecord: 10.9ms | Allocations: 33160)


Started POST "/trades" for ::1 at 2021-06-24 07:36:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237654, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237654], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:36:06.604982"], ["updated_at", "2021-06-24 11:36:06.604982"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 11:36:06.617268"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 50ms (Views: 1.5ms | ActiveRecord: 5.8ms | Allocations: 33334)


Started POST "/trades" for ::1 at 2021-06-24 07:36:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 11:36:09.218955"], ["updated_at", "2021-06-24 11:36:09.218955"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (2.0ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["average_price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 11:36:09.245699"], ["updated_at", "2021-06-24 11:36:09.245699"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 86ms (Views: 1.6ms | ActiveRecord: 7.7ms | Allocations: 34591)


Started GET "/auto-login" for ::1 at 2021-06-24 07:39:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.25ms)
Completed 200 OK in 43ms (Views: 39.7ms | ActiveRecord: 1.2ms | Allocations: 30318)


Started POST "/trades" for ::1 at 2021-06-24 07:41:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:02.119969"], ["updated_at", "2021-06-24 11:41:02.119969"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 11:41:02.137101"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 63ms (Views: 1.7ms | ActiveRecord: 11.1ms | Allocations: 33844)


Started POST "/trades" for ::1 at 2021-06-24 07:41:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:03.074244"], ["updated_at", "2021-06-24 11:41:03.074244"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 11:41:03.091638"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 54ms (Views: 1.6ms | ActiveRecord: 10.7ms | Allocations: 34018)


Started POST "/trades" for ::1 at 2021-06-24 07:41:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:03.685638"], ["updated_at", "2021-06-24 11:41:03.685638"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 11:41:03.701310"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 61ms (Views: 2.1ms | ActiveRecord: 9.5ms | Allocations: 35203)


Started POST "/trades" for ::1 at 2021-06-24 07:41:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:04.250603"], ["updated_at", "2021-06-24 11:41:04.250603"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (2.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 11:41:04.262311"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 52ms (Views: 1.5ms | ActiveRecord: 7.3ms | Allocations: 37662)


Started POST "/trades" for ::1 at 2021-06-24 07:41:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:04.779777"], ["updated_at", "2021-06-24 11:41:04.779777"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 11:41:04.803662"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.23ms)
Completed 200 OK in 61ms (Views: 1.6ms | ActiveRecord: 5.5ms | Allocations: 37838)


Started POST "/trades" for ::1 at 2021-06-24 07:41:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:05.246493"], ["updated_at", "2021-06-24 11:41:05.246493"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 11:41:05.267675"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 85ms (Views: 1.7ms | ActiveRecord: 19.6ms | Allocations: 38013)


Started POST "/trades" for ::1 at 2021-06-24 07:41:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:05.995167"], ["updated_at", "2021-06-24 11:41:05.995167"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 11:41:06.009226"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 56ms (Views: 1.7ms | ActiveRecord: 7.6ms | Allocations: 34893)


Started POST "/trades" for ::1 at 2021-06-24 07:41:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:06.267356"], ["updated_at", "2021-06-24 11:41:06.267356"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 11:41:06.280743"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 84ms (Views: 1.9ms | ActiveRecord: 7.3ms | Allocations: 38363)


Started POST "/trades" for ::1 at 2021-06-24 07:41:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:06.510858"], ["updated_at", "2021-06-24 11:41:06.510858"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 11:41:06.530088"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 64ms (Views: 1.6ms | ActiveRecord: 5.7ms | Allocations: 38537)


Started POST "/trades" for ::1 at 2021-06-24 07:41:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23892, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23892], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 11:41:06.740393"], ["updated_at", "2021-06-24 11:41:06.740393"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 11:41:06.762575"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 67ms (Views: 1.6ms | ActiveRecord: 10.9ms | Allocations: 38713)


Started POST "/trades" for ::1 at 2021-06-24 07:41:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 11:41:11.367248"], ["updated_at", "2021-06-24 11:41:11.367248"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 91], ["updated_at", "2021-06-24 11:41:11.378830"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 56ms (Views: 1.6ms | ActiveRecord: 5.2ms | Allocations: 35574)


Started POST "/trades" for ::1 at 2021-06-24 07:41:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 11:41:12.393847"], ["updated_at", "2021-06-24 11:41:12.393847"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 92], ["updated_at", "2021-06-24 11:41:12.417396"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.32ms)
Completed 200 OK in 64ms (Views: 1.7ms | ActiveRecord: 17.4ms | Allocations: 35737)


Started POST "/trades" for ::1 at 2021-06-24 07:41:17 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 11:41:17.186456"], ["updated_at", "2021-06-24 11:41:17.186456"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 93], ["updated_at", "2021-06-24 11:41:17.198762"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.3ms)
Completed 200 OK in 59ms (Views: 1.6ms | ActiveRecord: 5.8ms | Allocations: 35904)


Started POST "/trades" for ::1 at 2021-06-24 07:42:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 11:42:22.762983"], ["updated_at", "2021-06-24 11:42:22.762983"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 94], ["updated_at", "2021-06-24 11:42:22.775056"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 60ms (Views: 1.6ms | ActiveRecord: 5.2ms | Allocations: 36071)


Started POST "/trades" for ::1 at 2021-06-24 07:51:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 11:51:32.796044"], ["updated_at", "2021-06-24 11:51:32.796044"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 95], ["updated_at", "2021-06-24 11:51:32.807900"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.97ms)
Completed 200 OK in 72ms (Views: 2.6ms | ActiveRecord: 6.5ms | Allocations: 36847)


Started POST "/trades" for ::1 at 2021-06-24 08:47:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:18.046684"], ["updated_at", "2021-06-24 12:47:18.046684"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 12:47:18.060192"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 55ms (Views: 1.6ms | ActiveRecord: 7.4ms | Allocations: 37015)


Started POST "/trades" for ::1 at 2021-06-24 08:47:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:18.812642"], ["updated_at", "2021-06-24 12:47:18.812642"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 12:47:18.826373"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 65ms (Views: 1.7ms | ActiveRecord: 10.0ms | Allocations: 38577)


Started POST "/trades" for ::1 at 2021-06-24 08:47:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:19.069025"], ["updated_at", "2021-06-24 12:47:19.069025"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 12:47:19.081268"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.6ms)
Completed 200 OK in 59ms (Views: 2.0ms | ActiveRecord: 6.3ms | Allocations: 40033)


Started POST "/trades" for ::1 at 2021-06-24 08:47:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:19.257466"], ["updated_at", "2021-06-24 12:47:19.257466"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 12:47:19.273207"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 75ms (Views: 1.8ms | ActiveRecord: 10.6ms | Allocations: 40202)


Started POST "/trades" for ::1 at 2021-06-24 08:47:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:19.451445"], ["updated_at", "2021-06-24 12:47:19.451445"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (9.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 12:47:19.485607"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.61ms)
Completed 200 OK in 96ms (Views: 2.0ms | ActiveRecord: 16.5ms | Allocations: 40367)


Started POST "/trades" for ::1 at 2021-06-24 08:47:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:19.646196"], ["updated_at", "2021-06-24 12:47:19.646196"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 12:47:19.663580"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.52ms)
Completed 200 OK in 81ms (Views: 2.3ms | ActiveRecord: 6.1ms | Allocations: 39066)


Started POST "/trades" for ::1 at 2021-06-24 08:47:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:19.833079"], ["updated_at", "2021-06-24 12:47:19.833079"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 12:47:19.863677"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.43ms)
Completed 200 OK in 98ms (Views: 1.9ms | ActiveRecord: 12.2ms | Allocations: 40874)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.014043"], ["updated_at", "2021-06-24 12:47:20.014043"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 12:47:20.032623"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.6ms)
Completed 200 OK in 94ms (Views: 5.0ms | ActiveRecord: 10.5ms | Allocations: 38617)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.204517"], ["updated_at", "2021-06-24 12:47:20.204517"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 12:47:20.220558"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (4.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.82ms)
Completed 200 OK in 108ms (Views: 2.9ms | ActiveRecord: 9.4ms | Allocations: 39961)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.375735"], ["updated_at", "2021-06-24 12:47:20.375735"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (3.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 12:47:20.411196"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.7ms)
Completed 200 OK in 100ms (Views: 3.4ms | ActiveRecord: 13.8ms | Allocations: 41649)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.558206"], ["updated_at", "2021-06-24 12:47:20.558206"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 12:47:20.576521"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 70ms (Views: 2.9ms | ActiveRecord: 6.9ms | Allocations: 38089)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.729333"], ["updated_at", "2021-06-24 12:47:20.729333"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 12:47:20.754590"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.37ms)
Completed 200 OK in 75ms (Views: 1.7ms | ActiveRecord: 10.8ms | Allocations: 41709)


Started POST "/trades" for ::1 at 2021-06-24 08:47:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:20.904772"], ["updated_at", "2021-06-24 12:47:20.904772"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 12:47:20.917085"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 59ms (Views: 2.0ms | ActiveRecord: 5.6ms | Allocations: 38436)


Started POST "/trades" for ::1 at 2021-06-24 08:47:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:21.082063"], ["updated_at", "2021-06-24 12:47:21.082063"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 12:47:21.109087"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 83ms (Views: 1.8ms | ActiveRecord: 9.6ms | Allocations: 41870)


Started POST "/trades" for ::1 at 2021-06-24 08:47:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 12:47:21.276151"], ["updated_at", "2021-06-24 12:47:21.276151"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 12:47:21.319438"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.48ms)
Completed 200 OK in 98ms (Views: 1.9ms | ActiveRecord: 13.5ms | Allocations: 42040)


Started POST "/trades" for ::1 at 2021-06-24 08:47:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1952.07, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1952.07, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1952.07], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 12:47:23.823227"], ["updated_at", "2021-06-24 12:47:23.823227"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["average_price", 1952.07], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 12:47:23.837043"], ["updated_at", "2021-06-24 12:47:23.837043"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.54ms)
Completed 200 OK in 54ms (Views: 1.9ms | ActiveRecord: 5.6ms | Allocations: 43340)


Started POST "/trades" for ::1 at 2021-06-24 08:47:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (3.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:24.406499"], ["updated_at", "2021-06-24 12:47:24.406499"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 96], ["updated_at", "2021-06-24 12:47:24.428215"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 68ms (Views: 1.8ms | ActiveRecord: 8.3ms | Allocations: 41774)


Started POST "/trades" for ::1 at 2021-06-24 08:47:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:24.818943"], ["updated_at", "2021-06-24 12:47:24.818943"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 97], ["updated_at", "2021-06-24 12:47:24.835288"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.47ms)
Completed 200 OK in 63ms (Views: 1.8ms | ActiveRecord: 11.0ms | Allocations: 39427)


Started POST "/trades" for ::1 at 2021-06-24 08:47:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:25.049437"], ["updated_at", "2021-06-24 12:47:25.049437"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 98], ["updated_at", "2021-06-24 12:47:25.059411"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 52ms (Views: 1.9ms | ActiveRecord: 5.8ms | Allocations: 42887)


Started POST "/trades" for ::1 at 2021-06-24 08:47:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:25.259172"], ["updated_at", "2021-06-24 12:47:25.259172"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 99], ["updated_at", "2021-06-24 12:47:25.276935"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.42ms)
Completed 200 OK in 69ms (Views: 1.7ms | ActiveRecord: 10.6ms | Allocations: 43058)


Started POST "/trades" for ::1 at 2021-06-24 08:47:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:25.469467"], ["updated_at", "2021-06-24 12:47:25.469467"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 100], ["updated_at", "2021-06-24 12:47:25.494538"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.47ms)
Completed 200 OK in 85ms (Views: 2.0ms | ActiveRecord: 10.6ms | Allocations: 43222)


Started POST "/trades" for ::1 at 2021-06-24 08:47:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:26.013649"], ["updated_at", "2021-06-24 12:47:26.013649"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 101], ["updated_at", "2021-06-24 12:47:26.025125"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 58ms (Views: 2.4ms | ActiveRecord: 5.6ms | Allocations: 43857)


Started POST "/trades" for ::1 at 2021-06-24 08:47:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:27.056421"], ["updated_at", "2021-06-24 12:47:27.056421"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 102], ["updated_at", "2021-06-24 12:47:27.067822"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 59ms (Views: 1.8ms | ActiveRecord: 5.5ms | Allocations: 40262)


Started POST "/trades" for ::1 at 2021-06-24 08:47:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33621, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33621.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:47:27.483939"], ["updated_at", "2021-06-24 12:47:27.483939"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 103], ["updated_at", "2021-06-24 12:47:27.496786"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.44ms)
Completed 200 OK in 64ms (Views: 1.8ms | ActiveRecord: 6.0ms | Allocations: 40429)


Started GET "/auto-login" for ::1 at 2021-06-24 08:50:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (178.17ms)
Completed 200 OK in 205ms (Views: 178.0ms | ActiveRecord: 6.6ms | Allocations: 64028)


Started POST "/trades" for ::1 at 2021-06-24 08:50:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:50:20.359615"], ["updated_at", "2021-06-24 12:50:20.359615"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 104], ["updated_at", "2021-06-24 12:50:20.374601"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 77ms (Views: 2.3ms | ActiveRecord: 7.7ms | Allocations: 41730)


Started POST "/trades" for ::1 at 2021-06-24 08:50:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:26.196136"], ["updated_at", "2021-06-24 12:50:26.196136"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["average_price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:26.223135"], ["updated_at", "2021-06-24 12:50:26.223135"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.71ms)
Completed 200 OK in 90ms (Views: 2.1ms | ActiveRecord: 10.9ms | Allocations: 42071)


Started POST "/trades" for ::1 at 2021-06-24 08:50:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.240077], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 12:50:27.574551"], ["updated_at", "2021-06-24 12:50:27.574551"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 12:50:27.605113"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.73ms)
Completed 200 OK in 135ms (Views: 3.4ms | ActiveRecord: 8.2ms | Allocations: 45416)


Started POST "/trades" for ::1 at 2021-06-24 08:50:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.240077], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 12:50:29.197860"], ["updated_at", "2021-06-24 12:50:29.197860"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 12:50:29.216046"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (3.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.97ms)
Completed 200 OK in 76ms (Views: 2.5ms | ActiveRecord: 9.1ms | Allocations: 41384)


Started POST "/trades" for ::1 at 2021-06-24 08:50:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.240077, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.240077], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 12:50:30.487484"], ["updated_at", "2021-06-24 12:50:30.487484"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-24 12:50:30.525389"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.9ms)
Completed 200 OK in 85ms (Views: 2.4ms | ActiveRecord: 6.4ms | Allocations: 41560)


Started POST "/trades" for ::1 at 2021-06-24 08:50:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:36.189229"], ["updated_at", "2021-06-24 12:50:36.189229"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 12:50:36.202834"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.03ms)
Completed 200 OK in 69ms (Views: 2.4ms | ActiveRecord: 7.0ms | Allocations: 41735)


Started POST "/trades" for ::1 at 2021-06-24 08:50:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:37.120980"], ["updated_at", "2021-06-24 12:50:37.120980"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 12:50:37.152031"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.01ms)
Completed 200 OK in 98ms (Views: 8.4ms | ActiveRecord: 17.0ms | Allocations: 45203)


Started POST "/trades" for ::1 at 2021-06-24 08:50:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:37.810272"], ["updated_at", "2021-06-24 12:50:37.810272"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 12:50:37.833651"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.95ms)
Completed 200 OK in 115ms (Views: 2.4ms | ActiveRecord: 12.0ms | Allocations: 42085)


Started POST "/trades" for ::1 at 2021-06-24 08:50:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:38.230161"], ["updated_at", "2021-06-24 12:50:38.230161"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 12:50:38.247751"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.84ms)
Completed 200 OK in 74ms (Views: 2.3ms | ActiveRecord: 11.6ms | Allocations: 42260)


Started POST "/trades" for ::1 at 2021-06-24 08:50:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:38.575932"], ["updated_at", "2021-06-24 12:50:38.575932"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (1.1ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 12:50:38.590888"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.71ms)
Completed 200 OK in 61ms (Views: 2.1ms | ActiveRecord: 6.5ms | Allocations: 42434)


Started POST "/trades" for ::1 at 2021-06-24 08:50:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:38.897494"], ["updated_at", "2021-06-24 12:50:38.897494"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 12:50:38.926055"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.71ms)
Completed 200 OK in 78ms (Views: 2.1ms | ActiveRecord: 11.7ms | Allocations: 42610)


Started POST "/trades" for ::1 at 2021-06-24 08:50:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:39.195827"], ["updated_at", "2021-06-24 12:50:39.195827"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 12:50:39.210965"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.69ms)
Completed 200 OK in 74ms (Views: 2.1ms | ActiveRecord: 7.5ms | Allocations: 46079)


Started POST "/trades" for ::1 at 2021-06-24 08:50:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:39.494809"], ["updated_at", "2021-06-24 12:50:39.494809"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 12:50:39.509133"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.79ms)
Completed 200 OK in 68ms (Views: 2.2ms | ActiveRecord: 6.3ms | Allocations: 46253)


Started POST "/trades" for ::1 at 2021-06-24 08:50:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:39.724498"], ["updated_at", "2021-06-24 12:50:39.724498"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 12:50:39.738731"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.76ms)
Completed 200 OK in 65ms (Views: 2.2ms | ActiveRecord: 7.0ms | Allocations: 46429)


Started POST "/trades" for ::1 at 2021-06-24 08:50:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:39.965678"], ["updated_at", "2021-06-24 12:50:39.965678"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 12:50:39.987898"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.78ms)
Completed 200 OK in 79ms (Views: 2.2ms | ActiveRecord: 11.6ms | Allocations: 46604)


Started POST "/trades" for ::1 at 2021-06-24 08:50:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:40.208726"], ["updated_at", "2021-06-24 12:50:40.208726"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (2.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 12:50:40.220429"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.99ms)
Completed 200 OK in 82ms (Views: 3.1ms | ActiveRecord: 7.9ms | Allocations: 44481)


Started POST "/trades" for ::1 at 2021-06-24 08:50:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:40.402915"], ["updated_at", "2021-06-24 12:50:40.402915"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 12:50:40.424191"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.52ms)
Completed 200 OK in 90ms (Views: 3.3ms | ActiveRecord: 16.9ms | Allocations: 46953)


Started POST "/trades" for ::1 at 2021-06-24 08:50:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.653671, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.653671], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 12:50:40.622130"], ["updated_at", "2021-06-24 12:50:40.622130"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 12:50:40.646263"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 97ms (Views: 2.6ms | ActiveRecord: 9.1ms | Allocations: 47129)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? /* loading for inspect */ LIMIT ?[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
Started POST "/trades" for ::1 at 2021-06-24 08:57:38 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:38.334374"], ["updated_at", "2021-06-24 12:57:38.334374"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 966026.0], ["updated_at", "2021-06-24 12:57:38.356231"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 105], ["updated_at", "2021-06-24 12:57:38.376506"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.83ms)
Completed 200 OK in 147ms (Views: 2.4ms | ActiveRecord: 10.2ms | Allocations: 68788)


Started POST "/trades" for ::1 at 2021-06-24 08:57:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:43.139794"], ["updated_at", "2021-06-24 12:57:43.139794"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 932052.0], ["updated_at", "2021-06-24 12:57:43.151471"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 106], ["updated_at", "2021-06-24 12:57:43.161891"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.88ms)
Completed 200 OK in 80ms (Views: 2.3ms | ActiveRecord: 8.2ms | Allocations: 46776)


Started POST "/trades" for ::1 at 2021-06-24 08:57:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:46.293027"], ["updated_at", "2021-06-24 12:57:46.293027"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 898078.0], ["updated_at", "2021-06-24 12:57:46.310578"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 107], ["updated_at", "2021-06-24 12:57:46.327902"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (3.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.85ms)
Completed 200 OK in 121ms (Views: 2.3ms | ActiveRecord: 11.9ms | Allocations: 46942)


Started POST "/trades" for ::1 at 2021-06-24 08:57:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:46.534725"], ["updated_at", "2021-06-24 12:57:46.534725"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 864104.0], ["updated_at", "2021-06-24 12:57:46.548288"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 108], ["updated_at", "2021-06-24 12:57:46.567183"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.12ms)
Completed 200 OK in 111ms (Views: 2.5ms | ActiveRecord: 11.8ms | Allocations: 50403)


Started POST "/trades" for ::1 at 2021-06-24 08:57:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:46.798631"], ["updated_at", "2021-06-24 12:57:46.798631"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 830130.0], ["updated_at", "2021-06-24 12:57:46.819437"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.7ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 109], ["updated_at", "2021-06-24 12:57:46.834860"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.83ms)
Completed 200 OK in 99ms (Views: 2.3ms | ActiveRecord: 10.3ms | Allocations: 50570)


Started POST "/trades" for ::1 at 2021-06-24 08:57:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:47.016438"], ["updated_at", "2021-06-24 12:57:47.016438"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 796156.0], ["updated_at", "2021-06-24 12:57:47.038782"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 110], ["updated_at", "2021-06-24 12:57:47.056128"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.99ms)
Completed 200 OK in 114ms (Views: 2.4ms | ActiveRecord: 10.6ms | Allocations: 50737)


Started POST "/trades" for ::1 at 2021-06-24 08:57:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:47.189303"], ["updated_at", "2021-06-24 12:57:47.189303"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 762182.0], ["updated_at", "2021-06-24 12:57:47.207641"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 111], ["updated_at", "2021-06-24 12:57:47.219140"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.88ms)
Completed 200 OK in 136ms (Views: 2.6ms | ActiveRecord: 11.8ms | Allocations: 50961)


Started POST "/trades" for ::1 at 2021-06-24 08:57:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:47.374446"], ["updated_at", "2021-06-24 12:57:47.374446"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 728208.0], ["updated_at", "2021-06-24 12:57:47.394543"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 112], ["updated_at", "2021-06-24 12:57:47.406837"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.96ms)
Completed 200 OK in 113ms (Views: 2.5ms | ActiveRecord: 10.4ms | Allocations: 47973)


Started POST "/trades" for ::1 at 2021-06-24 08:57:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:57:59.503628"], ["updated_at", "2021-06-24 12:57:59.503628"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 694234.0], ["updated_at", "2021-06-24 12:57:59.525779"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 113], ["updated_at", "2021-06-24 12:57:59.552468"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 122ms (Views: 3.6ms | ActiveRecord: 13.7ms | Allocations: 49084)


Started POST "/trades" for ::1 at 2021-06-24 08:58:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:00.385058"], ["updated_at", "2021-06-24 12:58:00.385058"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 660260.0], ["updated_at", "2021-06-24 12:58:00.409804"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 114], ["updated_at", "2021-06-24 12:58:00.438336"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.88ms)
Completed 200 OK in 117ms (Views: 2.5ms | ActiveRecord: 26.1ms | Allocations: 48114)


Started POST "/trades" for ::1 at 2021-06-24 08:58:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:01.780709"], ["updated_at", "2021-06-24 12:58:01.780709"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 626286.0], ["updated_at", "2021-06-24 12:58:01.793041"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 115], ["updated_at", "2021-06-24 12:58:01.804790"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 84ms (Views: 2.8ms | ActiveRecord: 8.3ms | Allocations: 48279)


Started POST "/trades" for ::1 at 2021-06-24 08:58:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:01.992424"], ["updated_at", "2021-06-24 12:58:01.992424"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 592312.0], ["updated_at", "2021-06-24 12:58:02.020911"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 116], ["updated_at", "2021-06-24 12:58:02.032028"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.2ms)
Completed 200 OK in 104ms (Views: 2.6ms | ActiveRecord: 14.1ms | Allocations: 51912)


Started POST "/trades" for ::1 at 2021-06-24 08:58:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:02.222214"], ["updated_at", "2021-06-24 12:58:02.222214"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (1.3ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 558338.0], ["updated_at", "2021-06-24 12:58:02.245848"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (2.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 117], ["updated_at", "2021-06-24 12:58:02.273706"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (3.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 171ms (Views: 3.2ms | ActiveRecord: 14.3ms | Allocations: 53006)


Started POST "/trades" for ::1 at 2021-06-24 08:58:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:02.441085"], ["updated_at", "2021-06-24 12:58:02.441085"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 524364.0], ["updated_at", "2021-06-24 12:58:02.467152"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 118], ["updated_at", "2021-06-24 12:58:02.485761"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.82ms)
Completed 200 OK in 123ms (Views: 5.2ms | ActiveRecord: 9.9ms | Allocations: 54024)


Started POST "/trades" for ::1 at 2021-06-24 08:58:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 12:58:02.621631"], ["updated_at", "2021-06-24 12:58:02.621631"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 490390.0], ["updated_at", "2021-06-24 12:58:02.649860"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 119], ["updated_at", "2021-06-24 12:58:02.666783"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.84ms)
Completed 200 OK in 112ms (Views: 2.2ms | ActiveRecord: 8.9ms | Allocations: 52448)


Started POST "/trades" for ::1 at 2021-06-24 09:07:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33974, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33974.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:07:33.848932"], ["updated_at", "2021-06-24 13:07:33.848932"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 456416.0], ["updated_at", "2021-06-24 13:07:33.861343"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 120], ["updated_at", "2021-06-24 13:07:33.874028"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.82ms)
Completed 200 OK in 78ms (Views: 2.2ms | ActiveRecord: 10.8ms | Allocations: 49744)


Started GET "/auto-login" for ::1 at 2021-06-24 09:09:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (153.94ms)
Completed 200 OK in 176ms (Views: 151.2ms | ActiveRecord: 7.1ms | Allocations: 70896)


Started POST "/trades" for ::1 at 2021-06-24 09:09:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34054, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34054, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34054.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:09:51.454107"], ["updated_at", "2021-06-24 13:09:51.454107"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.5ms | Allocations: 7132)


  
NoMethodError (undefined method `-' for nil:NilClass):
  
app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 100000.0], ["updated_at", "2021-06-24 13:10:20.695663"], ["id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auto-login" for ::1 at 2021-06-24 09:10:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (102.59ms)
Completed 200 OK in 107ms (Views: 101.5ms | ActiveRecord: 2.1ms | Allocations: 45239)


Started POST "/trades" for ::1 at 2021-06-24 09:10:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34054, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34054, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34054.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:10:31.254968"], ["updated_at", "2021-06-24 13:10:31.254968"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 65946.0], ["updated_at", "2021-06-24 13:10:31.267740"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 121], ["updated_at", "2021-06-24 13:10:31.279265"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.92ms)
Completed 200 OK in 91ms (Views: 2.4ms | ActiveRecord: 8.6ms | Allocations: 50013)


Started GET "/auto-login" for ::1 at 2021-06-24 09:10:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (3.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (212.32ms)
Completed 200 OK in 218ms (Views: 211.1ms | ActiveRecord: 4.2ms | Allocations: 45434)


Started GET "/auto-login" for ::1 at 2021-06-24 09:11:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (59.64ms)
Completed 200 OK in 63ms (Views: 58.7ms | ActiveRecord: 1.8ms | Allocations: 45433)


Started POST "/trades" for ::1 at 2021-06-24 09:11:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34045, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34045, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34045.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:11:42.098996"], ["updated_at", "2021-06-24 13:11:42.098996"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 31901.0], ["updated_at", "2021-06-24 13:11:42.110025"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 122], ["updated_at", "2021-06-24 13:11:42.119750"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.92ms)
Completed 200 OK in 80ms (Views: 2.3ms | ActiveRecord: 8.4ms | Allocations: 49629)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "initial_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["initial_balance", 100000.0], ["updated_at", "2021-06-24 13:13:57.880403"], ["id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/login" for ::1 at 2021-06-24 09:14:34 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.99ms)
Completed 200 OK in 330ms (Views: 5.8ms | ActiveRecord: 3.5ms | Allocations: 71568)


Started GET "/auto-login" for ::1 at 2021-06-24 09:15:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (81.24ms)
Completed 200 OK in 120ms (Views: 108.1ms | ActiveRecord: 2.3ms | Allocations: 49094)


Started GET "/auto-login" for ::1 at 2021-06-24 09:24:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (84.17ms)
Completed 200 OK in 91ms (Views: 82.6ms | ActiveRecord: 3.1ms | Allocations: 46189)


Started POST "/trades" for ::1 at 2021-06-24 09:25:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238836, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238836, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238836], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 13:25:25.881017"], ["updated_at", "2021-06-24 13:25:25.881017"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 31900.761164], ["updated_at", "2021-06-24 13:25:25.893993"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-24 13:25:25.905319"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.01ms)
Completed 200 OK in 78ms (Views: 2.5ms | ActiveRecord: 9.0ms | Allocations: 51336)


Started GET "/auto-login" for ::1 at 2021-06-24 09:26:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (50.22ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 1.2ms | Allocations: 45837)


Started POST "/trades" for ::1 at 2021-06-24 09:27:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33901, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33901, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33901.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:27:20.143364"], ["updated_at", "2021-06-24 13:27:20.143364"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -2000.238836], ["updated_at", "2021-06-24 13:27:20.163849"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 123], ["updated_at", "2021-06-24 13:27:20.174044"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.84ms)
Completed 200 OK in 75ms (Views: 2.2ms | ActiveRecord: 7.8ms | Allocations: 50008)


Started POST "/trades" for ::1 at 2021-06-24 09:27:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.651133, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.651133, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.651133], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 13:27:28.105897"], ["updated_at", "2021-06-24 13:27:28.105897"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -2000.889969], ["updated_at", "2021-06-24 13:27:28.118352"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 13:27:28.127982"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.02ms)
Completed 200 OK in 78ms (Views: 2.4ms | ActiveRecord: 9.3ms | Allocations: 50207)


Started POST "/trades" for ::1 at 2021-06-24 09:27:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-24 13:27:28.505308"], ["updated_at", "2021-06-24 13:27:28.505308"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -2001.889969], ["updated_at", "2021-06-24 13:27:28.525658"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 13:27:28.536517"], ["id", 14]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.94ms)
Completed 200 OK in 84ms (Views: 2.3ms | ActiveRecord: 17.6ms | Allocations: 50345)


Started POST "/trades" for ::1 at 2021-06-24 09:27:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.07, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.07, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.07], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-24 13:27:29.038074"], ["updated_at", "2021-06-24 13:27:29.038074"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["average_price", 16.07], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-24 13:27:29.057790"], ["updated_at", "2021-06-24 13:27:29.057790"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.37ms)
Completed 200 OK in 100ms (Views: 2.8ms | ActiveRecord: 10.5ms | Allocations: 49822)


Started POST "/trades" for ::1 at 2021-06-24 09:27:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin Cash", "coin_id"=>"bch", "price"=>488.77, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png?1594689492", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin Cash", "coin_id"=>"bch", "price"=>488.77, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png?1594689492"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin Cash"], ["coin_id", "bch"], ["price", 488.77], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png?1594689492"], ["created_at", "2021-06-24 13:27:29.333078"], ["updated_at", "2021-06-24 13:27:29.333078"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bch"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin Cash"], ["coin_id", "bch"], ["average_price", 488.77], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png?1594689492"], ["created_at", "2021-06-24 13:27:29.351174"], ["updated_at", "2021-06-24 13:27:29.351174"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.03ms)
Completed 200 OK in 72ms (Views: 2.4ms | ActiveRecord: 7.3ms | Allocations: 53265)


Started POST "/trades" for ::1 at 2021-06-24 09:27:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33901, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33901, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33901.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:27:35.041874"], ["updated_at", "2021-06-24 13:27:35.041874"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -35902.889969], ["updated_at", "2021-06-24 13:27:35.053325"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 124], ["updated_at", "2021-06-24 13:27:35.062479"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.89ms)
Completed 200 OK in 74ms (Views: 2.2ms | ActiveRecord: 8.0ms | Allocations: 51216)


Started GET "/auto-login" for ::1 at 2021-06-24 09:32:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.7ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (214.97ms)
Completed 200 OK in 278ms (Views: 213.5ms | ActiveRecord: 9.1ms | Allocations: 76507)


Started POST "/trades" for ::1 at 2021-06-24 09:32:58 -0400
  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:30: Invalid break):
  
app/controllers/trades_controller.rb:30: Invalid break
app/controllers/trades_controller.rb:30: Invalid break
app/controllers/trades_controller.rb
Started GET "/auto-login" for ::1 at 2021-06-24 09:34:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (188.38ms)
Completed 200 OK in 210ms (Views: 186.4ms | ActiveRecord: 7.0ms | Allocations: 73192)


Started POST "/trades" for ::1 at 2021-06-24 09:34:05 -0400
  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:30: Invalid break):
  
app/controllers/trades_controller.rb:30: Invalid break
app/controllers/trades_controller.rb:30: Invalid break
app/controllers/trades_controller.rb
Started GET "/auto-login" for ::1 at 2021-06-24 09:34:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (156.89ms)
Completed 200 OK in 177ms (Views: 154.4ms | ActiveRecord: 5.9ms | Allocations: 73233)


Started POST "/trades" for ::1 at 2021-06-24 09:34:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:34:51.806406"], ["updated_at", "2021-06-24 13:34:51.806406"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:26:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
Completed 500 Internal Server Error in 77ms (Views: 0.9ms | ActiveRecord: 4.4ms | Allocations: 51014)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/trades_controller.rb:42:in `create'
Started POST "/trades" for ::1 at 2021-06-24 09:41:51 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237507, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237507, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237507], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 13:41:51.108198"], ["updated_at", "2021-06-24 13:41:51.108198"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -35903.127476], ["updated_at", "2021-06-24 13:41:51.127875"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-24 13:41:51.141883"], ["id", 13]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 155ms (Views: 2.8ms | ActiveRecord: 7.3ms | Allocations: 73789)


Started POST "/trades" for ::1 at 2021-06-24 09:42:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:42:01.746980"], ["updated_at", "2021-06-24 13:42:01.746980"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -69849.127476], ["updated_at", "2021-06-24 13:42:01.766078"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 125], ["updated_at", "2021-06-24 13:42:01.776969"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.06ms)
Completed 200 OK in 82ms (Views: 2.4ms | ActiveRecord: 14.0ms | Allocations: 51723)


Started POST "/trades" for ::1 at 2021-06-24 09:42:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:42:06.385279"], ["updated_at", "2021-06-24 13:42:06.385279"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", -103795.127476], ["updated_at", "2021-06-24 13:42:06.399418"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:29:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 126], ["updated_at", "2021-06-24 13:42:06.409520"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.16ms)
Completed 200 OK in 75ms (Views: 2.5ms | ActiveRecord: 9.2ms | Allocations: 51890)


Started POST "/trades" for ::1 at 2021-06-24 09:42:35 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:42:35.236985"], ["updated_at", "2021-06-24 13:42:35.236985"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.19ms)
Completed 200 OK in 98ms (Views: 2.8ms | ActiveRecord: 6.1ms | Allocations: 72480)


Started POST "/trades" for ::1 at 2021-06-24 09:42:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:42:42.006394"], ["updated_at", "2021-06-24 13:42:42.006394"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 69ms (Views: 2.6ms | ActiveRecord: 6.2ms | Allocations: 48014)


Started POST "/trades" for ::1 at 2021-06-24 09:42:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:42:51.045263"], ["updated_at", "2021-06-24 13:42:51.045263"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.18ms)
Completed 200 OK in 70ms (Views: 2.7ms | ActiveRecord: 14.3ms | Allocations: 48181)


Started POST "/trades" for ::1 at 2021-06-24 09:43:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:43:03.253490"], ["updated_at", "2021-06-24 13:43:03.253490"]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:23:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:31:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 73ms (Views: 2.6ms | ActiveRecord: 4.4ms | Allocations: 48348)


Started POST "/trades" for ::1 at 2021-06-24 09:50:48 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:50:49.065633"], ["updated_at", "2021-06-24 13:50:49.065633"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.07ms)
Completed 422 Unprocessable Entity in 43ms (Views: 0.8ms | ActiveRecord: 4.7ms | Allocations: 22015)


Started POST "/trades" for ::1 at 2021-06-24 09:51:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:51:00.708954"], ["updated_at", "2021-06-24 13:51:00.708954"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 20ms (Views: 1.0ms | ActiveRecord: 3.3ms | Allocations: 5608)


Started POST "/trades" for ::1 at 2021-06-24 09:54:53 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:53.436465"], ["updated_at", "2021-06-24 13:54:53.436465"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 66ms (Views: 1.1ms | ActiveRecord: 8.3ms | Allocations: 26703)


Started POST "/trades" for ::1 at 2021-06-24 09:54:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:55.025286"], ["updated_at", "2021-06-24 13:54:55.025286"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 16ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 5603)


Started POST "/trades" for ::1 at 2021-06-24 09:54:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:55.805990"], ["updated_at", "2021-06-24 13:54:55.805990"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 20ms (Views: 0.5ms | ActiveRecord: 7.7ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:57.061255"], ["updated_at", "2021-06-24 13:54:57.061255"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 20ms (Views: 0.6ms | ActiveRecord: 7.7ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:57.818212"], ["updated_at", "2021-06-24 13:54:57.818212"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 24ms (Views: 0.5ms | ActiveRecord: 2.9ms | Allocations: 5603)


Started POST "/trades" for ::1 at 2021-06-24 09:54:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:58.629112"], ["updated_at", "2021-06-24 13:54:58.629112"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 22ms (Views: 0.6ms | ActiveRecord: 7.6ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:59.057929"], ["updated_at", "2021-06-24 13:54:59.057929"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.09ms)
Completed 422 Unprocessable Entity in 23ms (Views: 0.7ms | ActiveRecord: 8.1ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:59.379520"], ["updated_at", "2021-06-24 13:54:59.379520"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.11ms)
Completed 422 Unprocessable Entity in 23ms (Views: 0.7ms | ActiveRecord: 8.1ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:59.644230"], ["updated_at", "2021-06-24 13:54:59.644230"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 21ms (Views: 0.5ms | ActiveRecord: 7.6ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:54:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:54:59.909452"], ["updated_at", "2021-06-24 13:54:59.909452"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 18ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:00.159060"], ["updated_at", "2021-06-24 13:55:00.159060"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 26ms (Views: 0.5ms | ActiveRecord: 2.1ms | Allocations: 5603)


Started POST "/trades" for ::1 at 2021-06-24 09:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:00.416200"], ["updated_at", "2021-06-24 13:55:00.416200"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 15ms (Views: 0.6ms | ActiveRecord: 2.2ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:00.674336"], ["updated_at", "2021-06-24 13:55:00.674336"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 23ms (Views: 0.5ms | ActiveRecord: 8.5ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:55:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:00.931490"], ["updated_at", "2021-06-24 13:55:00.931490"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.24ms)
Completed 422 Unprocessable Entity in 16ms (Views: 0.7ms | ActiveRecord: 2.3ms | Allocations: 5605)


Started POST "/trades" for ::1 at 2021-06-24 09:55:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:01.178805"], ["updated_at", "2021-06-24 13:55:01.178805"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 15ms (Views: 0.7ms | ActiveRecord: 2.4ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:55:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33946, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33946.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:55:01.454984"], ["updated_at", "2021-06-24 13:55:01.454984"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 15ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 5602)


Started POST "/trades" for ::1 at 2021-06-24 09:55:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:55:13.299126"], ["updated_at", "2021-06-24 13:55:13.299126"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 50ms (Views: 0.5ms | ActiveRecord: 8.3ms | Allocations: 5619)


Started POST "/trades" for ::1 at 2021-06-24 09:55:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:55:28.396682"], ["updated_at", "2021-06-24 13:55:28.396682"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 26ms (Views: 1.3ms | ActiveRecord: 7.8ms | Allocations: 5618)


Started POST "/trades" for ::1 at 2021-06-24 09:55:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:55:29.748484"], ["updated_at", "2021-06-24 13:55:29.748484"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.04ms)
Completed 422 Unprocessable Entity in 17ms (Views: 0.5ms | ActiveRecord: 3.9ms | Allocations: 5618)


Started POST "/trades" for ::1 at 2021-06-24 09:55:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:55:30.276052"], ["updated_at", "2021-06-24 13:55:30.276052"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 21ms (Views: 0.5ms | ActiveRecord: 3.3ms | Allocations: 5618)


Started POST "/trades" for ::1 at 2021-06-24 09:55:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:55:30.963568"], ["updated_at", "2021-06-24 13:55:30.963568"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 17ms (Views: 0.7ms | ActiveRecord: 3.5ms | Allocations: 5618)


Started GET "/auto-login" for ::1 at 2021-06-24 09:57:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (126.32ms)
Completed 200 OK in 133ms (Views: 127.3ms | ActiveRecord: 2.9ms | Allocations: 60423)


Started POST "/trades" for ::1 at 2021-06-24 09:59:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34029, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34029, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34029.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 13:59:02.946508"], ["updated_at", "2021-06-24 13:59:02.946508"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.05ms)
Completed 422 Unprocessable Entity in 21ms (Views: 1.0ms | ActiveRecord: 3.2ms | Allocations: 5603)


Started POST "/trades" for ::1 at 2021-06-24 09:59:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 13:59:24.923674"], ["updated_at", "2021-06-24 13:59:24.923674"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.06ms)
Completed 422 Unprocessable Entity in 17ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 5619)


Started POST "/trades" for ::1 at 2021-06-24 09:59:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.77, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.77, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.77], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 13:59:44.339943"], ["updated_at", "2021-06-24 13:59:44.339943"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.13ms)
Completed 422 Unprocessable Entity in 23ms (Views: 0.7ms | ActiveRecord: 8.3ms | Allocations: 5618)


Started GET "/auto-login" for ::1 at 2021-06-24 10:01:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.6ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:20:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (193.36ms)
Completed 200 OK in 279ms (Views: 197.8ms | ActiveRecord: 13.7ms | Allocations: 79883)


Started POST "/trades" for ::1 at 2021-06-24 10:01:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:11.357865"], ["updated_at", "2021-06-24 14:01:11.357865"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["average_price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:11.372522"], ["updated_at", "2021-06-24 14:01:11.372522"]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.34ms)
Completed 200 OK in 84ms (Views: 3.1ms | ActiveRecord: 7.4ms | Allocations: 61168)


Started POST "/trades" for ::1 at 2021-06-24 10:01:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:25.434998"], ["updated_at", "2021-06-24 14:01:25.434998"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:01:25.445728"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.58ms)
Completed 200 OK in 84ms (Views: 3.4ms | ActiveRecord: 7.0ms | Allocations: 56848)


Started POST "/trades" for ::1 at 2021-06-24 10:01:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:26.375713"], ["updated_at", "2021-06-24 14:01:26.375713"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:01:26.391428"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.32ms)
Completed 200 OK in 103ms (Views: 5.1ms | ActiveRecord: 7.8ms | Allocations: 60861)


Started POST "/trades" for ::1 at 2021-06-24 10:01:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:26.929179"], ["updated_at", "2021-06-24 14:01:26.929179"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:01:26.944626"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.98ms)
Completed 200 OK in 100ms (Views: 3.5ms | ActiveRecord: 9.1ms | Allocations: 56162)


Started POST "/trades" for ::1 at 2021-06-24 10:01:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:27.326118"], ["updated_at", "2021-06-24 14:01:27.326118"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 14:01:27.338180"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.54ms)
Completed 200 OK in 88ms (Views: 3.1ms | ActiveRecord: 9.1ms | Allocations: 56360)


Started POST "/trades" for ::1 at 2021-06-24 10:01:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:27.698367"], ["updated_at", "2021-06-24 14:01:27.698367"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 14:01:27.711079"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.46ms)
Completed 200 OK in 88ms (Views: 3.0ms | ActiveRecord: 8.4ms | Allocations: 56533)


Started POST "/trades" for ::1 at 2021-06-24 10:01:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:27.980159"], ["updated_at", "2021-06-24 14:01:27.980159"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 14:01:27.991031"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.88ms)
Completed 200 OK in 85ms (Views: 3.3ms | ActiveRecord: 7.8ms | Allocations: 56687)


Started POST "/trades" for ::1 at 2021-06-24 10:01:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:28.205201"], ["updated_at", "2021-06-24 14:01:28.205201"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 14:01:28.215449"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 94ms (Views: 2.7ms | ActiveRecord: 9.3ms | Allocations: 60329)


Started POST "/trades" for ::1 at 2021-06-24 10:01:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:28.429841"], ["updated_at", "2021-06-24 14:01:28.429841"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 14:01:28.448680"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.49ms)
Completed 200 OK in 202ms (Views: 3.2ms | ActiveRecord: 9.4ms | Allocations: 63432)


Started POST "/trades" for ::1 at 2021-06-24 10:01:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:28.603749"], ["updated_at", "2021-06-24 14:01:28.603749"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 14:01:28.642178"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.86ms)
Completed 200 OK in 175ms (Views: 16.9ms | ActiveRecord: 21.4ms | Allocations: 64591)


Started POST "/trades" for ::1 at 2021-06-24 10:01:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:28.801724"], ["updated_at", "2021-06-24 14:01:28.801724"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 14:01:28.815395"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.33ms)
Completed 200 OK in 109ms (Views: 4.6ms | ActiveRecord: 6.6ms | Allocations: 59478)


Started POST "/trades" for ::1 at 2021-06-24 10:01:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:28.963693"], ["updated_at", "2021-06-24 14:01:28.963693"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 14:01:28.976289"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.88ms)
Completed 200 OK in 100ms (Views: 3.7ms | ActiveRecord: 8.6ms | Allocations: 61767)


Started POST "/trades" for ::1 at 2021-06-24 10:01:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:29.127922"], ["updated_at", "2021-06-24 14:01:29.127922"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 14:01:29.147528"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (5.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.5ms)
Completed 200 OK in 151ms (Views: 3.4ms | ActiveRecord: 16.7ms | Allocations: 58920)


Started POST "/trades" for ::1 at 2021-06-24 10:01:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-24 14:01:29.284971"], ["updated_at", "2021-06-24 14:01:29.284971"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 14:01:29.295791"], ["id", 19]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.14ms)
Completed 200 OK in 91ms (Views: 5.1ms | ActiveRecord: 7.2ms | Allocations: 61547)


Started POST "/login" for ::1 at 2021-06-24 10:03:41 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"Invalid email", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"Invalid email", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 223ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 738)


Started POST "/login" for ::1 at 2021-06-24 10:05:14 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 224ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 626)


Started POST "/login" for ::1 at 2021-06-24 10:06:17 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"Invalid email", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"Invalid email", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 226ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 626)


Started POST "/login" for ::1 at 2021-06-24 10:09:07 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 263ms (Views: 0.7ms | ActiveRecord: 2.6ms | Allocations: 8216)


Started POST "/login" for ::1 at 2021-06-24 10:09:30 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.4ms)
Completed 200 OK in 284ms (Views: 2.8ms | ActiveRecord: 3.2ms | Allocations: 66982)


Started POST "/trades" for ::1 at 2021-06-24 10:09:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:09:37.041969"], ["updated_at", "2021-06-24 14:09:37.041969"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 127], ["updated_at", "2021-06-24 14:09:37.060502"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.53ms)
Completed 200 OK in 82ms (Views: 3.0ms | ActiveRecord: 12.4ms | Allocations: 59201)


Started POST "/trades" for ::1 at 2021-06-24 10:09:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:09:41.804667"], ["updated_at", "2021-06-24 14:09:41.804667"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 128], ["updated_at", "2021-06-24 14:09:41.822461"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.34ms)
Completed 200 OK in 75ms (Views: 2.7ms | ActiveRecord: 6.7ms | Allocations: 58223)


Started POST "/trades" for ::1 at 2021-06-24 10:11:28 -0400
  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:76: unterminated string meets end of file
/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'):
  
app/controllers/trades_controller.rb:76: unterminated string meets end of file
app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'
app/controllers/trades_controller.rb:76: unterminated string meets end of file
app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'
Started POST "/trades" for ::1 at 2021-06-24 10:11:40 -0400
  
SyntaxError (/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:76: unterminated string meets end of file
/Users/cruser/Development/code/Mod5/react-flatcoin-rails-backend/app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'):
  
app/controllers/trades_controller.rb:76: unterminated string meets end of file
app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'
app/controllers/trades_controller.rb:76: unterminated string meets end of file
app/controllers/trades_controller.rb:76: syntax error, unexpected end-of-input, expecting '}'
Started POST "/trades" for ::1 at 2021-06-24 10:12:03 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:12:03.121791"], ["updated_at", "2021-06-24 14:12:03.121791"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 129], ["updated_at", "2021-06-24 14:12:03.142743"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (9.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.52ms)
Completed 200 OK in 153ms (Views: 3.0ms | ActiveRecord: 21.6ms | Allocations: 85302)


Started POST "/trades" for ::1 at 2021-06-24 10:12:10 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:12:10.246013"], ["updated_at", "2021-06-24 14:12:10.246013"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 130], ["updated_at", "2021-06-24 14:12:10.269230"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (3.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 139ms (Views: 2.8ms | ActiveRecord: 14.8ms | Allocations: 61865)


Started POST "/trades" for ::1 at 2021-06-24 10:12:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:12:28.719937"], ["updated_at", "2021-06-24 14:12:28.719937"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 131], ["updated_at", "2021-06-24 14:12:28.736732"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:40:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.07ms)
Completed 200 OK in 104ms (Views: 3.5ms | ActiveRecord: 7.0ms | Allocations: 58726)


Started POST "/trades" for ::1 at 2021-06-24 10:12:58 -0400
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:12:58.596590"], ["updated_at", "2021-06-24 14:12:58.596590"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 51ms (Views: 0.8ms | ActiveRecord: 6.4ms | Allocations: 23477)


Started POST "/trades" for ::1 at 2021-06-24 10:13:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1966.01, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1966.01, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1966.01], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:13:05.940246"], ["updated_at", "2021-06-24 14:13:05.940246"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 2.4ms | Allocations: 5633)


Started POST "/trades" for ::1 at 2021-06-24 10:13:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 14:13:12.927478"], ["updated_at", "2021-06-24 14:13:12.927478"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 7.8ms | Allocations: 5616)


Started POST "/trades" for ::1 at 2021-06-24 10:13:59 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33987, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33987.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:13:59.925597"], ["updated_at", "2021-06-24 14:13:59.925597"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 50ms (Views: 1.0ms | ActiveRecord: 6.0ms | Allocations: 23424)


Started POST "/trades" for ::1 at 2021-06-24 10:14:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1966.01, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1966.01, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1966.01], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:14:06.818272"], ["updated_at", "2021-06-24 14:14:06.818272"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 23ms (Views: 0.6ms | ActiveRecord: 8.6ms | Allocations: 5638)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" DESC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPortfolio Update (4.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 1000000.0], ["updated_at", "2021-06-24 14:18:23.929922"], ["id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auto-login" for ::1 at 2021-06-24 10:18:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.6ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (271.36ms)
Completed 200 OK in 327ms (Views: 268.7ms | ActiveRecord: 10.4ms | Allocations: 84802)


Started POST "/trades" for ::1 at 2021-06-24 10:18:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:18:38.918873"], ["updated_at", "2021-06-24 14:18:38.918873"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (1.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 132], ["updated_at", "2021-06-24 14:18:38.931840"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 965991.0], ["updated_at", "2021-06-24 14:18:38.938261"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (3.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 128ms (Views: 3.7ms | ActiveRecord: 10.7ms | Allocations: 63781)


Started POST "/trades" for ::1 at 2021-06-24 10:18:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:18:51.206579"], ["updated_at", "2021-06-24 14:18:51.206579"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 133], ["updated_at", "2021-06-24 14:18:51.221985"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931982.0], ["updated_at", "2021-06-24 14:18:51.227433"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.49ms)
Completed 200 OK in 95ms (Views: 2.8ms | ActiveRecord: 13.3ms | Allocations: 61528)


Started POST "/trades" for ::1 at 2021-06-24 10:19:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:08.707310"], ["updated_at", "2021-06-24 14:19:08.707310"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mCoin Create (10.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["average_price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:08.725531"], ["updated_at", "2021-06-24 14:19:08.725531"]]
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931848.48], ["updated_at", "2021-06-24 14:19:08.740496"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.64ms)
Completed 200 OK in 171ms (Views: 3.0ms | ActiveRecord: 28.4ms | Allocations: 62838)


Started POST "/trades" for ::1 at 2021-06-24 10:19:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:18.928486"], ["updated_at", "2021-06-24 14:19:18.928486"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:19:18.939382"], ["id", 20]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931714.96], ["updated_at", "2021-06-24 14:19:18.949875"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.26ms)
Completed 200 OK in 166ms (Views: 4.5ms | ActiveRecord: 13.5ms | Allocations: 63242)


Started POST "/trades" for ::1 at 2021-06-24 10:19:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:19.449263"], ["updated_at", "2021-06-24 14:19:19.449263"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:19:19.458717"], ["id", 20]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931581.44], ["updated_at", "2021-06-24 14:19:19.463337"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.66ms)
Completed 200 OK in 92ms (Views: 3.4ms | ActiveRecord: 8.0ms | Allocations: 63712)


Started POST "/trades" for ::1 at 2021-06-24 10:19:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:19.706458"], ["updated_at", "2021-06-24 14:19:19.706458"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:19:19.722102"], ["id", 20]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931447.92], ["updated_at", "2021-06-24 14:19:19.726037"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.63ms)
Completed 200 OK in 98ms (Views: 3.0ms | ActiveRecord: 12.7ms | Allocations: 62457)


Started POST "/trades" for ::1 at 2021-06-24 10:19:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>133.52, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 133.52], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-24 14:19:19.976044"], ["updated_at", "2021-06-24 14:19:19.976044"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 14:19:19.993691"], ["id", 20]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 931314.4], ["updated_at", "2021-06-24 14:19:20.013263"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.77ms)
Completed 200 OK in 118ms (Views: 3.4ms | ActiveRecord: 14.2ms | Allocations: 65926)


Started POST "/trades" for ::1 at 2021-06-24 10:19:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:25.755845"], ["updated_at", "2021-06-24 14:19:25.755845"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 134], ["updated_at", "2021-06-24 14:19:25.775370"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 897305.4], ["updated_at", "2021-06-24 14:19:25.779362"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.83ms)
Completed 200 OK in 94ms (Views: 3.2ms | ActiveRecord: 9.1ms | Allocations: 62775)


Started POST "/trades" for ::1 at 2021-06-24 10:19:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (2.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:25.926988"], ["updated_at", "2021-06-24 14:19:25.926988"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 135], ["updated_at", "2021-06-24 14:19:25.944696"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 863296.4], ["updated_at", "2021-06-24 14:19:25.952171"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.92ms)
Completed 200 OK in 132ms (Views: 3.6ms | ActiveRecord: 14.7ms | Allocations: 68692)


Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.117256"], ["updated_at", "2021-06-24 14:19:26.117256"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 136], ["updated_at", "2021-06-24 14:19:26.149468"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 829287.4], ["updated_at", "2021-06-24 14:19:26.157811"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (4.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.73ms)
Completed 200 OK in 188ms (Views: 3.4ms | ActiveRecord: 20.6ms | Allocations: 68582)


Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.304621"], ["updated_at", "2021-06-24 14:19:26.304621"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 137], ["updated_at", "2021-06-24 14:19:26.319112"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 795278.4], ["updated_at", "2021-06-24 14:19:26.323594"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.78ms)
Completed 200 OK in 109ms (Views: 5.3ms | ActiveRecord: 12.7ms | Allocations: 63581)


Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.457084"], ["updated_at", "2021-06-24 14:19:26.457084"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 138], ["updated_at", "2021-06-24 14:19:26.491213"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 761269.4], ["updated_at", "2021-06-24 14:19:26.506084"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
  ↳ app/controllers/trades_controller.rb:39:in `create'
Processing by TradesController#create as JSON
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.33ms)
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
Completed 200 OK in 221ms (Views: 5.3ms | ActiveRecord: 16.6ms | Allocations: 73227)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.665265"], ["updated_at", "2021-06-24 14:19:26.665265"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 139], ["updated_at", "2021-06-24 14:19:26.682039"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 727260.4], ["updated_at", "2021-06-24 14:19:26.686710"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.55ms)
Completed 200 OK in 125ms (Views: 4.1ms | ActiveRecord: 14.1ms | Allocations: 71850)


Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.812325"], ["updated_at", "2021-06-24 14:19:26.812325"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 140], ["updated_at", "2021-06-24 14:19:26.837409"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 693251.4], ["updated_at", "2021-06-24 14:19:26.843742"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
Started POST "/trades" for ::1 at 2021-06-24 10:19:26 -0400
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.08ms)
Completed 200 OK in 175ms (Views: 5.0ms | ActiveRecord: 16.3ms | Allocations: 68380)


Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:26.983364"], ["updated_at", "2021-06-24 14:19:26.983364"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 141], ["updated_at", "2021-06-24 14:19:27.000480"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 659242.4], ["updated_at", "2021-06-24 14:19:27.017447"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.88ms)
Completed 200 OK in 154ms (Views: 3.5ms | ActiveRecord: 13.7ms | Allocations: 72423)


Started POST "/trades" for ::1 at 2021-06-24 10:19:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:27.154103"], ["updated_at", "2021-06-24 14:19:27.154103"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
Started POST "/trades" for ::1 at 2021-06-24 10:19:27 -0400
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
Processing by TradesController#create as JSON
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 142], ["updated_at", "2021-06-24 14:19:27.188966"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 625233.4], ["updated_at", "2021-06-24 14:19:27.199155"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTrade Create (1.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:27.239865"], ["updated_at", "2021-06-24 14:19:27.239865"]]
  [1m[36mTRANSACTION (5195.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
Completed 500 Internal Server Error in 5313ms (ActiveRecord: 5207.3ms | Allocations: 25655)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 5323ms (ActiveRecord: 2.5ms | Allocations: 44573)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
Started POST "/trades" for ::1 at 2021-06-24 10:19:32 -0400
Started POST "/trades" for ::1 at 2021-06-24 10:19:32 -0400
Started POST "/trades" for ::1 at 2021-06-24 10:19:32 -0400
Started POST "/trades" for ::1 at 2021-06-24 10:19:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (2.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:32.588012"], ["updated_at", "2021-06-24 14:19:32.588012"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
Processing by TradesController#create as JSON
  ↳ app/controllers/trades_controller.rb:24:in `create'
Processing by TradesController#create as JSON
Started POST "/trades" for ::1 at 2021-06-24 10:19:32 -0400
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  ↳ app/controllers/trades_controller.rb:21:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 143], ["updated_at", "2021-06-24 14:19:32.683193"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5180.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
Completed 500 Internal Server Error in 5308ms (ActiveRecord: 5192.6ms | Allocations: 32126)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:37.955227"], ["updated_at", "2021-06-24 14:19:37.955227"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (5193.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
Started POST "/trades" for ::1 at 2021-06-24 10:19:37 -0400
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5207.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:53.554731"], ["updated_at", "2021-06-24 14:19:53.554731"]]
Processing by TradesController#create as JSON
  ↳ app/controllers/trades_controller.rb:24:in `create'
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mPortfolio Load (5177.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 20958ms (ActiveRecord: 5178.4ms | Allocations: 68353)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mrollback transaction[0m
Started POST "/trades" for ::1 at 2021-06-24 10:19:58 -0400
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mUser Load (5213.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 26244ms (ActiveRecord: 5219.9ms | Allocations: 117537)


Completed 500 Internal Server Error in 26230ms (ActiveRecord: 2.8ms | Allocations: 114313)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:19:in `create'
Processing by TradesController#create as JSON
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 26230ms (ActiveRecord: 5195.3ms | Allocations: 113081)


  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
Completed 500 Internal Server Error in 5268ms (ActiveRecord: 5213.5ms | Allocations: 39017)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:19:in `create'
Started POST "/trades" for ::1 at 2021-06-24 10:19:58 -0400
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
Started POST "/trades" for ::1 at 2021-06-24 10:19:59 -0400
Started POST "/trades" for ::1 at 2021-06-24 10:19:59 -0400
Started POST "/trades" for ::1 at 2021-06-24 10:19:59 -0400
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
Processing by TradesController#create as JSON
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:59.085265"], ["updated_at", "2021-06-24 14:19:59.085265"]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:59.088998"], ["updated_at", "2021-06-24 14:19:59.088998"]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:19:59.094484"], ["updated_at", "2021-06-24 14:19:59.094484"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (5198.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 10443ms (ActiveRecord: 0.9ms | Allocations: 25376)


  [1m[36mTRANSACTION (5191.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPortfolio Load (5181.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 15691ms (ActiveRecord: 1.1ms | Allocations: 66771)


Completed 500 Internal Server Error in 15674ms (ActiveRecord: 5182.4ms | Allocations: 58727)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started POST "/trades" for ::1 at 2021-06-24 10:20:14 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34009, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34009.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:20:14.757178"], ["updated_at", "2021-06-24 14:20:14.757178"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 143], ["updated_at", "2021-06-24 14:20:14.771216"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 625233.4], ["updated_at", "2021-06-24 14:20:14.775998"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (2.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
Completed 500 Internal Server Error in 15627ms (ActiveRecord: 5198.6ms | Allocations: 27696)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  ↳ app/controllers/trades_controller.rb:24:in `create'
Completed 500 Internal Server Error in 15911ms (ActiveRecord: 5192.8ms | Allocations: 190665)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.77ms)
Completed 200 OK in 317ms (Views: 6.7ms | ActiveRecord: 12.4ms | Allocations: 184094)


Started POST "/login" for ::1 at 2021-06-24 10:20:38 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 253ms (Views: 7.7ms | ActiveRecord: 0.8ms | Allocations: 11374)


Started POST "/login" for ::1 at 2021-06-24 10:20:51 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.66ms)
Completed 200 OK in 337ms (Views: 3.1ms | ActiveRecord: 3.3ms | Allocations: 75865)


Started POST "/trades" for ::1 at 2021-06-24 10:21:10 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34023, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34023, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34023.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:21:10.674236"], ["updated_at", "2021-06-24 14:21:10.674236"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 144], ["updated_at", "2021-06-24 14:21:10.686015"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 591210.4], ["updated_at", "2021-06-24 14:21:10.691471"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.51ms)
Completed 200 OK in 126ms (Views: 4.1ms | ActiveRecord: 9.6ms | Allocations: 66225)


Started POST "/trades" for ::1 at 2021-06-24 10:21:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34023, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34023, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34023.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:21:11.568312"], ["updated_at", "2021-06-24 14:21:11.568312"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 145], ["updated_at", "2021-06-24 14:21:11.577936"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 557187.4], ["updated_at", "2021-06-24 14:21:11.582350"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:37:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:39:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.82ms)
Completed 200 OK in 92ms (Views: 3.2ms | ActiveRecord: 8.5ms | Allocations: 64806)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210621180130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180130"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePortfolios (20210621180433)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "initial_balance" decimal, "current_balance" decimal, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180433"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTrades (20210621180933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "trades" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "coin_name" varchar, "coin_id" varchar, "price" decimal, "quantity" integer, "user_id" integer, "portfolio_id" integer, "image" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210621180933"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCoins (20210623194338)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "coin_name" varchar, "coin_id" varchar, "average_price" decimal, "quantity" integer, "user_id" integer, "portfolio_id" integer, "image" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210623194338"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-24 14:34:00.352110"], ["updated_at", "2021-06-24 14:34:00.352110"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/auto-login" for ::1 at 2021-06-24 10:34:15 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 28ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 7212)


Started POST "/signup" for ::1 at 2021-06-24 10:34:53 -0400
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Danny", "last_name"=>"Rivera", "email"=>"dan@test.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (7.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Danny"], ["last_name", "Rivera"], ["email", "dan@test.com"], ["password_digest", "$2a$12$UvyzomlLT0ADCrtg10cD3eByneH8C9N84Rpt/QUGUensWvIGlWlgC"], ["created_at", "2021-06-24 14:34:53.784500"], ["updated_at", "2021-06-24 14:34:53.784500"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "current_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["current_balance", 1000000.0], ["user_id", 1], ["created_at", "2021-06-24 14:34:53.816323"], ["updated_at", "2021-06-24 14:34:53.816323"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:28:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 284ms (Views: 0.6ms | ActiveRecord: 12.8ms | Allocations: 23477)


Started POST "/trades" for ::1 at 2021-06-24 10:35:14 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:14.045556"], ["updated_at", "2021-06-24 14:35:14.045556"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["average_price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:14.063394"], ["updated_at", "2021-06-24 14:35:14.063394"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 965874.0], ["updated_at", "2021-06-24 14:35:14.068026"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 56ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 25271)


Started POST "/trades" for ::1 at 2021-06-24 10:35:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:35:47.514006"], ["updated_at", "2021-06-24 14:35:47.514006"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["average_price", 1972.61], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:35:47.526380"], ["updated_at", "2021-06-24 14:35:47.526380"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 963901.39], ["updated_at", "2021-06-24 14:35:47.530641"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 45ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 15050)


Started POST "/trades" for ::1 at 2021-06-24 10:35:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:51.011342"], ["updated_at", "2021-06-24 14:35:51.011342"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:35:51.021673"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 929775.39], ["updated_at", "2021-06-24 14:35:51.026484"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 41ms (Views: 0.5ms | ActiveRecord: 7.6ms | Allocations: 14481)


Started POST "/trades" for ::1 at 2021-06-24 10:35:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:52.218620"], ["updated_at", "2021-06-24 14:35:52.218620"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:35:52.229105"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 895649.39], ["updated_at", "2021-06-24 14:35:52.233557"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 200 OK in 47ms (Views: 3.6ms | ActiveRecord: 7.9ms | Allocations: 14603)


Started POST "/trades" for ::1 at 2021-06-24 10:35:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:53.519598"], ["updated_at", "2021-06-24 14:35:53.519598"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:35:53.543028"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 861523.39], ["updated_at", "2021-06-24 14:35:53.547503"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 74ms (Views: 1.6ms | ActiveRecord: 23.9ms | Allocations: 14767)


Started POST "/trades" for ::1 at 2021-06-24 10:35:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:54.373397"], ["updated_at", "2021-06-24 14:35:54.373397"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 14:35:54.388593"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 827397.39], ["updated_at", "2021-06-24 14:35:54.393803"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 50ms (Views: 0.5ms | ActiveRecord: 14.9ms | Allocations: 14933)


Started POST "/trades" for ::1 at 2021-06-24 10:35:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:55.307376"], ["updated_at", "2021-06-24 14:35:55.307376"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 14:35:55.316310"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 793271.39], ["updated_at", "2021-06-24 14:35:55.321227"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 41ms (Views: 0.6ms | ActiveRecord: 7.0ms | Allocations: 15099)


Started POST "/trades" for ::1 at 2021-06-24 10:35:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:35:56.324647"], ["updated_at", "2021-06-24 14:35:56.324647"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 14:35:56.346435"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 759145.39], ["updated_at", "2021-06-24 14:35:56.366312"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 70ms (Views: 0.6ms | ActiveRecord: 17.9ms | Allocations: 15268)


Started POST "/trades" for ::1 at 2021-06-24 10:36:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:36:00.037242"], ["updated_at", "2021-06-24 14:36:00.037242"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:36:00.049063"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 757172.78], ["updated_at", "2021-06-24 14:36:00.054210"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 10.0ms | Allocations: 15465)


Started POST "/trades" for ::1 at 2021-06-24 10:36:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.57, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.57, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.57], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:36:01.678094"], ["updated_at", "2021-06-24 14:36:01.678094"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["average_price", 305.57], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:36:01.694522"], ["updated_at", "2021-06-24 14:36:01.694522"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 756867.21], ["updated_at", "2021-06-24 14:36:01.699237"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 12.7ms | Allocations: 16575)


Started POST "/trades" for ::1 at 2021-06-24 10:36:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 14:36:03.488492"], ["updated_at", "2021-06-24 14:36:03.488492"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.3ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["average_price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 14:36:03.497836"], ["updated_at", "2021-06-24 14:36:03.497836"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 756866.21], ["updated_at", "2021-06-24 14:36:03.511280"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (1.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 64ms (Views: 0.6ms | ActiveRecord: 17.3ms | Allocations: 16888)


Started POST "/trades" for ::1 at 2021-06-24 10:36:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:05.143987"], ["updated_at", "2021-06-24 14:36:05.143987"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 14:36:05.154286"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 722740.21], ["updated_at", "2021-06-24 14:36:05.160000"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.3ms)
Completed 200 OK in 50ms (Views: 1.4ms | ActiveRecord: 8.0ms | Allocations: 18026)


Started POST "/trades" for ::1 at 2021-06-24 10:36:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:06.140208"], ["updated_at", "2021-06-24 14:36:06.140208"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 14:36:06.149651"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 688614.21], ["updated_at", "2021-06-24 14:36:06.153841"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 42ms (Views: 0.8ms | ActiveRecord: 7.6ms | Allocations: 16461)


Started POST "/trades" for ::1 at 2021-06-24 10:36:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:06.863445"], ["updated_at", "2021-06-24 14:36:06.863445"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 14:36:06.877985"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 654488.21], ["updated_at", "2021-06-24 14:36:06.881754"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 56ms (Views: 0.6ms | ActiveRecord: 12.0ms | Allocations: 16629)


Started POST "/trades" for ::1 at 2021-06-24 10:36:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:07.339705"], ["updated_at", "2021-06-24 14:36:07.339705"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 14:36:07.354894"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 620362.21], ["updated_at", "2021-06-24 14:36:07.359670"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 55ms (Views: 1.8ms | ActiveRecord: 12.2ms | Allocations: 16795)


Started POST "/trades" for ::1 at 2021-06-24 10:36:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:29.718462"], ["updated_at", "2021-06-24 14:36:29.718462"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 14:36:29.728429"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 586236.21], ["updated_at", "2021-06-24 14:36:29.732789"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 200 OK in 44ms (Views: 0.9ms | ActiveRecord: 7.5ms | Allocations: 16962)


Started POST "/trades" for ::1 at 2021-06-24 10:36:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:31.408204"], ["updated_at", "2021-06-24 14:36:31.408204"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 14:36:31.423745"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 552110.21], ["updated_at", "2021-06-24 14:36:31.428312"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 89ms (Views: 2.2ms | ActiveRecord: 15.3ms | Allocations: 17130)


Started POST "/trades" for ::1 at 2021-06-24 10:36:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:32.048798"], ["updated_at", "2021-06-24 14:36:32.048798"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 14:36:32.058683"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 517984.21], ["updated_at", "2021-06-24 14:36:32.066801"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 47ms (Views: 0.8ms | ActiveRecord: 7.1ms | Allocations: 22612)


Started POST "/trades" for ::1 at 2021-06-24 10:36:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:51.474535"], ["updated_at", "2021-06-24 14:36:51.474535"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 14:36:51.483035"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 483858.21], ["updated_at", "2021-06-24 14:36:51.487195"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 39ms (Views: 0.7ms | ActiveRecord: 6.7ms | Allocations: 17463)


Started POST "/trades" for ::1 at 2021-06-24 10:36:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:51.994240"], ["updated_at", "2021-06-24 14:36:51.994240"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 14:36:52.003686"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 449732.21], ["updated_at", "2021-06-24 14:36:52.007943"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 58ms (Views: 0.8ms | ActiveRecord: 7.1ms | Allocations: 17631)


Started POST "/trades" for ::1 at 2021-06-24 10:36:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.35, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.35, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.35], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 14:36:53.845780"], ["updated_at", "2021-06-24 14:36:53.845780"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["average_price", 1.35], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 14:36:53.856265"], ["updated_at", "2021-06-24 14:36:53.856265"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 449730.86], ["updated_at", "2021-06-24 14:36:53.860428"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 200 OK in 41ms (Views: 0.6ms | ActiveRecord: 6.5ms | Allocations: 18764)


Started POST "/trades" for ::1 at 2021-06-24 10:36:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:36:55.367194"], ["updated_at", "2021-06-24 14:36:55.367194"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 14:36:55.375928"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 415604.86], ["updated_at", "2021-06-24 14:36:55.379688"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.34ms)
Completed 200 OK in 39ms (Views: 0.8ms | ActiveRecord: 6.2ms | Allocations: 18147)


Started GET "/auto-login" for ::1 at 2021-06-24 10:37:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (78.77ms)
Completed 200 OK in 121ms (Views: 115.8ms | ActiveRecord: 0.8ms | Allocations: 14263)


Started POST "/trades" for ::1 at 2021-06-24 10:38:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:38:56.737392"], ["updated_at", "2021-06-24 14:38:56.737392"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["average_price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:38:56.747272"], ["updated_at", "2021-06-24 14:38:56.747272"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 415604.620772], ["updated_at", "2021-06-24 14:38:56.751338"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 43ms (Views: 1.0ms | ActiveRecord: 7.0ms | Allocations: 19281)


Started POST "/trades" for ::1 at 2021-06-24 10:39:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:04.451098"], ["updated_at", "2021-06-24 14:39:04.451098"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 14:39:04.460996"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 381473.620772], ["updated_at", "2021-06-24 14:39:04.466273"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.35ms)
Completed 200 OK in 45ms (Views: 0.7ms | ActiveRecord: 7.8ms | Allocations: 18664)


Started POST "/trades" for ::1 at 2021-06-24 10:39:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:40.691681"], ["updated_at", "2021-06-24 14:39:40.691681"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-24 14:39:40.700881"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 347342.620772], ["updated_at", "2021-06-24 14:39:40.704730"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.3ms)
Completed 200 OK in 48ms (Views: 0.7ms | ActiveRecord: 6.6ms | Allocations: 18832)


Started POST "/trades" for ::1 at 2021-06-24 10:39:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:41.907255"], ["updated_at", "2021-06-24 14:39:41.907255"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-24 14:39:41.915608"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 313211.620772], ["updated_at", "2021-06-24 14:39:41.919270"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 200 OK in 42ms (Views: 0.8ms | ActiveRecord: 5.7ms | Allocations: 18998)


Started POST "/trades" for ::1 at 2021-06-24 10:39:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:42.397518"], ["updated_at", "2021-06-24 14:39:42.397518"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-24 14:39:42.414562"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 279080.620772], ["updated_at", "2021-06-24 14:39:42.417637"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 200 OK in 54ms (Views: 0.9ms | ActiveRecord: 17.7ms | Allocations: 19165)


Started POST "/trades" for ::1 at 2021-06-24 10:39:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:43.035393"], ["updated_at", "2021-06-24 14:39:43.035393"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 22], ["updated_at", "2021-06-24 14:39:43.043621"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 244949.620772], ["updated_at", "2021-06-24 14:39:43.047494"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.43ms)
Completed 200 OK in 49ms (Views: 0.8ms | ActiveRecord: 6.8ms | Allocations: 19333)


Started POST "/trades" for ::1 at 2021-06-24 10:39:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:43.567334"], ["updated_at", "2021-06-24 14:39:43.567334"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-24 14:39:43.577505"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 210818.620772], ["updated_at", "2021-06-24 14:39:43.582419"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.45ms)
Completed 200 OK in 47ms (Views: 0.9ms | ActiveRecord: 7.2ms | Allocations: 19499)


Started POST "/trades" for ::1 at 2021-06-24 10:39:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:44.145690"], ["updated_at", "2021-06-24 14:39:44.145690"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-24 14:39:44.155533"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 176687.620772], ["updated_at", "2021-06-24 14:39:44.163676"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.68ms)
Completed 200 OK in 50ms (Views: 1.3ms | ActiveRecord: 10.7ms | Allocations: 19666)


Started POST "/trades" for ::1 at 2021-06-24 10:39:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:44.685265"], ["updated_at", "2021-06-24 14:39:44.685265"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-24 14:39:44.696326"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 142556.620772], ["updated_at", "2021-06-24 14:39:44.704465"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.76ms)
Completed 200 OK in 59ms (Views: 1.4ms | ActiveRecord: 11.1ms | Allocations: 19834)


Started POST "/trades" for ::1 at 2021-06-24 10:39:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:45.323786"], ["updated_at", "2021-06-24 14:39:45.323786"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 26], ["updated_at", "2021-06-24 14:39:45.341774"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 108425.620772], ["updated_at", "2021-06-24 14:39:45.346757"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 200 OK in 53ms (Views: 0.8ms | ActiveRecord: 12.1ms | Allocations: 23294)


Started POST "/trades" for ::1 at 2021-06-24 10:39:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:45.983258"], ["updated_at", "2021-06-24 14:39:45.983258"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.9ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-24 14:39:46.015747"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 74294.620772], ["updated_at", "2021-06-24 14:39:46.022523"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.45ms)
Completed 200 OK in 86ms (Views: 0.8ms | ActiveRecord: 21.4ms | Allocations: 20168)


Started POST "/trades" for ::1 at 2021-06-24 10:39:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:46.522891"], ["updated_at", "2021-06-24 14:39:46.522891"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-24 14:39:46.531448"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 40163.620772], ["updated_at", "2021-06-24 14:39:46.535031"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 200 OK in 40ms (Views: 0.8ms | ActiveRecord: 6.2ms | Allocations: 20334)


Started POST "/trades" for ::1 at 2021-06-24 10:39:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:53.886336"], ["updated_at", "2021-06-24 14:39:53.886336"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-24 14:39:53.902246"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 6032.620772], ["updated_at", "2021-06-24 14:39:53.907346"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.54ms)
Completed 200 OK in 63ms (Views: 1.2ms | ActiveRecord: 20.2ms | Allocations: 20501)


Started POST "/trades" for ::1 at 2021-06-24 10:39:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:39:54.226473"], ["updated_at", "2021-06-24 14:39:54.226473"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 2.8ms | Allocations: 5622)


Started POST "/trades" for ::1 at 2021-06-24 10:40:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.85], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:40:20.174104"], ["updated_at", "2021-06-24 14:40:20.174104"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:40:20.186436"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 5726.770772], ["updated_at", "2021-06-24 14:40:20.191313"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.52ms)
Completed 200 OK in 52ms (Views: 0.9ms | ActiveRecord: 8.2ms | Allocations: 20867)


Started POST "/trades" for ::1 at 2021-06-24 10:41:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34131, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34131.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 14:41:45.852907"], ["updated_at", "2021-06-24 14:41:45.852907"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 2.4ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 10:41:49 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.85], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:41:49.285943"], ["updated_at", "2021-06-24 14:41:49.285943"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:41:49.295728"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 5420.920772], ["updated_at", "2021-06-24 14:41:49.300386"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.63ms)
Completed 200 OK in 48ms (Views: 1.2ms | ActiveRecord: 7.3ms | Allocations: 21209)


Started POST "/trades" for ::1 at 2021-06-24 10:41:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.85], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:41:50.906800"], ["updated_at", "2021-06-24 14:41:50.906800"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:41:50.926231"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 5115.070772], ["updated_at", "2021-06-24 14:41:50.931298"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.51ms)
Completed 200 OK in 69ms (Views: 0.9ms | ActiveRecord: 21.0ms | Allocations: 21385)


Started POST "/trades" for ::1 at 2021-06-24 10:41:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.85], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:41:51.711561"], ["updated_at", "2021-06-24 14:41:51.711561"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 14:41:51.724171"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4809.220772], ["updated_at", "2021-06-24 14:41:51.728454"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 50ms (Views: 1.0ms | ActiveRecord: 7.4ms | Allocations: 21559)


Started POST "/trades" for ::1 at 2021-06-24 10:41:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.85, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.85], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-24 14:41:52.235487"], ["updated_at", "2021-06-24 14:41:52.235487"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 14:41:52.265705"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4503.370772], ["updated_at", "2021-06-24 14:41:52.270239"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.59ms)
Completed 200 OK in 74ms (Views: 1.0ms | ActiveRecord: 8.5ms | Allocations: 21735)


Started GET "/auto-login" for ::1 at 2021-06-24 10:51:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (20.95ms)
Completed 200 OK in 25ms (Views: 20.7ms | ActiveRecord: 1.2ms | Allocations: 14232)


Started POST "/trades" for ::1 at 2021-06-24 10:51:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:41.184149"], ["updated_at", "2021-06-24 14:51:41.184149"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 14:51:41.195962"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4503.131592], ["updated_at", "2021-06-24 14:51:41.201041"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.57ms)
Completed 200 OK in 57ms (Views: 1.0ms | ActiveRecord: 7.9ms | Allocations: 21997)


Started POST "/trades" for ::1 at 2021-06-24 10:51:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:41.831679"], ["updated_at", "2021-06-24 14:51:41.831679"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:51:41.842363"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4502.892412], ["updated_at", "2021-06-24 14:51:41.849061"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.71ms)
Completed 200 OK in 58ms (Views: 1.6ms | ActiveRecord: 7.4ms | Allocations: 28209)


Started POST "/trades" for ::1 at 2021-06-24 10:51:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:42.467138"], ["updated_at", "2021-06-24 14:51:42.467138"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:51:42.478556"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4502.653232], ["updated_at", "2021-06-24 14:51:42.482332"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.57ms)
Completed 200 OK in 46ms (Views: 1.0ms | ActiveRecord: 7.7ms | Allocations: 22259)


Started POST "/trades" for ::1 at 2021-06-24 10:51:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:42.709759"], ["updated_at", "2021-06-24 14:51:42.709759"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 14:51:42.747869"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4502.414052], ["updated_at", "2021-06-24 14:51:42.755341"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.84ms)
Completed 200 OK in 88ms (Views: 5.3ms | ActiveRecord: 18.4ms | Allocations: 25729)


Started POST "/trades" for ::1 at 2021-06-24 10:51:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:42.903438"], ["updated_at", "2021-06-24 14:51:42.903438"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 14:51:42.924163"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4502.174872], ["updated_at", "2021-06-24 14:51:42.931179"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.6ms)
Completed 200 OK in 70ms (Views: 1.0ms | ActiveRecord: 13.0ms | Allocations: 25903)


Started POST "/trades" for ::1 at 2021-06-24 10:51:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:43.105367"], ["updated_at", "2021-06-24 14:51:43.105367"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 14:51:43.125203"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4501.935692], ["updated_at", "2021-06-24 14:51:43.132343"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.58ms)
Completed 200 OK in 78ms (Views: 1.0ms | ActiveRecord: 12.6ms | Allocations: 26079)


Started POST "/trades" for ::1 at 2021-06-24 10:51:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:43.464077"], ["updated_at", "2021-06-24 14:51:43.464077"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 14:51:43.475232"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4501.696512], ["updated_at", "2021-06-24 14:51:43.485898"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.84ms)
Completed 200 OK in 81ms (Views: 12.4ms | ActiveRecord: 12.2ms | Allocations: 22959)


Started POST "/trades" for ::1 at 2021-06-24 10:51:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:43.748140"], ["updated_at", "2021-06-24 14:51:43.748140"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 14:51:43.768849"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4501.457332], ["updated_at", "2021-06-24 14:51:43.775162"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.66ms)
Completed 200 OK in 64ms (Views: 1.1ms | ActiveRecord: 13.1ms | Allocations: 26428)


Started POST "/trades" for ::1 at 2021-06-24 10:51:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:43.952981"], ["updated_at", "2021-06-24 14:51:43.952981"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 14:51:43.968177"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4501.218152], ["updated_at", "2021-06-24 14:51:43.973781"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.67ms)
Completed 200 OK in 64ms (Views: 1.1ms | ActiveRecord: 7.3ms | Allocations: 26604)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:44.143780"], ["updated_at", "2021-06-24 14:51:44.143780"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 14:51:44.161974"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4500.978972], ["updated_at", "2021-06-24 14:51:44.168551"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 124ms (Views: 4.6ms | ActiveRecord: 13.4ms | Allocations: 26778)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:44.361157"], ["updated_at", "2021-06-24 14:51:44.361157"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 14:51:44.382062"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4500.739792], ["updated_at", "2021-06-24 14:51:44.387785"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.67ms)
Completed 200 OK in 84ms (Views: 1.1ms | ActiveRecord: 13.2ms | Allocations: 26954)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:44.510663"], ["updated_at", "2021-06-24 14:51:44.510663"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 14:51:44.564726"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4500.500612], ["updated_at", "2021-06-24 14:51:44.575494"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.63ms)
Completed 200 OK in 112ms (Views: 1.0ms | ActiveRecord: 19.1ms | Allocations: 27129)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:44.679879"], ["updated_at", "2021-06-24 14:51:44.679879"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 14:51:44.699040"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4500.261432], ["updated_at", "2021-06-24 14:51:44.706642"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.74ms)
Completed 200 OK in 84ms (Views: 1.3ms | ActiveRecord: 9.4ms | Allocations: 30720)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:44.860258"], ["updated_at", "2021-06-24 14:51:44.860258"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 14:51:44.882437"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4500.022252], ["updated_at", "2021-06-24 14:51:44.888452"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.74ms)
Completed 200 OK in 72ms (Views: 1.3ms | ActiveRecord: 13.2ms | Allocations: 27478)


Started POST "/trades" for ::1 at 2021-06-24 10:51:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:45.032030"], ["updated_at", "2021-06-24 14:51:45.032030"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 14:51:45.087114"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4499.783072], ["updated_at", "2021-06-24 14:51:45.097248"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (12.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.86ms)
Completed 200 OK in 143ms (Views: 1.4ms | ActiveRecord: 28.1ms | Allocations: 27654)


Started POST "/trades" for ::1 at 2021-06-24 10:51:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23918, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23918], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:51:45.209472"], ["updated_at", "2021-06-24 14:51:45.209472"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 14:51:45.225155"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 4499.543892], ["updated_at", "2021-06-24 14:51:45.232141"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.84ms)
Completed 200 OK in 108ms (Views: 1.3ms | ActiveRecord: 7.6ms | Allocations: 24551)


Started GET "/auto-login" for ::1 at 2021-06-24 10:55:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (26.2ms)
Completed 200 OK in 30ms (Views: 25.0ms | ActiveRecord: 1.9ms | Allocations: 16924)


Started GET "/auto-login" for ::1 at 2021-06-24 10:55:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (37.24ms)
Completed 200 OK in 41ms (Views: 37.0ms | ActiveRecord: 1.0ms | Allocations: 16925)


Started GET "/auto-login" for ::1 at 2021-06-24 10:55:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (23.96ms)
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 1.0ms | Allocations: 16924)


Started POST "/trades" for ::1 at 2021-06-24 10:56:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.75, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.75, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1970.75], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:56:23.207901"], ["updated_at", "2021-06-24 14:56:23.207901"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 14:56:23.217369"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 2528.793892], ["updated_at", "2021-06-24 14:56:23.221557"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.64ms)
Completed 200 OK in 47ms (Views: 1.0ms | ActiveRecord: 6.8ms | Allocations: 24709)


Started POST "/trades" for ::1 at 2021-06-24 10:56:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.75, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.75, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1970.75], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 14:56:24.399338"], ["updated_at", "2021-06-24 14:56:24.399338"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 14:56:24.423193"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 558.043892], ["updated_at", "2021-06-24 14:56:24.427027"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.65ms)
Completed 200 OK in 61ms (Views: 1.1ms | ActiveRecord: 11.9ms | Allocations: 24885)


Started POST "/trades" for ::1 at 2021-06-24 10:57:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:27.593189"], ["updated_at", "2021-06-24 14:57:27.593189"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 14:57:27.602895"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 557.805019], ["updated_at", "2021-06-24 14:57:27.609655"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.65ms)
Completed 200 OK in 55ms (Views: 1.0ms | ActiveRecord: 9.2ms | Allocations: 25059)


Started POST "/trades" for ::1 at 2021-06-24 10:57:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:28.209594"], ["updated_at", "2021-06-24 14:57:28.209594"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-24 14:57:28.230858"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 557.566146], ["updated_at", "2021-06-24 14:57:28.236765"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.65ms)
Completed 200 OK in 63ms (Views: 1.0ms | ActiveRecord: 6.6ms | Allocations: 30724)


Started POST "/trades" for ::1 at 2021-06-24 10:57:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:28.450549"], ["updated_at", "2021-06-24 14:57:28.450549"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-24 14:57:28.462076"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 557.327273], ["updated_at", "2021-06-24 14:57:28.472085"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.67ms)
Completed 200 OK in 107ms (Views: 1.0ms | ActiveRecord: 19.6ms | Allocations: 28703)


Started POST "/trades" for ::1 at 2021-06-24 10:57:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:28.641941"], ["updated_at", "2021-06-24 14:57:28.641941"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-24 14:57:28.665935"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 557.0884], ["updated_at", "2021-06-24 14:57:28.672486"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.87ms)
Completed 200 OK in 101ms (Views: 1.4ms | ActiveRecord: 7.8ms | Allocations: 28879)


Started POST "/trades" for ::1 at 2021-06-24 10:57:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:28.822742"], ["updated_at", "2021-06-24 14:57:28.822742"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 22], ["updated_at", "2021-06-24 14:57:28.843271"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556.849527], ["updated_at", "2021-06-24 14:57:28.850889"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.94ms)
Completed 200 OK in 79ms (Views: 1.8ms | ActiveRecord: 11.8ms | Allocations: 30239)


Started POST "/trades" for ::1 at 2021-06-24 10:57:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:28.989265"], ["updated_at", "2021-06-24 14:57:28.989265"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-24 14:57:29.002418"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556.610654], ["updated_at", "2021-06-24 14:57:29.007494"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.69ms)
Completed 200 OK in 67ms (Views: 1.1ms | ActiveRecord: 8.2ms | Allocations: 27929)


Started POST "/trades" for ::1 at 2021-06-24 10:57:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:29.142628"], ["updated_at", "2021-06-24 14:57:29.142628"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-24 14:57:29.155165"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556.371781], ["updated_at", "2021-06-24 14:57:29.159970"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.75ms)
Completed 200 OK in 62ms (Views: 1.2ms | ActiveRecord: 7.0ms | Allocations: 29612)


Started POST "/trades" for ::1 at 2021-06-24 10:57:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:29.310122"], ["updated_at", "2021-06-24 14:57:29.310122"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-24 14:57:29.323787"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556.132908], ["updated_at", "2021-06-24 14:57:29.327367"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.71ms)
Completed 200 OK in 57ms (Views: 1.1ms | ActiveRecord: 11.5ms | Allocations: 26285)


Started POST "/trades" for ::1 at 2021-06-24 10:57:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:29.457475"], ["updated_at", "2021-06-24 14:57:29.457475"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 26], ["updated_at", "2021-06-24 14:57:29.473210"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 555.894035], ["updated_at", "2021-06-24 14:57:29.479066"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.7ms)
Completed 200 OK in 56ms (Views: 1.1ms | ActiveRecord: 11.4ms | Allocations: 29926)


Started POST "/trades" for ::1 at 2021-06-24 10:57:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:29.637043"], ["updated_at", "2021-06-24 14:57:29.637043"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-24 14:57:29.653772"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 555.655162], ["updated_at", "2021-06-24 14:57:29.658396"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.7ms)
Completed 200 OK in 68ms (Views: 1.5ms | ActiveRecord: 11.5ms | Allocations: 28162)


Started POST "/trades" for ::1 at 2021-06-24 10:57:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.238873, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.238873], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 14:57:29.829296"], ["updated_at", "2021-06-24 14:57:29.829296"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-24 14:57:29.849498"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 555.416289], ["updated_at", "2021-06-24 14:57:29.853833"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.73ms)
Completed 200 OK in 61ms (Views: 1.2ms | ActiveRecord: 11.7ms | Allocations: 30103)


Started GET "/auto-login" for ::1 at 2021-06-24 10:58:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.62ms)
Completed 200 OK in 33ms (Views: 28.7ms | ActiveRecord: 1.7ms | Allocations: 19551)


Started GET "/auto-login" for ::1 at 2021-06-24 11:00:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.5ms)
Completed 200 OK in 44ms (Views: 40.0ms | ActiveRecord: 1.4ms | Allocations: 19550)


Started GET "/auto-login" for ::1 at 2021-06-24 11:00:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.8ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (43.98ms)
Completed 200 OK in 49ms (Views: 42.2ms | ActiveRecord: 2.7ms | Allocations: 19553)


Started GET "/auto-login" for ::1 at 2021-06-24 11:00:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (46.89ms)
Completed 200 OK in 49ms (Views: 46.5ms | ActiveRecord: 1.1ms | Allocations: 19551)


Started GET "/auto-login" for ::1 at 2021-06-24 11:00:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.28ms)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 1.1ms | Allocations: 19550)


Started POST "/trades" for ::1 at 2021-06-24 11:03:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34078, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34078, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34078.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 15:03:24.310489"], ["updated_at", "2021-06-24 15:03:24.310489"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 2.1ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 11:17:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.37, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1970.37, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1970.37], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-24 15:17:57.649220"], ["updated_at", "2021-06-24 15:17:57.649220"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 6172)


Started POST "/trades" for ::1 at 2021-06-24 11:18:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:02.000957"], ["updated_at", "2021-06-24 15:18:02.000957"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 15:18:02.010830"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 554.076289], ["updated_at", "2021-06-24 15:18:02.015234"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.76ms)
Completed 200 OK in 57ms (Views: 1.1ms | ActiveRecord: 8.0ms | Allocations: 27423)


Started POST "/trades" for ::1 at 2021-06-24 11:18:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:03.028330"], ["updated_at", "2021-06-24 15:18:03.028330"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 15:18:03.037620"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 552.736289], ["updated_at", "2021-06-24 15:18:03.041875"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.82ms)
Completed 200 OK in 50ms (Views: 1.2ms | ActiveRecord: 7.4ms | Allocations: 27501)


Started POST "/trades" for ::1 at 2021-06-24 11:18:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:03.754151"], ["updated_at", "2021-06-24 15:18:03.754151"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 15:18:03.763729"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 551.396289], ["updated_at", "2021-06-24 15:18:03.767631"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.79ms)
Completed 200 OK in 57ms (Views: 1.2ms | ActiveRecord: 6.8ms | Allocations: 27677)


Started POST "/trades" for ::1 at 2021-06-24 11:18:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:04.516994"], ["updated_at", "2021-06-24 15:18:04.516994"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 15:18:04.527112"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 550.056289], ["updated_at", "2021-06-24 15:18:04.531878"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.85ms)
Completed 200 OK in 51ms (Views: 1.2ms | ActiveRecord: 7.5ms | Allocations: 27851)


Started POST "/trades" for ::1 at 2021-06-24 11:18:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:05.080309"], ["updated_at", "2021-06-24 15:18:05.080309"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 15:18:05.090309"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 548.716289], ["updated_at", "2021-06-24 15:18:05.094751"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.8ms)
Completed 200 OK in 49ms (Views: 1.2ms | ActiveRecord: 7.6ms | Allocations: 28028)


Started POST "/trades" for ::1 at 2021-06-24 11:18:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:05.562158"], ["updated_at", "2021-06-24 15:18:05.562158"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 15:18:05.572933"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (22.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (13.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 547.376289], ["updated_at", "2021-06-24 15:18:05.599151"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.32ms)
Completed 200 OK in 141ms (Views: 5.3ms | ActiveRecord: 43.2ms | Allocations: 34412)


Started POST "/trades" for ::1 at 2021-06-24 11:18:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:05.862320"], ["updated_at", "2021-06-24 15:18:05.862320"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 8], ["updated_at", "2021-06-24 15:18:05.873316"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 546.036289], ["updated_at", "2021-06-24 15:18:05.880151"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 104ms (Views: 1.6ms | ActiveRecord: 6.6ms | Allocations: 31944)


Started POST "/trades" for ::1 at 2021-06-24 11:18:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:06.149028"], ["updated_at", "2021-06-24 15:18:06.149028"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 9], ["updated_at", "2021-06-24 15:18:06.165703"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 544.696289], ["updated_at", "2021-06-24 15:18:06.179179"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 79ms (Views: 1.9ms | ActiveRecord: 13.1ms | Allocations: 31846)


Started POST "/trades" for ::1 at 2021-06-24 11:18:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:06.431322"], ["updated_at", "2021-06-24 15:18:06.431322"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-24 15:18:06.440608"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 543.356289], ["updated_at", "2021-06-24 15:18:06.445351"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.84ms)
Completed 200 OK in 53ms (Views: 1.4ms | ActiveRecord: 6.8ms | Allocations: 34175)


Started POST "/trades" for ::1 at 2021-06-24 11:18:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:06.865196"], ["updated_at", "2021-06-24 15:18:06.865196"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-24 15:18:06.880342"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 542.016289], ["updated_at", "2021-06-24 15:18:06.883880"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.86ms)
Completed 200 OK in 51ms (Views: 1.2ms | ActiveRecord: 12.3ms | Allocations: 28902)


Started POST "/trades" for ::1 at 2021-06-24 11:18:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:07.065624"], ["updated_at", "2021-06-24 15:18:07.065624"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-24 15:18:07.075995"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 540.676289], ["updated_at", "2021-06-24 15:18:07.081118"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.86ms)
Completed 200 OK in 58ms (Views: 1.2ms | ActiveRecord: 9.0ms | Allocations: 32544)


Started POST "/trades" for ::1 at 2021-06-24 11:18:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:07.258564"], ["updated_at", "2021-06-24 15:18:07.258564"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-24 15:18:07.273200"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 539.336289], ["updated_at", "2021-06-24 15:18:07.277001"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.88ms)
Completed 200 OK in 55ms (Views: 1.4ms | ActiveRecord: 12.5ms | Allocations: 32964)


Started POST "/trades" for ::1 at 2021-06-24 11:18:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (2.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:07.432835"], ["updated_at", "2021-06-24 15:18:07.432835"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-24 15:18:07.449079"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 537.996289], ["updated_at", "2021-06-24 15:18:07.453130"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.88ms)
Completed 200 OK in 69ms (Views: 1.3ms | ActiveRecord: 14.6ms | Allocations: 29438)


Started POST "/trades" for ::1 at 2021-06-24 11:18:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.34, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.34], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 15:18:07.612437"], ["updated_at", "2021-06-24 15:18:07.612437"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-24 15:18:07.629381"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 536.656289], ["updated_at", "2021-06-24 15:18:07.635142"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.93ms)
Completed 200 OK in 67ms (Views: 1.3ms | ActiveRecord: 13.3ms | Allocations: 32896)


Started POST "/trades" for ::1 at 2021-06-24 11:25:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34078, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34078, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34078.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 15:25:27.492350"], ["updated_at", "2021-06-24 15:25:27.492350"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 28ms (Views: 0.6ms | ActiveRecord: 10.0ms | Allocations: 6156)


Started GET "/auto-login" for ::1 at 2021-06-24 11:51:59 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.1ms)
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 1.5ms | Allocations: 23508)


Started GET "/auto-login" for ::1 at 2021-06-24 11:52:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (34.61ms)
Completed 200 OK in 48ms (Views: 33.8ms | ActiveRecord: 1.8ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 11:52:12 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (47.94ms)
Completed 200 OK in 53ms (Views: 47.6ms | ActiveRecord: 1.2ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:15:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (4.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (65.29ms)
Completed 200 OK in 78ms (Views: 59.0ms | ActiveRecord: 7.9ms | Allocations: 23509)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.32ms)
Completed 200 OK in 50ms (Views: 45.2ms | ActiveRecord: 1.0ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.55ms)
Completed 200 OK in 75ms (Views: 71.1ms | ActiveRecord: 1.5ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (52.75ms)
Completed 200 OK in 56ms (Views: 52.3ms | ActiveRecord: 1.3ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (30.85ms)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 1.0ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (68.15ms)
Completed 200 OK in 72ms (Views: 67.0ms | ActiveRecord: 2.0ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (51.98ms)
Completed 200 OK in 57ms (Views: 53.6ms | ActiveRecord: 1.3ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:16:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (39.73ms)
Completed 200 OK in 43ms (Views: 39.1ms | ActiveRecord: 1.3ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:18:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.19ms)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 1.0ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:19:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.08ms)
Completed 200 OK in 77ms (Views: 67.8ms | ActiveRecord: 2.2ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:19:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (89.15ms)
Completed 200 OK in 96ms (Views: 89.8ms | ActiveRecord: 1.3ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:20:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (46.3ms)
Completed 200 OK in 52ms (Views: 47.7ms | ActiveRecord: 1.2ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:20:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.88ms)
Completed 200 OK in 42ms (Views: 38.5ms | ActiveRecord: 1.2ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:22:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (44.81ms)
Completed 200 OK in 49ms (Views: 44.5ms | ActiveRecord: 1.9ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:23:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (32.0ms)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 1.0ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:30:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.94ms)
Completed 200 OK in 42ms (Views: 35.5ms | ActiveRecord: 3.1ms | Allocations: 23507)


Started GET "/auto-login" for ::1 at 2021-06-24 12:30:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (63.71ms)
Completed 200 OK in 66ms (Views: 63.2ms | ActiveRecord: 1.3ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:32:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (41.44ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 1.1ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:33:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (43.56ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 1.1ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:36:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (43.59ms)
Completed 200 OK in 51ms (Views: 47.2ms | ActiveRecord: 0.8ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:37:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.15ms)
Completed 200 OK in 53ms (Views: 49.2ms | ActiveRecord: 0.9ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:37:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (44.14ms)
Completed 200 OK in 49ms (Views: 44.0ms | ActiveRecord: 1.0ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:38:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (58.17ms)
Completed 200 OK in 62ms (Views: 55.6ms | ActiveRecord: 3.5ms | Allocations: 22969)


Started GET "/auto-login" for ::1 at 2021-06-24 12:39:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (33.53ms)
Completed 200 OK in 37ms (Views: 33.2ms | ActiveRecord: 1.2ms | Allocations: 22968)


Started GET "/auto-login" for ::1 at 2021-06-24 12:40:00 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (44.2ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 1.5ms | Allocations: 22968)


Started POST "/trades" for ::1 at 2021-06-24 12:40:14 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 16:40:14.238280"], ["updated_at", "2021-06-24 16:40:14.238280"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-24 16:40:14.248264"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 535.266289], ["updated_at", "2021-06-24 16:40:14.252381"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.94ms)
Completed 200 OK in 61ms (Views: 1.3ms | ActiveRecord: 8.1ms | Allocations: 30032)


Started POST "/trades" for ::1 at 2021-06-24 12:40:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 16:40:15.057447"], ["updated_at", "2021-06-24 16:40:15.057447"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-24 16:40:15.075115"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 533.876289], ["updated_at", "2021-06-24 16:40:15.081287"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 73ms (Views: 1.5ms | ActiveRecord: 9.7ms | Allocations: 30118)


Started POST "/trades" for ::1 at 2021-06-24 12:40:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 16:40:15.701746"], ["updated_at", "2021-06-24 16:40:15.701746"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (16.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-24 16:40:15.733486"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 532.486289], ["updated_at", "2021-06-24 16:40:15.743491"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.8ms)
Completed 200 OK in 85ms (Views: 2.3ms | ActiveRecord: 26.4ms | Allocations: 33589)


Started GET "/auto-login" for ::1 at 2021-06-24 12:45:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.49ms)
Completed 200 OK in 34ms (Views: 29.3ms | ActiveRecord: 1.1ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:46:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (47.4ms)
Completed 200 OK in 51ms (Views: 47.1ms | ActiveRecord: 1.1ms | Allocations: 23575)


Started GET "/auto-login" for ::1 at 2021-06-24 12:47:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.08ms)
Completed 200 OK in 43ms (Views: 37.6ms | ActiveRecord: 1.3ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:51:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (32.47ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.9ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:51:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (41.48ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 0.9ms | Allocations: 23575)


Started GET "/auto-login" for ::1 at 2021-06-24 12:52:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (32.61ms)
Completed 200 OK in 37ms (Views: 32.5ms | ActiveRecord: 1.2ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:52:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.42ms)
Completed 200 OK in 52ms (Views: 48.3ms | ActiveRecord: 1.0ms | Allocations: 23575)


Started GET "/auto-login" for ::1 at 2021-06-24 12:54:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.16ms)
Completed 200 OK in 44ms (Views: 40.7ms | ActiveRecord: 1.1ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:55:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.47ms)
Completed 200 OK in 40ms (Views: 36.3ms | ActiveRecord: 1.1ms | Allocations: 23574)


Started GET "/auto-login" for ::1 at 2021-06-24 12:56:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (100.87ms)
Completed 200 OK in 107ms (Views: 101.5ms | ActiveRecord: 1.6ms | Allocations: 23575)


Started GET "/auto-login" for ::1 at 2021-06-24 12:58:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (46.0ms)
Completed 200 OK in 50ms (Views: 44.3ms | ActiveRecord: 2.6ms | Allocations: 23574)


Started POST "/trades" for ::1 at 2021-06-24 12:59:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.4, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Cardano", "coin_id"=>"ada", "price"=>1.4, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Cardano"], ["coin_id", "ada"], ["price", 1.4], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860"], ["created_at", "2021-06-24 16:59:06.976474"], ["updated_at", "2021-06-24 16:59:06.976474"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ada"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-24 16:59:06.992190"], ["id", 5]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 531.086289], ["updated_at", "2021-06-24 16:59:06.996153"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.92ms)
Completed 200 OK in 64ms (Views: 1.3ms | ActiveRecord: 12.3ms | Allocations: 30469)


Started POST "/trades" for ::1 at 2021-06-24 12:59:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34508, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34508, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34508.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 16:59:08.901317"], ["updated_at", "2021-06-24 16:59:08.901317"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 17ms (Views: 0.6ms | ActiveRecord: 2.4ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 13:02:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 17:02:39.257805"], ["updated_at", "2021-06-24 17:02:39.257805"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["average_price", 0.679012], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 17:02:39.273892"], ["updated_at", "2021-06-24 17:02:39.273892"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 530.407277], ["updated_at", "2021-06-24 17:02:39.279508"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 102ms (Views: 1.8ms | ActiveRecord: 7.2ms | Allocations: 31747)


Started POST "/trades" for ::1 at 2021-06-24 13:19:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-24 17:19:22.203558"], ["updated_at", "2021-06-24 17:19:22.203558"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 17:19:22.213412"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 529.728265], ["updated_at", "2021-06-24 17:19:22.217951"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.93ms)
Completed 200 OK in 54ms (Views: 1.3ms | ActiveRecord: 8.9ms | Allocations: 31791)


Started GET "/auto-login" for ::1 at 2021-06-24 13:20:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (64.48ms)
Completed 200 OK in 68ms (Views: 63.6ms | ActiveRecord: 1.9ms | Allocations: 24543)


Started GET "/auto-login" for ::1 at 2021-06-24 13:20:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (35.01ms)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 1.2ms | Allocations: 24542)


Started GET "/auto-login" for ::1 at 2021-06-24 13:22:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (30.99ms)
Completed 200 OK in 34ms (Views: 30.5ms | ActiveRecord: 1.2ms | Allocations: 24543)


Started GET "/auto-login" for ::1 at 2021-06-24 13:29:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (3.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (53.87ms)
Completed 200 OK in 62ms (Views: 50.3ms | ActiveRecord: 5.9ms | Allocations: 25082)


Started GET "/auto-login" for ::1 at 2021-06-24 13:30:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (59.36ms)
Completed 200 OK in 66ms (Views: 59.2ms | ActiveRecord: 1.2ms | Allocations: 24542)


Started POST "/trades" for ::1 at 2021-06-24 13:33:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.02], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 17:33:07.912609"], ["updated_at", "2021-06-24 17:33:07.912609"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.2ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-24 17:33:07.925611"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 528.708265], ["updated_at", "2021-06-24 17:33:07.934367"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.7ms)
Completed 200 OK in 81ms (Views: 2.2ms | ActiveRecord: 13.8ms | Allocations: 31415)


Started POST "/trades" for ::1 at 2021-06-24 13:33:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.02], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 17:33:08.883583"], ["updated_at", "2021-06-24 17:33:08.883583"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-24 17:33:08.901254"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 527.688265], ["updated_at", "2021-06-24 17:33:08.906106"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 73ms (Views: 1.9ms | ActiveRecord: 14.4ms | Allocations: 31503)


Started POST "/trades" for ::1 at 2021-06-24 13:33:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.02], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 17:33:09.791016"], ["updated_at", "2021-06-24 17:33:09.791016"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 4], ["updated_at", "2021-06-24 17:33:09.808134"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 526.668265], ["updated_at", "2021-06-24 17:33:09.813755"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 82ms (Views: 2.2ms | ActiveRecord: 11.1ms | Allocations: 32787)


Started POST "/trades" for ::1 at 2021-06-24 13:34:45 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.55], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-24 17:34:45.585327"], ["updated_at", "2021-06-24 17:34:45.585327"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.8ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["average_price", 16.55], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-24 17:34:45.601115"], ["updated_at", "2021-06-24 17:34:45.601115"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 510.118265], ["updated_at", "2021-06-24 17:34:45.608203"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.82ms)
Completed 200 OK in 78ms (Views: 2.3ms | ActiveRecord: 9.9ms | Allocations: 32795)


Started POST "/trades" for ::1 at 2021-06-24 13:34:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.02], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 17:34:52.163162"], ["updated_at", "2021-06-24 17:34:52.163162"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-24 17:34:52.177251"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 509.098265], ["updated_at", "2021-06-24 17:34:52.196140"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.37ms)
Completed 200 OK in 93ms (Views: 2.2ms | ActiveRecord: 10.7ms | Allocations: 37011)


Started POST "/trades" for ::1 at 2021-06-24 13:34:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1.02, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.02], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 17:34:52.514292"], ["updated_at", "2021-06-24 17:34:52.514292"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.1ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-24 17:34:52.533711"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 508.078265], ["updated_at", "2021-06-24 17:34:52.540482"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.87ms)
Completed 200 OK in 89ms (Views: 2.7ms | ActiveRecord: 16.7ms | Allocations: 32377)


Started POST "/trades" for ::1 at 2021-06-24 13:35:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>35040, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>35040, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 35040.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 17:35:52.839989"], ["updated_at", "2021-06-24 17:35:52.839989"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 29ms (Views: 0.7ms | ActiveRecord: 8.1ms | Allocations: 5622)


Started GET "/auto-login" for ::1 at 2021-06-24 13:38:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (51.34ms)
Completed 200 OK in 55ms (Views: 49.9ms | ActiveRecord: 2.4ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:38:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (5.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (102.04ms)
Completed 200 OK in 108ms (Views: 98.0ms | ActiveRecord: 6.1ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:38:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.34ms)
Completed 200 OK in 73ms (Views: 67.9ms | ActiveRecord: 2.5ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:38:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (62.91ms)
Completed 200 OK in 67ms (Views: 62.0ms | ActiveRecord: 1.9ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:39:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (66.93ms)
Completed 200 OK in 72ms (Views: 66.2ms | ActiveRecord: 1.7ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:39:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.45ms)
Completed 200 OK in 60ms (Views: 54.9ms | ActiveRecord: 1.8ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:44:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (59.78ms)
Completed 200 OK in 65ms (Views: 59.4ms | ActiveRecord: 1.5ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:50:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (62.15ms)
Completed 200 OK in 69ms (Views: 62.4ms | ActiveRecord: 2.7ms | Allocations: 26657)


Started GET "/auto-login" for ::1 at 2021-06-24 13:50:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (82.07ms)
Completed 200 OK in 87ms (Views: 81.3ms | ActiveRecord: 2.1ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:50:48 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (53.84ms)
Completed 200 OK in 58ms (Views: 53.3ms | ActiveRecord: 1.6ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:50:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (52.77ms)
Completed 200 OK in 57ms (Views: 52.3ms | ActiveRecord: 1.6ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:51:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (71.02ms)
Completed 200 OK in 76ms (Views: 70.6ms | ActiveRecord: 1.5ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:51:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (59.52ms)
Completed 200 OK in 64ms (Views: 59.2ms | ActiveRecord: 1.5ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:54:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (64.1ms)
Completed 200 OK in 67ms (Views: 63.6ms | ActiveRecord: 1.4ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:55:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (89.43ms)
Completed 200 OK in 94ms (Views: 89.3ms | ActiveRecord: 1.9ms | Allocations: 26118)


Started GET "/auto-login" for ::1 at 2021-06-24 13:55:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (99.73ms)
Completed 200 OK in 104ms (Views: 98.9ms | ActiveRecord: 1.8ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:57:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (75.96ms)
Completed 200 OK in 81ms (Views: 74.8ms | ActiveRecord: 2.7ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:57:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.8ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (116.53ms)
Completed 200 OK in 121ms (Views: 115.7ms | ActiveRecord: 2.2ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 13:58:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (118.26ms)
Completed 200 OK in 125ms (Views: 116.3ms | ActiveRecord: 3.0ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 13:59:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (101.86ms)
Completed 200 OK in 107ms (Views: 101.7ms | ActiveRecord: 1.4ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:01:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (47.08ms)
Completed 200 OK in 52ms (Views: 46.9ms | ActiveRecord: 1.5ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:01:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (7.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (89.52ms)
Completed 200 OK in 95ms (Views: 83.0ms | ActiveRecord: 8.7ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:01:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.13ms)
Completed 200 OK in 62ms (Views: 56.6ms | ActiveRecord: 1.6ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:01:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.59ms)
Completed 200 OK in 62ms (Views: 57.0ms | ActiveRecord: 1.7ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:01:40 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (79.0ms)
Completed 200 OK in 83ms (Views: 78.6ms | ActiveRecord: 1.6ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:02:45 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (1.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.93ms)
Completed 200 OK in 62ms (Views: 54.7ms | ActiveRecord: 4.4ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:08:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (67.98ms)
Completed 200 OK in 73ms (Views: 66.9ms | ActiveRecord: 2.6ms | Allocations: 26656)


Started GET "/auto-login" for ::1 at 2021-06-24 14:09:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.7ms)
Completed 200 OK in 56ms (Views: 48.3ms | ActiveRecord: 1.8ms | Allocations: 26119)


Started GET "/auto-login" for ::1 at 2021-06-24 14:11:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (60.54ms)
Completed 200 OK in 64ms (Views: 60.1ms | ActiveRecord: 1.4ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:11:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (72.38ms)
Completed 200 OK in 77ms (Views: 72.9ms | ActiveRecord: 1.3ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:11:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.38ms)
Completed 200 OK in 56ms (Views: 49.9ms | ActiveRecord: 1.5ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:12:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (63.86ms)
Completed 200 OK in 68ms (Views: 63.3ms | ActiveRecord: 1.9ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:12:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (39.93ms)
Completed 200 OK in 44ms (Views: 39.3ms | ActiveRecord: 1.5ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:12:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (65.64ms)
Completed 200 OK in 71ms (Views: 65.5ms | ActiveRecord: 1.5ms | Allocations: 26119)


Started GET "/auto-login" for ::1 at 2021-06-24 14:12:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.98ms)
Completed 200 OK in 77ms (Views: 57.2ms | ActiveRecord: 1.8ms | Allocations: 26118)


Started GET "/auto-login" for ::1 at 2021-06-24 14:12:50 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.37ms)
Completed 200 OK in 60ms (Views: 54.7ms | ActiveRecord: 1.8ms | Allocations: 26116)


Started POST "/login" for ::1 at 2021-06-24 14:16:43 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.96ms)
Completed 200 OK in 260ms (Views: 1.5ms | ActiveRecord: 1.2ms | Allocations: 22222)


Started GET "/auto-login" for ::1 at 2021-06-24 14:17:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (62.65ms)
Completed 200 OK in 68ms (Views: 62.4ms | ActiveRecord: 1.9ms | Allocations: 26116)


Started POST "/login" for ::1 at 2021-06-24 14:29:22 -0400
Processing by SessionController#login as JSON
  Parameters: {"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]", "session"=>{"email"=>"dan@test.com", "password"=>"[FILTERED]", "emailError"=>"", "passwordError"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dan@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/session_controller.rb:3:in `login'
  [1m[36mPortfolio Load (5.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/session_controller.rb:7:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 262ms (Views: 1.3ms | ActiveRecord: 9.0ms | Allocations: 22649)


Started GET "/auto-login" for ::1 at 2021-06-24 14:29:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (28.62ms)
Completed 200 OK in 31ms (Views: 28.4ms | ActiveRecord: 1.0ms | Allocations: 26135)


Started GET "/auto-login" for ::1 at 2021-06-24 14:29:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (56.44ms)
Completed 200 OK in 60ms (Views: 56.1ms | ActiveRecord: 1.2ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:29:39 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (30.32ms)
Completed 200 OK in 33ms (Views: 30.3ms | ActiveRecord: 0.8ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:29:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (64.89ms)
Completed 200 OK in 69ms (Views: 64.4ms | ActiveRecord: 1.3ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:29:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.97ms)
Completed 200 OK in 42ms (Views: 38.9ms | ActiveRecord: 0.9ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:33:36 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (118.13ms)
Completed 200 OK in 123ms (Views: 115.9ms | ActiveRecord: 3.0ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:37:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (65.47ms)
Completed 200 OK in 68ms (Views: 64.7ms | ActiveRecord: 1.6ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:37:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.25ms)
Completed 200 OK in 44ms (Views: 39.9ms | ActiveRecord: 1.2ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:37:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (80.39ms)
Completed 200 OK in 86ms (Views: 81.5ms | ActiveRecord: 1.1ms | Allocations: 26118)


Started GET "/auto-login" for ::1 at 2021-06-24 14:37:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (39.25ms)
Completed 200 OK in 43ms (Views: 38.9ms | ActiveRecord: 1.3ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:39:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (33.94ms)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 1.0ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:39:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (77.46ms)
Completed 200 OK in 81ms (Views: 76.1ms | ActiveRecord: 2.3ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:43:45 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (46.52ms)
Completed 200 OK in 51ms (Views: 46.1ms | ActiveRecord: 1.5ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:43:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (33.6ms)
Completed 200 OK in 38ms (Views: 34.0ms | ActiveRecord: 1.2ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:43:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.19ms)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 1.3ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:44:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.38ms)
Completed 200 OK in 40ms (Views: 36.1ms | ActiveRecord: 1.2ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:45:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.17ms)
Completed 200 OK in 40ms (Views: 35.8ms | ActiveRecord: 1.0ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:46:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (51.2ms)
Completed 200 OK in 55ms (Views: 50.9ms | ActiveRecord: 1.2ms | Allocations: 26119)


Started GET "/auto-login" for ::1 at 2021-06-24 14:46:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.4ms)
Completed 200 OK in 60ms (Views: 57.0ms | ActiveRecord: 1.1ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:46:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (68.09ms)
Completed 200 OK in 71ms (Views: 67.9ms | ActiveRecord: 1.1ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:47:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (37.53ms)
Completed 200 OK in 40ms (Views: 37.3ms | ActiveRecord: 0.9ms | Allocations: 26116)


Started GET "/auto-login" for ::1 at 2021-06-24 14:47:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.19ms)
Completed 200 OK in 48ms (Views: 44.8ms | ActiveRecord: 1.2ms | Allocations: 26117)


Started GET "/auto-login" for ::1 at 2021-06-24 14:47:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (56.89ms)
Completed 200 OK in 61ms (Views: 56.8ms | ActiveRecord: 1.4ms | Allocations: 26116)


Started POST "/trades" for ::1 at 2021-06-24 14:48:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>35076, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>35076, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 35076.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-24 18:48:22.501776"], ["updated_at", "2021-06-24 18:48:22.501776"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 16ms (Views: 0.6ms | ActiveRecord: 3.4ms | Allocations: 5684)


Started GET "/auto-login" for ::1 at 2021-06-24 14:48:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.49ms)
Completed 200 OK in 49ms (Views: 45.2ms | ActiveRecord: 1.1ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 14:53:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (48.38ms)
Completed 200 OK in 53ms (Views: 49.4ms | ActiveRecord: 1.2ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 14:56:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (78.18ms)
Completed 200 OK in 83ms (Views: 78.4ms | ActiveRecord: 1.4ms | Allocations: 26312)


Started GET "/auto-login" for ::1 at 2021-06-24 14:56:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (42.93ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 1.2ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 14:56:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.32ms)
Completed 200 OK in 53ms (Views: 48.6ms | ActiveRecord: 1.6ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 14:59:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.9ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (84.4ms)
Completed 200 OK in 88ms (Views: 83.1ms | ActiveRecord: 2.0ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:02:17 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (2.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (1.7ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (133.04ms)
Completed 200 OK in 139ms (Views: 127.7ms | ActiveRecord: 6.3ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:02:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.44ms)
Completed 200 OK in 72ms (Views: 68.8ms | ActiveRecord: 1.3ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:03:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (56.69ms)
Completed 200 OK in 60ms (Views: 56.3ms | ActiveRecord: 1.4ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:04:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (50.76ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 1.6ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:04:40 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (90.92ms)
Completed 200 OK in 95ms (Views: 90.6ms | ActiveRecord: 1.2ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:06:57 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.94ms)
Completed 200 OK in 49ms (Views: 40.4ms | ActiveRecord: 1.5ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:08:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (44.85ms)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 1.0ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:08:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.09ms)
Completed 200 OK in 54ms (Views: 49.8ms | ActiveRecord: 1.1ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:08:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (74.12ms)
Completed 200 OK in 77ms (Views: 73.7ms | ActiveRecord: 1.2ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:09:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (34.03ms)
Completed 200 OK in 37ms (Views: 33.6ms | ActiveRecord: 1.1ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:02 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.49ms)
Completed 200 OK in 49ms (Views: 45.0ms | ActiveRecord: 1.3ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (46.43ms)
Completed 200 OK in 50ms (Views: 45.8ms | ActiveRecord: 1.4ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (59.0ms)
Completed 200 OK in 64ms (Views: 59.0ms | ActiveRecord: 1.1ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.76ms)
Completed 200 OK in 44ms (Views: 40.6ms | ActiveRecord: 0.9ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (42.82ms)
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 1.0ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:10:52 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (71.48ms)
Completed 200 OK in 76ms (Views: 72.4ms | ActiveRecord: 1.5ms | Allocations: 26314)


Started GET "/auto-login" for ::1 at 2021-06-24 15:11:21 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (63.54ms)
Completed 200 OK in 68ms (Views: 63.0ms | ActiveRecord: 1.6ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:11:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (34.12ms)
Completed 200 OK in 37ms (Views: 33.6ms | ActiveRecord: 1.3ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:11:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (66.67ms)
Completed 200 OK in 70ms (Views: 66.3ms | ActiveRecord: 1.2ms | Allocations: 26314)


Started GET "/auto-login" for ::1 at 2021-06-24 15:14:44 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (54.09ms)
Completed 200 OK in 58ms (Views: 53.6ms | ActiveRecord: 1.4ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:15:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (56.53ms)
Completed 200 OK in 60ms (Views: 55.8ms | ActiveRecord: 1.5ms | Allocations: 26311)


Started GET "/auto-login" for ::1 at 2021-06-24 15:15:41 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (40.48ms)
Completed 200 OK in 44ms (Views: 39.0ms | ActiveRecord: 2.5ms | Allocations: 26310)


Started GET "/auto-login" for ::1 at 2021-06-24 15:16:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (81.73ms)
Completed 200 OK in 86ms (Views: 83.0ms | ActiveRecord: 1.2ms | Allocations: 26314)


Started GET "/auto-login" for ::1 at 2021-06-24 15:22:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (58.97ms)
Completed 200 OK in 63ms (Views: 58.4ms | ActiveRecord: 1.5ms | Allocations: 26849)


Started GET "/auto-login" for ::1 at 2021-06-24 15:52:25 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (4.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (79.14ms)
Completed 200 OK in 94ms (Views: 76.0ms | ActiveRecord: 7.9ms | Allocations: 26850)


Started GET "/auto-login" for ::1 at 2021-06-24 15:58:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (49.77ms)
Completed 200 OK in 56ms (Views: 46.9ms | ActiveRecord: 4.6ms | Allocations: 26849)


Started POST "/trades" for ::1 at 2021-06-24 15:58:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"2", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"2", "user_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" IS NULL LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.9ms | Allocations: 2682)


  
NoMethodError (undefined method `current_balance' for nil:NilClass):
  
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:35:59 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.8ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (184.46ms)
Completed 200 OK in 211ms (Views: 188.2ms | ActiveRecord: 5.4ms | Allocations: 26850)


Started POST "/trades" for ::1 at 2021-06-24 19:39:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"15", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"15", "user_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" IS NULL LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.8ms | Allocations: 2672)


  
NoMethodError (undefined method `current_balance' for nil:NilClass):
  
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 19:39:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-24 23:39:51.670568"], ["updated_at", "2021-06-24 23:39:51.670568"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-24 23:39:51.685867"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 507.078265], ["updated_at", "2021-06-24 23:39:51.690951"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 73ms (Views: 2.4ms | ActiveRecord: 10.0ms | Allocations: 32928)


Started GET "/auto-login" for ::1 at 2021-06-24 19:45:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (60.69ms)
Completed 200 OK in 78ms (Views: 60.3ms | ActiveRecord: 1.4ms | Allocations: 26505)


Started POST "/trades" for ::1 at 2021-06-24 19:45:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"18", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"18", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2453)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:47:33 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (45.04ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 2.3ms | Allocations: 26503)


Started POST "/trades" for ::1 at 2021-06-24 19:47:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"15", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"15", "user_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" IS NULL LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.5ms | Allocations: 2630)


  
NoMethodError (undefined method `current_balance' for nil:NilClass):
  
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:48:59 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (52.58ms)
Completed 200 OK in 56ms (Views: 52.4ms | ActiveRecord: 1.2ms | Allocations: 26503)


Started POST "/trades" for ::1 at 2021-06-24 19:49:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "user_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" IS NULL LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2628)


  
NoMethodError (undefined method `current_balance' for nil:NilClass):
  
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:51:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (73.63ms)
Completed 200 OK in 78ms (Views: 73.8ms | ActiveRecord: 1.5ms | Allocations: 26504)


Started POST "/trades" for ::1 at 2021-06-24 19:51:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>"1", "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "user_id"=>1, "portfolio_id"=>"1", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.9ms | Allocations: 2454)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:52:35 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (44.2ms)
Completed 200 OK in 48ms (Views: 43.3ms | ActiveRecord: 1.8ms | Allocations: 26503)


Started POST "/trades" for ::1 at 2021-06-24 19:52:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"2", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>false, "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"2", "user_id"=>1, "portfolio_id"=>false, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.8ms | Allocations: 2654)


  
NoMethodError (undefined method `current_balance' for nil:NilClass):
  
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 19:53:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"Bitcoin", "price"=>"34126.0", "quantity"=>"5", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms | Allocations: 2452)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 19:53:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>"1", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>"1", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms | Allocations: 2452)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:54:26 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (75.31ms)
Completed 200 OK in 83ms (Views: 75.7ms | ActiveRecord: 3.3ms | Allocations: 26506)


Started POST "/trades" for ::1 at 2021-06-24 19:54:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264821, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264821, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.264821], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 23:54:29.248710"], ["updated_at", "2021-06-24 23:54:29.248710"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-24 23:54:29.261253"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 506.813444], ["updated_at", "2021-06-24 23:54:29.266304"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 134ms (Views: 1.8ms | ActiveRecord: 9.0ms | Allocations: 33063)


Started POST "/trades" for ::1 at 2021-06-24 19:54:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264821, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264821, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.264821], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-24 23:54:30.397413"], ["updated_at", "2021-06-24 23:54:30.397413"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 30], ["updated_at", "2021-06-24 23:54:30.414619"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 506.548623], ["updated_at", "2021-06-24 23:54:30.419434"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.9ms)
Completed 200 OK in 68ms (Views: 2.6ms | ActiveRecord: 13.4ms | Allocations: 33236)


Started GET "/auto-login" for ::1 at 2021-06-24 19:55:46 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (86.75ms)
Completed 200 OK in 90ms (Views: 84.7ms | ActiveRecord: 3.1ms | Allocations: 26909)


Started POST "/trades" for ::1 at 2021-06-24 19:55:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>"1", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>"1", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms | Allocations: 2453)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 19:58:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (69.25ms)
Completed 200 OK in 74ms (Views: 69.6ms | ActiveRecord: 1.5ms | Allocations: 26907)


Started POST "/trades" for ::1 at 2021-06-24 19:58:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms | Allocations: 2455)


  
TypeError (String can't be coerced into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started GET "/auto-login" for ::1 at 2021-06-24 20:00:31 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.7ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (124.24ms)
Completed 200 OK in 131ms (Views: 125.5ms | ActiveRecord: 2.0ms | Allocations: 26907)


Started POST "/trades" for ::1 at 2021-06-24 20:00:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>"0.239228", "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms | Allocations: 2455)


  
TypeError (String can't be coerced into Integer):
  
app/controllers/trades_controller.rb:22:in `*'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 20:01:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264013, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.264013, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.264013], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:01:41.861323"], ["updated_at", "2021-06-25 00:01:41.861323"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 31], ["updated_at", "2021-06-25 00:01:41.875946"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 506.28461], ["updated_at", "2021-06-25 00:01:41.879512"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 74ms (Views: 1.5ms | ActiveRecord: 12.6ms | Allocations: 33411)


Started POST "/trades" for ::1 at 2021-06-24 20:02:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "Dogecoin"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:02:20.716696"], ["updated_at", "2021-06-25 00:02:20.716696"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "Dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "Dogecoin"], ["average_price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:02:20.731379"], ["updated_at", "2021-06-25 00:02:20.731379"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (2.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 506.045382], ["updated_at", "2021-06-25 00:02:20.737801"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.54ms)
Completed 200 OK in 85ms (Views: 2.1ms | ActiveRecord: 12.4ms | Allocations: 34522)


Started POST "/trades" for ::1 at 2021-06-24 20:02:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>0.239228, "quantity"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"Dogecoin", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "Dogecoin"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:02:24.761857"], ["updated_at", "2021-06-25 00:02:24.761857"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "Dogecoin"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "Dogecoin"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-25 00:02:24.772654"], ["id", 9]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 505.566926], ["updated_at", "2021-06-25 00:02:24.777148"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.54ms)
Completed 200 OK in 61ms (Views: 2.0ms | ActiveRecord: 7.2ms | Allocations: 33936)


Started GET "/auto-login" for ::1 at 2021-06-24 20:05:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (12.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.85ms)
Completed 200 OK in 59ms (Views: 43.1ms | ActiveRecord: 13.7ms | Allocations: 27683)


Started POST "/trades" for ::1 at 2021-06-24 20:05:11 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>nil, "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>nil, "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:05:11.486300"], ["updated_at", "2021-06-25 00:05:11.486300"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" IS NULL[0m  [["portfolio_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["average_price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:05:11.501409"], ["updated_at", "2021-06-25 00:05:11.501409"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 505.327698], ["updated_at", "2021-06-25 00:05:11.506624"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.65ms)
Completed 200 OK in 81ms (Views: 2.2ms | ActiveRecord: 11.2ms | Allocations: 35006)


Started POST "/trades" for ::1 at 2021-06-24 20:05:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>nil, "price"=>0.239228, "quantity"=>5, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>nil, "price"=>0.239228, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["price", 0.239228], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:05:25.601984"], ["updated_at", "2021-06-25 00:05:25.601984"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" IS NULL[0m  [["portfolio_id", 1]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" IS NULL[0m  [["portfolio_id", 1]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-25 00:05:25.616346"], ["id", 10]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 504.131558], ["updated_at", "2021-06-25 00:05:25.622277"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.4ms)
Completed 200 OK in 77ms (Views: 1.9ms | ActiveRecord: 12.2ms | Allocations: 34436)


Started GET "/auto-login" for ::1 at 2021-06-24 20:05:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.77ms)
Completed 200 OK in 60ms (Views: 55.1ms | ActiveRecord: 1.5ms | Allocations: 28234)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (1.5ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 111]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (5.5ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 110]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/auto-login" for ::1 at 2021-06-24 20:08:45 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (57.45ms)
Completed 200 OK in 61ms (Views: 55.9ms | ActiveRecord: 2.5ms | Allocations: 27843)


Started GET "/auto-login" for ::1 at 2021-06-24 20:08:58 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (53.12ms)
Completed 200 OK in 57ms (Views: 52.3ms | ActiveRecord: 1.6ms | Allocations: 27844)


  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (2.0ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 109]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (1.3ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 108]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (6.7ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 107]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auto-login" for ::1 at 2021-06-24 20:09:29 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (5.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (139.29ms)
Completed 200 OK in 144ms (Views: 135.2ms | ActiveRecord: 6.7ms | Allocations: 27238)


  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (6.6ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 106]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (6.6ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 105]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (7.2ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 104]]
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTrade Destroy (1.4ms)[0m  [1m[31mDELETE FROM "trades" WHERE "trades"."id" = ?[0m  [["id", 103]]
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" ORDER BY "trades"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auto-login" for ::1 at 2021-06-24 20:10:04 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (83.07ms)
Completed 200 OK in 137ms (Views: 100.8ms | ActiveRecord: 4.6ms | Allocations: 60956)


Started GET "/auto-login" for ::1 at 2021-06-24 20:10:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (73.2ms)
Completed 200 OK in 78ms (Views: 72.7ms | ActiveRecord: 1.6ms | Allocations: 26467)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins"[0m
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" ORDER BY "coins"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCoin Destroy (1.7ms)[0m  [1m[31mDELETE FROM "coins" WHERE "coins"."id" = ?[0m  [["id", 10]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" ORDER BY "coins"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins"[0m
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" ORDER BY "coins"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCoin Destroy (8.9ms)[0m  [1m[31mDELETE FROM "coins" WHERE "coins"."id" = ?[0m  [["id", 9]]
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" ORDER BY "coins"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/auto-login" for ::1 at 2021-06-24 20:12:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (36.65ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 1.0ms | Allocations: 26137)


Started POST "/trades" for ::1 at 2021-06-24 20:12:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:12:26.106185"], ["updated_at", "2021-06-25 00:12:26.106185"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 32], ["updated_at", "2021-06-25 00:12:26.120561"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 503.89233], ["updated_at", "2021-06-25 00:12:26.126260"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 116ms (Views: 4.5ms | ActiveRecord: 10.1ms | Allocations: 34554)


Started POST "/trades" for ::1 at 2021-06-24 20:12:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>5, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:12:35.473380"], ["updated_at", "2021-06-25 00:12:35.473380"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 37], ["updated_at", "2021-06-25 00:12:35.489848"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 502.69619], ["updated_at", "2021-06-25 00:12:35.496816"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.77ms)
Completed 200 OK in 87ms (Views: 2.2ms | ActiveRecord: 11.6ms | Allocations: 32930)


Started POST "/trades" for ::1 at 2021-06-24 20:12:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>8, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:12:42.198544"], ["updated_at", "2021-06-25 00:12:42.198544"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 45], ["updated_at", "2021-06-25 00:12:42.209942"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 500.782366], ["updated_at", "2021-06-25 00:12:42.215509"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 80ms (Views: 1.7ms | ActiveRecord: 8.4ms | Allocations: 33085)


Started POST "/trades" for ::1 at 2021-06-24 20:13:14 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 00:13:14.684247"], ["updated_at", "2021-06-25 00:13:14.684247"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 29ms (Views: 0.6ms | ActiveRecord: 7.1ms | Allocations: 5626)


Started POST "/trades" for ::1 at 2021-06-24 20:14:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>8, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 00:14:31.164461"], ["updated_at", "2021-06-25 00:14:31.164461"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 24ms (Views: 0.5ms | ActiveRecord: 8.0ms | Allocations: 5626)


Started POST "/trades" for ::1 at 2021-06-24 20:18:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-25 00:18:05.204826"], ["updated_at", "2021-06-25 00:18:05.204826"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-25 00:18:05.219097"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 500.103354], ["updated_at", "2021-06-25 00:18:05.223464"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 84ms (Views: 1.7ms | ActiveRecord: 8.8ms | Allocations: 33587)


Started GET "/auto-login" for ::1 at 2021-06-24 20:20:13 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (38.07ms)
Completed 200 OK in 42ms (Views: 38.0ms | ActiveRecord: 1.0ms | Allocations: 27312)


Started POST "/trades" for ::1 at 2021-06-24 20:23:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:23:57.472788"], ["updated_at", "2021-06-25 00:23:57.472788"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 46], ["updated_at", "2021-06-25 00:23:57.486449"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 499.864126], ["updated_at", "2021-06-25 00:23:57.492360"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 84ms (Views: 1.8ms | ActiveRecord: 11.5ms | Allocations: 33762)


Started POST "/trades" for ::1 at 2021-06-24 20:24:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>5, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:24:16.025228"], ["updated_at", "2021-06-25 00:24:16.025228"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 51], ["updated_at", "2021-06-25 00:24:16.037468"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 498.667986], ["updated_at", "2021-06-25 00:24:16.042795"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.55ms)
Completed 200 OK in 68ms (Views: 2.1ms | ActiveRecord: 9.2ms | Allocations: 33936)


Started POST "/trades" for ::1 at 2021-06-24 20:26:01 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>2, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-25 00:26:01.068993"], ["updated_at", "2021-06-25 00:26:01.068993"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-25 00:26:01.091219"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 497.309962], ["updated_at", "2021-06-25 00:26:01.097610"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.64ms)
Completed 200 OK in 83ms (Views: 2.2ms | ActiveRecord: 8.7ms | Allocations: 34112)


Started POST "/trades" for ::1 at 2021-06-24 20:33:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>4, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>4, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", 4], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 00:33:29.171623"], ["updated_at", "2021-06-25 00:33:29.171623"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 22ms (Views: 0.5ms | ActiveRecord: 4.0ms | Allocations: 6173)


Started POST "/trades" for ::1 at 2021-06-24 20:35:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>12, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>12, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 12], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 00:35:15.322353"], ["updated_at", "2021-06-25 00:35:15.322353"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 63], ["updated_at", "2021-06-25 00:35:15.333457"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 494.439226], ["updated_at", "2021-06-25 00:35:15.337499"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.4ms)
Completed 200 OK in 78ms (Views: 1.8ms | ActiveRecord: 9.3ms | Allocations: 34558)


Started POST "/trades" for ::1 at 2021-06-24 20:43:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.57, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615", "portfolio_id"=>1, "user_id"=>1, "trade"=>{"coin_name"=>"Binance Coin", "coin_id"=>"bnb", "price"=>305.57, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Binance Coin"], ["coin_id", "bnb"], ["price", 305.57], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/825/large/binance-coin-logo.png?1547034615"], ["created_at", "2021-06-25 00:43:24.916496"], ["updated_at", "2021-06-25 00:43:24.916496"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "bnb"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 5], ["updated_at", "2021-06-25 00:43:24.928839"], ["id", 3]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 800.009226], ["updated_at", "2021-06-25 00:43:24.934635"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.58ms)
Completed 200 OK in 72ms (Views: 2.1ms | ActiveRecord: 10.2ms | Allocations: 35268)


Started POST "/trades" for ::1 at 2021-06-24 21:24:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>-5, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 01:24:00.778669"], ["updated_at", "2021-06-25 01:24:00.778669"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", -1], ["updated_at", "2021-06-25 01:24:00.795817"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10663.059226], ["updated_at", "2021-06-25 01:24:00.807154"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.41ms)
Completed 200 OK in 99ms (Views: 1.9ms | ActiveRecord: 26.0ms | Allocations: 35443)


Started GET "/auto-login" for ::1 at 2021-06-24 21:37:32 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (77.16ms)
Completed 200 OK in 84ms (Views: 76.9ms | ActiveRecord: 1.8ms | Allocations: 29267)


Started GET "/auto-login" for ::1 at 2021-06-24 21:45:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (55.73ms)
Completed 200 OK in 61ms (Views: 54.9ms | ActiveRecord: 2.3ms | Allocations: 29265)


Started GET "/auto-login" for ::1 at 2021-06-24 21:46:10 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (68.66ms)
Completed 200 OK in 72ms (Views: 68.1ms | ActiveRecord: 1.4ms | Allocations: 28727)


Started GET "/auto-login" for ::1 at 2021-06-24 21:48:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (93.37ms)
Completed 200 OK in 101ms (Views: 96.9ms | ActiveRecord: 1.1ms | Allocations: 28726)


Started POST "/trades" for ::1 at 2021-06-24 21:59:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>8, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 01:59:03.074148"], ["updated_at", "2021-06-25 01:59:03.074148"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 22ms (Views: 0.6ms | ActiveRecord: 4.2ms | Allocations: 6156)


Started POST "/trades" for ::1 at 2021-06-24 22:02:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:02:09.296809"], ["updated_at", "2021-06-25 02:02:09.296809"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 21ms (Views: 1.1ms | ActiveRecord: 3.0ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 22:05:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:05:16.972067"], ["updated_at", "2021-06-25 02:05:16.972067"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 64], ["updated_at", "2021-06-25 02:05:16.986187"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10662.819998], ["updated_at", "2021-06-25 02:05:16.990161"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.66ms)
Completed 200 OK in 77ms (Views: 2.2ms | ActiveRecord: 10.3ms | Allocations: 35420)


Started POST "/trades" for ::1 at 2021-06-24 22:05:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:05:24.348076"], ["updated_at", "2021-06-25 02:05:24.348076"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 65], ["updated_at", "2021-06-25 02:05:24.358370"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10662.58077], ["updated_at", "2021-06-25 02:05:24.362670"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.09ms)
Completed 200 OK in 66ms (Views: 1.5ms | ActiveRecord: 7.4ms | Allocations: 35496)


Started GET "/auto-login" for ::1 at 2021-06-24 22:09:51 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (94.07ms)
Completed 200 OK in 101ms (Views: 95.4ms | ActiveRecord: 1.2ms | Allocations: 29518)


Started POST "/trades" for ::1 at 2021-06-24 22:10:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:10:20.950220"], ["updated_at", "2021-06-25 02:10:20.950220"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 02:10:20.976986"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 181292.58077], ["updated_at", "2021-06-25 02:10:20.985467"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.3ms)
Completed 200 OK in 121ms (Views: 1.8ms | ActiveRecord: 9.7ms | Allocations: 35639)


Started POST "/trades" for ::1 at 2021-06-24 22:10:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:10:29.556741"], ["updated_at", "2021-06-25 02:10:29.556741"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-25 02:10:29.570179"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 147166.58077], ["updated_at", "2021-06-25 02:10:29.576422"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 84ms (Views: 2.0ms | ActiveRecord: 9.7ms | Allocations: 35809)


Started POST "/trades" for ::1 at 2021-06-24 22:10:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:10:36.498568"], ["updated_at", "2021-06-25 02:10:36.498568"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 26], ["updated_at", "2021-06-25 02:10:36.511232"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113040.58077], ["updated_at", "2021-06-25 02:10:36.522160"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 92ms (Views: 2.2ms | ActiveRecord: 10.8ms | Allocations: 39267)


Started POST "/trades" for ::1 at 2021-06-24 22:10:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:10:45.008131"], ["updated_at", "2021-06-25 02:10:45.008131"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-25 02:10:45.017524"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 78914.58077], ["updated_at", "2021-06-25 02:10:45.022762"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 110ms (Views: 1.6ms | ActiveRecord: 8.7ms | Allocations: 36149)


Started POST "/trades" for ::1 at 2021-06-24 22:10:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:10:58.730115"], ["updated_at", "2021-06-25 02:10:58.730115"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:10:58.754504"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44788.58077], ["updated_at", "2021-06-25 02:10:58.764498"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.37ms)
Completed 200 OK in 96ms (Views: 1.8ms | ActiveRecord: 19.4ms | Allocations: 41623)


Started POST "/trades" for ::1 at 2021-06-24 22:11:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:11:07.279955"], ["updated_at", "2021-06-25 02:11:07.279955"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-25 02:11:07.293204"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10662.58077], ["updated_at", "2021-06-25 02:11:07.297962"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.86ms)
Completed 200 OK in 105ms (Views: 2.5ms | ActiveRecord: 9.4ms | Allocations: 36491)


Started POST "/trades" for ::1 at 2021-06-24 22:11:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:11:50.689487"], ["updated_at", "2021-06-25 02:11:50.689487"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:11:50.707306"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44788.58077], ["updated_at", "2021-06-25 02:11:50.713769"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.47ms)
Completed 200 OK in 85ms (Views: 1.9ms | ActiveRecord: 11.0ms | Allocations: 36640)


Started POST "/trades" for ::1 at 2021-06-24 22:12:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:12:02.886106"], ["updated_at", "2021-06-25 02:12:02.886106"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-25 02:12:02.907325"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10662.58077], ["updated_at", "2021-06-25 02:12:02.912522"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.37ms)
Completed 200 OK in 112ms (Views: 7.4ms | ActiveRecord: 16.2ms | Allocations: 41024)


Started POST "/trades" for ::1 at 2021-06-24 22:12:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:12:56.569727"], ["updated_at", "2021-06-25 02:12:56.569727"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 2.9ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 22:18:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:18:41.603439"], ["updated_at", "2021-06-25 02:18:41.603439"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 21ms (Views: 0.5ms | ActiveRecord: 3.8ms | Allocations: 6157)


Started POST "/trades" for ::1 at 2021-06-24 22:19:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:19:24.325437"], ["updated_at", "2021-06-25 02:19:24.325437"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 20ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 22:20:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:20:16.065343"], ["updated_at", "2021-06-25 02:20:16.065343"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 42ms (Views: 0.7ms | ActiveRecord: 4.0ms | Allocations: 5622)


Started POST "/trades" for ::1 at 2021-06-24 22:21:17 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:21:17.330967"], ["updated_at", "2021-06-25 02:21:17.330967"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 66], ["updated_at", "2021-06-25 02:21:17.343729"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10662.341542], ["updated_at", "2021-06-25 02:21:17.348916"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.53ms)
Completed 200 OK in 77ms (Views: 2.0ms | ActiveRecord: 11.1ms | Allocations: 37770)


Started POST "/trades" for ::1 at 2021-06-24 22:21:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:21:23.093498"], ["updated_at", "2021-06-25 02:21:23.093498"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 68], ["updated_at", "2021-06-25 02:21:23.106416"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10661.863086], ["updated_at", "2021-06-25 02:21:23.111608"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 84ms (Views: 1.9ms | ActiveRecord: 9.3ms | Allocations: 37850)


Started POST "/trades" for ::1 at 2021-06-24 22:23:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>"1", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>"1", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms | Allocations: 2463)


  
TypeError (String can't be coerced into BigDecimal):
  
app/controllers/trades_controller.rb:22:in `-'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 22:24:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:24:52.580008"], ["updated_at", "2021-06-25 02:24:52.580008"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 69], ["updated_at", "2021-06-25 02:24:52.594200"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10661.623858], ["updated_at", "2021-06-25 02:24:52.600001"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 98ms (Views: 1.9ms | ActiveRecord: 12.1ms | Allocations: 38024)


Started POST "/trades" for ::1 at 2021-06-24 22:27:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:27:21.980803"], ["updated_at", "2021-06-25 02:27:21.980803"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 20ms (Views: 0.8ms | ActiveRecord: 2.6ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 22:29:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>"-1", "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>"-1", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.5ms | Allocations: 2456)


  
TypeError (String can't be coerced into BigDecimal):
  
app/controllers/trades_controller.rb:22:in `-'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 22:29:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:29:51.026836"], ["updated_at", "2021-06-25 02:29:51.026836"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:29:51.037405"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:29:51.043226"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 101ms (Views: 1.9ms | ActiveRecord: 9.3ms | Allocations: 38334)


Started POST "/trades" for ::1 at 2021-06-24 22:29:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:29:55.067442"], ["updated_at", "2021-06-25 02:29:55.067442"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-25 02:29:55.080936"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10661.623858], ["updated_at", "2021-06-25 02:29:55.085637"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.62ms)
Completed 200 OK in 80ms (Views: 2.2ms | ActiveRecord: 8.5ms | Allocations: 38501)


Started POST "/trades" for ::1 at 2021-06-24 22:30:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:30:02.981276"], ["updated_at", "2021-06-25 02:30:02.981276"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:30:02.993811"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:30:02.998579"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 87ms (Views: 2.0ms | ActiveRecord: 9.0ms | Allocations: 38669)


Started POST "/trades" for ::1 at 2021-06-24 22:30:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:30:06.955720"], ["updated_at", "2021-06-25 02:30:06.955720"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 22ms (Views: 0.6ms | ActiveRecord: 2.9ms | Allocations: 5621)


Started POST "/trades" for ::1 at 2021-06-24 22:30:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:30:35.296968"], ["updated_at", "2021-06-25 02:30:35.296968"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-25 02:30:35.307145"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 78913.623858], ["updated_at", "2021-06-25 02:30:35.311359"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 70ms (Views: 1.6ms | ActiveRecord: 7.4ms | Allocations: 39003)


Started POST "/trades" for ::1 at 2021-06-24 22:30:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:30:44.882349"], ["updated_at", "2021-06-25 02:30:44.882349"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:30:44.895409"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:30:44.900197"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.7ms)
Completed 200 OK in 124ms (Views: 3.9ms | ActiveRecord: 10.6ms | Allocations: 40799)


Started POST "/trades" for ::1 at 2021-06-24 22:32:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:20.964130"], ["updated_at", "2021-06-25 02:32:20.964130"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-25 02:32:20.977526"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 78913.623858], ["updated_at", "2021-06-25 02:32:20.983267"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 86ms (Views: 2.0ms | ActiveRecord: 8.4ms | Allocations: 39338)


Started POST "/trades" for ::1 at 2021-06-24 22:32:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:22.055937"], ["updated_at", "2021-06-25 02:32:22.055937"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:32:22.066240"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:32:22.070683"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (9.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.56ms)
Completed 200 OK in 83ms (Views: 2.0ms | ActiveRecord: 17.0ms | Allocations: 39507)


Started POST "/trades" for ::1 at 2021-06-24 22:32:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:25.676194"], ["updated_at", "2021-06-25 02:32:25.676194"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-25 02:32:25.685607"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 78913.623858], ["updated_at", "2021-06-25 02:32:25.693369"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.54ms)
Completed 200 OK in 85ms (Views: 3.1ms | ActiveRecord: 11.2ms | Allocations: 44353)


Started POST "/trades" for ::1 at 2021-06-24 22:32:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:30.109579"], ["updated_at", "2021-06-25 02:32:30.109579"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:32:30.125099"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:32:30.131497"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.68ms)
Completed 200 OK in 99ms (Views: 2.3ms | ActiveRecord: 11.6ms | Allocations: 39840)


Started POST "/trades" for ::1 at 2021-06-24 22:32:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:31.295859"], ["updated_at", "2021-06-25 02:32:31.295859"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 29], ["updated_at", "2021-06-25 02:32:31.312116"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 10661.623858], ["updated_at", "2021-06-25 02:32:31.316445"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.53ms)
Completed 200 OK in 72ms (Views: 1.9ms | ActiveRecord: 13.3ms | Allocations: 40005)


Started POST "/trades" for ::1 at 2021-06-24 22:32:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:33.985166"], ["updated_at", "2021-06-25 02:32:33.985166"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 28], ["updated_at", "2021-06-25 02:32:33.994973"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 44787.623858], ["updated_at", "2021-06-25 02:32:34.011721"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 86ms (Views: 1.7ms | ActiveRecord: 9.3ms | Allocations: 46659)


Started POST "/trades" for ::1 at 2021-06-24 22:32:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:36.062957"], ["updated_at", "2021-06-25 02:32:36.062957"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 27], ["updated_at", "2021-06-25 02:32:36.079364"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (11.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 78913.623858], ["updated_at", "2021-06-25 02:32:36.083802"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 98ms (Views: 2.1ms | ActiveRecord: 19.7ms | Allocations: 43911)


Started POST "/trades" for ::1 at 2021-06-24 22:32:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:32:38.476263"], ["updated_at", "2021-06-25 02:32:38.476263"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 26], ["updated_at", "2021-06-25 02:32:38.487112"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.623858], ["updated_at", "2021-06-25 02:32:38.491821"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.63ms)
Completed 200 OK in 77ms (Views: 2.0ms | ActiveRecord: 8.0ms | Allocations: 40506)


Started GET "/auto-login" for ::1 at 2021-06-24 22:36:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (73.57ms)
Completed 200 OK in 77ms (Views: 72.7ms | ActiveRecord: 1.7ms | Allocations: 35362)


Started POST "/trades" for ::1 at 2021-06-24 22:36:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:36:53.443868"], ["updated_at", "2021-06-25 02:36:53.443868"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 70], ["updated_at", "2021-06-25 02:36:53.458780"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.38463], ["updated_at", "2021-06-25 02:36:53.464289"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.57ms)
Completed 200 OK in 86ms (Views: 2.0ms | ActiveRecord: 10.6ms | Allocations: 40705)


Started POST "/trades" for ::1 at 2021-06-24 22:37:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"1", "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:37:06.170058"], ["updated_at", "2021-06-25 02:37:06.170058"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 71], ["updated_at", "2021-06-25 02:37:06.181198"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.145402], ["updated_at", "2021-06-25 02:37:06.185822"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 82ms (Views: 2.1ms | ActiveRecord: 8.3ms | Allocations: 40880)


Started POST "/trades" for ::1 at 2021-06-24 22:37:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:37:18.704252"], ["updated_at", "2021-06-25 02:37:18.704252"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 72], ["updated_at", "2021-06-25 02:37:18.715350"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.906174], ["updated_at", "2021-06-25 02:37:18.720091"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.63ms)
Completed 200 OK in 93ms (Views: 2.0ms | ActiveRecord: 9.4ms | Allocations: 41055)


Started POST "/trades" for ::1 at 2021-06-24 22:38:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:20.467161"], ["updated_at", "2021-06-25 02:38:20.467161"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 71], ["updated_at", "2021-06-25 02:38:20.483193"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.145402], ["updated_at", "2021-06-25 02:38:20.488032"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.59ms)
Completed 200 OK in 83ms (Views: 2.0ms | ActiveRecord: 14.3ms | Allocations: 41230)


Started POST "/trades" for ::1 at 2021-06-24 22:38:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (2.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:23.535801"], ["updated_at", "2021-06-25 02:38:23.535801"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 70], ["updated_at", "2021-06-25 02:38:23.567185"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.38463], ["updated_at", "2021-06-25 02:38:23.584943"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (3.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (1.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.67ms)
Completed 200 OK in 161ms (Views: 2.2ms | ActiveRecord: 15.2ms | Allocations: 41422)


Started POST "/trades" for ::1 at 2021-06-24 22:38:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:27.348939"], ["updated_at", "2021-06-25 02:38:27.348939"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 69], ["updated_at", "2021-06-25 02:38:27.359407"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.623858], ["updated_at", "2021-06-25 02:38:27.367201"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.09ms)
Completed 200 OK in 75ms (Views: 2.7ms | ActiveRecord: 10.3ms | Allocations: 44873)


Started POST "/trades" for ::1 at 2021-06-24 22:38:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:30.267726"], ["updated_at", "2021-06-25 02:38:30.267726"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 70], ["updated_at", "2021-06-25 02:38:30.278876"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.38463], ["updated_at", "2021-06-25 02:38:30.283927"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.65ms)
Completed 200 OK in 78ms (Views: 2.0ms | ActiveRecord: 8.4ms | Allocations: 41755)


Started POST "/trades" for ::1 at 2021-06-24 22:38:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:30.989328"], ["updated_at", "2021-06-25 02:38:30.989328"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 71], ["updated_at", "2021-06-25 02:38:31.005123"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.145402], ["updated_at", "2021-06-25 02:38:31.010867"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.67ms)
Completed 200 OK in 103ms (Views: 2.1ms | ActiveRecord: 15.0ms | Allocations: 41930)


Started POST "/trades" for ::1 at 2021-06-24 22:38:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:31.523709"], ["updated_at", "2021-06-25 02:38:31.523709"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 72], ["updated_at", "2021-06-25 02:38:31.558958"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.906174], ["updated_at", "2021-06-25 02:38:31.564601"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.69ms)
Completed 200 OK in 105ms (Views: 2.1ms | ActiveRecord: 10.3ms | Allocations: 42104)


Started POST "/trades" for ::1 at 2021-06-24 22:38:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:33.802699"], ["updated_at", "2021-06-25 02:38:33.802699"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 71], ["updated_at", "2021-06-25 02:38:33.814866"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.145402], ["updated_at", "2021-06-25 02:38:33.823875"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.79ms)
Completed 200 OK in 84ms (Views: 2.2ms | ActiveRecord: 10.9ms | Allocations: 42280)


Started POST "/trades" for ::1 at 2021-06-24 22:38:34 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:34.702112"], ["updated_at", "2021-06-25 02:38:34.702112"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 72], ["updated_at", "2021-06-25 02:38:34.719068"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.906174], ["updated_at", "2021-06-25 02:38:34.723541"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 88ms (Views: 2.1ms | ActiveRecord: 14.2ms | Allocations: 42455)


Started POST "/trades" for ::1 at 2021-06-24 22:38:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:35.739051"], ["updated_at", "2021-06-25 02:38:35.739051"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 73], ["updated_at", "2021-06-25 02:38:35.755999"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.666946], ["updated_at", "2021-06-25 02:38:35.760929"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.73ms)
Completed 200 OK in 75ms (Views: 2.1ms | ActiveRecord: 13.6ms | Allocations: 42629)


Started POST "/trades" for ::1 at 2021-06-24 22:38:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:38:38.555054"], ["updated_at", "2021-06-25 02:38:38.555054"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 72], ["updated_at", "2021-06-25 02:38:38.567462"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.906174], ["updated_at", "2021-06-25 02:38:38.572364"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.67ms)
Completed 200 OK in 74ms (Views: 2.0ms | ActiveRecord: 8.9ms | Allocations: 42805)


Started POST "/trades" for ::1 at 2021-06-24 22:39:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:39:15.858174"], ["updated_at", "2021-06-25 02:39:15.858174"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 73], ["updated_at", "2021-06-25 02:39:15.868889"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113038.666946], ["updated_at", "2021-06-25 02:39:15.874131"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.73ms)
Completed 200 OK in 84ms (Views: 2.2ms | ActiveRecord: 9.2ms | Allocations: 42980)


Started POST "/trades" for ::1 at 2021-06-24 22:39:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-5, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:39:31.558387"], ["updated_at", "2021-06-25 02:39:31.558387"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 68], ["updated_at", "2021-06-25 02:39:31.570361"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.863086], ["updated_at", "2021-06-25 02:39:31.575348"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 80ms (Views: 2.1ms | ActiveRecord: 8.1ms | Allocations: 43155)


Started POST "/trades" for ::1 at 2021-06-24 22:39:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:39:37.779501"], ["updated_at", "2021-06-25 02:39:37.779501"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 69], ["updated_at", "2021-06-25 02:39:37.791564"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.623858], ["updated_at", "2021-06-25 02:39:37.796920"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.94ms)
Completed 200 OK in 77ms (Views: 2.5ms | ActiveRecord: 9.8ms | Allocations: 43329)


Started POST "/trades" for ::1 at 2021-06-24 22:39:51 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:39:51.509051"], ["updated_at", "2021-06-25 02:39:51.509051"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 70], ["updated_at", "2021-06-25 02:39:51.524074"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (2.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113039.38463], ["updated_at", "2021-06-25 02:39:51.534055"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 95ms (Views: 2.5ms | ActiveRecord: 12.0ms | Allocations: 43505)


Started POST "/trades" for ::1 at 2021-06-24 22:40:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>8, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-8, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:40:33.376945"], ["updated_at", "2021-06-25 02:40:33.376945"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 62], ["updated_at", "2021-06-25 02:40:33.400026"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113041.298454], ["updated_at", "2021-06-25 02:40:33.406238"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.87ms)
Completed 200 OK in 131ms (Views: 2.4ms | ActiveRecord: 11.3ms | Allocations: 43680)


Started POST "/trades" for ::1 at 2021-06-24 22:41:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>"", "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>"", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms | Allocations: 2456)


  
TypeError (String can't be coerced into BigDecimal):
  
app/controllers/trades_controller.rb:22:in `-'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 22:41:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:41:36.509928"], ["updated_at", "2021-06-25 02:41:36.509928"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 60], ["updated_at", "2021-06-25 02:41:36.528827"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113041.77691], ["updated_at", "2021-06-25 02:41:36.534323"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.94ms)
Completed 200 OK in 91ms (Views: 2.4ms | ActiveRecord: 14.5ms | Allocations: 43854)


Started POST "/trades" for ::1 at 2021-06-24 22:42:10 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:10.262513"], ["updated_at", "2021-06-25 02:42:10.262513"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 62], ["updated_at", "2021-06-25 02:42:10.274871"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113041.298454], ["updated_at", "2021-06-25 02:42:10.280027"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.82ms)
Completed 200 OK in 86ms (Views: 2.4ms | ActiveRecord: 9.0ms | Allocations: 44031)


Started POST "/trades" for ::1 at 2021-06-24 22:42:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:16.839988"], ["updated_at", "2021-06-25 02:42:16.839988"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 64], ["updated_at", "2021-06-25 02:42:16.854112"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113040.819998], ["updated_at", "2021-06-25 02:42:16.859693"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.92ms)
Completed 200 OK in 87ms (Views: 2.4ms | ActiveRecord: 9.7ms | Allocations: 44205)


Started POST "/trades" for ::1 at 2021-06-24 22:42:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:30.077604"], ["updated_at", "2021-06-25 02:42:30.077604"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 62], ["updated_at", "2021-06-25 02:42:30.088069"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113041.298454], ["updated_at", "2021-06-25 02:42:30.093246"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.96ms)
Completed 200 OK in 79ms (Views: 2.3ms | ActiveRecord: 8.7ms | Allocations: 44380)


Started POST "/trades" for ::1 at 2021-06-24 22:42:37 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>8, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-8, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:37.993664"], ["updated_at", "2021-06-25 02:42:37.993664"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 54], ["updated_at", "2021-06-25 02:42:38.005664"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113043.212278], ["updated_at", "2021-06-25 02:42:38.010762"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (2.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.9ms)
Completed 200 OK in 125ms (Views: 2.3ms | ActiveRecord: 10.0ms | Allocations: 44569)


Started POST "/trades" for ::1 at 2021-06-24 22:42:42 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:42.865989"], ["updated_at", "2021-06-25 02:42:42.865989"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 55], ["updated_at", "2021-06-25 02:42:42.880515"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113042.97305], ["updated_at", "2021-06-25 02:42:42.884742"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.97ms)
Completed 200 OK in 95ms (Views: 2.4ms | ActiveRecord: 9.1ms | Allocations: 44729)


Started POST "/trades" for ::1 at 2021-06-24 22:42:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:42:54.391787"], ["updated_at", "2021-06-25 02:42:54.391787"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 65], ["updated_at", "2021-06-25 02:42:54.407983"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113040.58077], ["updated_at", "2021-06-25 02:42:54.415423"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.93ms)
Completed 200 OK in 95ms (Views: 2.3ms | ActiveRecord: 12.2ms | Allocations: 48199)


Started POST "/trades" for ::1 at 2021-06-24 22:43:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:43:00.697904"], ["updated_at", "2021-06-25 02:43:00.697904"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 55], ["updated_at", "2021-06-25 02:43:00.708006"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113042.97305], ["updated_at", "2021-06-25 02:43:00.714968"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.87ms)
Completed 200 OK in 88ms (Views: 2.4ms | ActiveRecord: 8.5ms | Allocations: 51567)


Started POST "/trades" for ::1 at 2021-06-24 22:43:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:43:47.574622"], ["updated_at", "2021-06-25 02:43:47.574622"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 65], ["updated_at", "2021-06-25 02:43:47.583995"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113040.58077], ["updated_at", "2021-06-25 02:43:47.587812"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.6ms)
Completed 200 OK in 63ms (Views: 2.0ms | ActiveRecord: 7.2ms | Allocations: 45254)


Started POST "/trades" for ::1 at 2021-06-24 22:43:54 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:43:54.058981"], ["updated_at", "2021-06-25 02:43:54.058981"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 55], ["updated_at", "2021-06-25 02:43:54.070657"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113042.97305], ["updated_at", "2021-06-25 02:43:54.075388"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 74ms (Views: 2.9ms | ActiveRecord: 8.2ms | Allocations: 45440)


Started POST "/trades" for ::1 at 2021-06-24 22:44:18 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (7.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:18.577643"], ["updated_at", "2021-06-25 02:44:18.577643"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 17], ["updated_at", "2021-06-25 02:44:18.600238"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113032.97305], ["updated_at", "2021-06-25 02:44:18.605904"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.81ms)
Completed 200 OK in 104ms (Views: 2.2ms | ActiveRecord: 20.8ms | Allocations: 45573)


Started POST "/trades" for ::1 at 2021-06-24 22:44:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:22.836026"], ["updated_at", "2021-06-25 02:44:22.836026"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-25 02:44:22.852423"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113031.97305], ["updated_at", "2021-06-25 02:44:22.858483"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.88ms)
Completed 200 OK in 93ms (Views: 2.3ms | ActiveRecord: 15.2ms | Allocations: 45741)


Started POST "/trades" for ::1 at 2021-06-24 22:44:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:24.671252"], ["updated_at", "2021-06-25 02:44:24.671252"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-25 02:44:24.689024"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113030.97305], ["updated_at", "2021-06-25 02:44:24.693927"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (3.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.75ms)
Completed 200 OK in 121ms (Views: 2.5ms | ActiveRecord: 16.4ms | Allocations: 45906)


Started POST "/trades" for ::1 at 2021-06-24 22:44:33 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:33.552415"], ["updated_at", "2021-06-25 02:44:33.552415"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-25 02:44:33.563112"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113029.97305], ["updated_at", "2021-06-25 02:44:33.568469"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.79ms)
Completed 200 OK in 76ms (Views: 2.3ms | ActiveRecord: 8.0ms | Allocations: 46074)


Started POST "/trades" for ::1 at 2021-06-24 22:44:35 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:35.749564"], ["updated_at", "2021-06-25 02:44:35.749564"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 02:44:35.760730"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113028.97305], ["updated_at", "2021-06-25 02:44:35.775205"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.88ms)
Completed 200 OK in 86ms (Views: 2.4ms | ActiveRecord: 7.5ms | Allocations: 51409)


Started POST "/trades" for ::1 at 2021-06-24 22:44:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:44:36.367452"], ["updated_at", "2021-06-25 02:44:36.367452"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 22], ["updated_at", "2021-06-25 02:44:36.387453"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113027.97305], ["updated_at", "2021-06-25 02:44:36.394524"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.06ms)
Completed 200 OK in 94ms (Views: 2.5ms | ActiveRecord: 14.2ms | Allocations: 49702)


Started POST "/trades" for ::1 at 2021-06-24 22:45:10 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:10.817960"], ["updated_at", "2021-06-25 02:45:10.817960"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 02:45:10.830305"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113026.97305], ["updated_at", "2021-06-25 02:45:10.835035"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.06ms)
Completed 200 OK in 103ms (Views: 3.7ms | ActiveRecord: 9.3ms | Allocations: 46575)


Started POST "/trades" for ::1 at 2021-06-24 22:45:17 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:17.222155"], ["updated_at", "2021-06-25 02:45:17.222155"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 02:45:17.234312"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113025.97305], ["updated_at", "2021-06-25 02:45:17.239913"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.95ms)
Completed 200 OK in 88ms (Views: 2.3ms | ActiveRecord: 9.5ms | Allocations: 46742)


Started POST "/trades" for ::1 at 2021-06-24 22:45:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:25.345763"], ["updated_at", "2021-06-25 02:45:25.345763"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 02:45:25.356466"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113026.97305], ["updated_at", "2021-06-25 02:45:25.362062"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.96ms)
Completed 200 OK in 87ms (Views: 2.5ms | ActiveRecord: 7.8ms | Allocations: 50722)


Started POST "/trades" for ::1 at 2021-06-24 22:45:32 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>2, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:32.072702"], ["updated_at", "2021-06-25 02:45:32.072702"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-25 02:45:32.086458"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113024.97305], ["updated_at", "2021-06-25 02:45:32.091630"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.98ms)
Completed 200 OK in 91ms (Views: 3.0ms | ActiveRecord: 10.5ms | Allocations: 49026)


Started POST "/trades" for ::1 at 2021-06-24 22:45:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:44.504127"], ["updated_at", "2021-06-25 02:45:44.504127"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 02:45:44.517187"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113026.97305], ["updated_at", "2021-06-25 02:45:44.527003"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (2.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.83ms)
Completed 200 OK in 152ms (Views: 2.3ms | ActiveRecord: 10.0ms | Allocations: 52182)


Started POST "/trades" for ::1 at 2021-06-24 22:45:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:45:55.243726"], ["updated_at", "2021-06-25 02:45:55.243726"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 02:45:55.253972"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113028.97305], ["updated_at", "2021-06-25 02:45:55.258854"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.91ms)
Completed 200 OK in 74ms (Views: 2.4ms | ActiveRecord: 8.2ms | Allocations: 47409)


Started POST "/trades" for ::1 at 2021-06-24 22:46:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"1", "quantity"=>1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:46:50.362059"], ["updated_at", "2021-06-25 02:46:50.362059"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 22], ["updated_at", "2021-06-25 02:46:50.373330"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113027.97305], ["updated_at", "2021-06-25 02:46:50.378944"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.71ms)
Completed 200 OK in 99ms (Views: 2.1ms | ActiveRecord: 9.5ms | Allocations: 47578)


Started POST "/trades" for ::1 at 2021-06-24 22:46:55 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:46:55.895385"], ["updated_at", "2021-06-25 02:46:55.895385"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 02:46:55.904564"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113028.97305], ["updated_at", "2021-06-25 02:46:55.909140"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.73ms)
Completed 200 OK in 72ms (Views: 2.1ms | ActiveRecord: 8.3ms | Allocations: 47744)


Started POST "/trades" for ::1 at 2021-06-24 22:47:03 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-5, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:47:03.376759"], ["updated_at", "2021-06-25 02:47:03.376759"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-25 02:47:03.394052"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113033.97305], ["updated_at", "2021-06-25 02:47:03.400961"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.02ms)
Completed 200 OK in 106ms (Views: 2.4ms | ActiveRecord: 10.6ms | Allocations: 47911)


Started POST "/trades" for ::1 at 2021-06-24 22:47:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>8, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>8, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:47:21.829326"], ["updated_at", "2021-06-25 02:47:21.829326"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 02:47:21.841975"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113025.97305], ["updated_at", "2021-06-25 02:47:21.846675"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.14ms)
Completed 200 OK in 90ms (Views: 2.7ms | ActiveRecord: 8.9ms | Allocations: 48078)


Started POST "/trades" for ::1 at 2021-06-24 22:47:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>8, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-8, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>-8, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", -8], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:47:27.432503"], ["updated_at", "2021-06-25 02:47:27.432503"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-25 02:47:27.443931"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113033.97305], ["updated_at", "2021-06-25 02:47:27.451762"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.03ms)
Completed 200 OK in 82ms (Views: 2.5ms | ActiveRecord: 8.4ms | Allocations: 51812)


Started POST "/trades" for ::1 at 2021-06-24 22:47:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>"", "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>"", "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>"", "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms | Allocations: 2456)


  
TypeError (String can't be coerced into BigDecimal):
  
app/controllers/trades_controller.rb:22:in `-'
app/controllers/trades_controller.rb:22:in `create'
Started POST "/trades" for ::1 at 2021-06-24 22:48:22 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Tether", "coin_id"=>"usdt", "price"=>1, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Tether"], ["coin_id", "usdt"], ["price", 1.0], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707"], ["created_at", "2021-06-25 02:48:22.621482"], ["updated_at", "2021-06-25 02:48:22.621482"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdt"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 26], ["updated_at", "2021-06-25 02:48:22.638294"], ["id", 4]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 113023.97305], ["updated_at", "2021-06-25 02:48:22.643599"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.02ms)
Completed 200 OK in 92ms (Views: 2.4ms | ActiveRecord: 12.1ms | Allocations: 48410)


Started POST "/trades" for ::1 at 2021-06-24 22:48:36 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 02:48:36.294542"], ["updated_at", "2021-06-25 02:48:36.294542"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 02:48:36.306736"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283653.97305], ["updated_at", "2021-06-25 02:48:36.315113"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.98ms)
Completed 200 OK in 86ms (Views: 2.6ms | ActiveRecord: 8.1ms | Allocations: 54621)


Started POST "/trades" for ::1 at 2021-06-24 22:49:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:49:08.012162"], ["updated_at", "2021-06-25 02:49:08.012162"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 65], ["updated_at", "2021-06-25 02:49:08.033555"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283651.58077], ["updated_at", "2021-06-25 02:49:08.038213"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.7ms)
Completed 200 OK in 79ms (Views: 2.0ms | ActiveRecord: 7.9ms | Allocations: 48778)


Started POST "/trades" for ::1 at 2021-06-24 22:49:13 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:49:13.189023"], ["updated_at", "2021-06-25 02:49:13.189023"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 66], ["updated_at", "2021-06-25 02:49:13.201675"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283651.341542], ["updated_at", "2021-06-25 02:49:13.207386"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.09ms)
Completed 200 OK in 95ms (Views: 2.5ms | ActiveRecord: 10.5ms | Allocations: 48953)


Started POST "/trades" for ::1 at 2021-06-24 22:49:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:49:46.651796"], ["updated_at", "2021-06-25 02:49:46.651796"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 68], ["updated_at", "2021-06-25 02:49:46.663499"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283650.863086], ["updated_at", "2021-06-25 02:49:46.668770"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.04ms)
Completed 200 OK in 89ms (Views: 2.5ms | ActiveRecord: 9.2ms | Allocations: 49128)


Started POST "/trades" for ::1 at 2021-06-24 22:49:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:49:50.925825"], ["updated_at", "2021-06-25 02:49:50.925825"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 70], ["updated_at", "2021-06-25 02:49:50.936733"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283650.38463], ["updated_at", "2021-06-25 02:49:50.942175"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.28ms)
Completed 200 OK in 108ms (Views: 2.8ms | ActiveRecord: 8.9ms | Allocations: 49303)


Started POST "/trades" for ::1 at 2021-06-24 22:49:59 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.239228, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.239228], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 02:49:59.241185"], ["updated_at", "2021-06-25 02:49:59.241185"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 68], ["updated_at", "2021-06-25 02:49:59.253161"], ["id", 6]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283650.863086], ["updated_at", "2021-06-25 02:49:59.257939"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 92ms (Views: 2.5ms | ActiveRecord: 9.6ms | Allocations: 49478)


Started POST "/trades" for ::1 at 2021-06-24 22:50:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.55], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 02:50:23.687591"], ["updated_at", "2021-06-25 02:50:23.687591"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (3.1ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-25 02:50:23.702139"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283485.363086], ["updated_at", "2021-06-25 02:50:23.708633"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.87ms)
Completed 200 OK in 100ms (Views: 2.4ms | ActiveRecord: 14.1ms | Allocations: 49653)


Started POST "/trades" for ::1 at 2021-06-24 22:50:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.55], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 02:50:30.012045"], ["updated_at", "2021-06-25 02:50:30.012045"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 02:50:30.024186"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283319.863086], ["updated_at", "2021-06-25 02:50:30.028908"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.32ms)
Completed 200 OK in 125ms (Views: 4.9ms | ActiveRecord: 8.9ms | Allocations: 50821)


Started POST "/trades" for ::1 at 2021-06-24 22:50:34 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity_field"=>4, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>4, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>4, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.55], ["quantity", 4], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 02:50:34.658741"], ["updated_at", "2021-06-25 02:50:34.658741"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-25 02:50:34.669326"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283253.663086], ["updated_at", "2021-06-25 02:50:34.674834"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.69ms)
Completed 200 OK in 130ms (Views: 3.3ms | ActiveRecord: 19.6ms | Allocations: 51127)


Started POST "/trades" for ::1 at 2021-06-24 22:50:40 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>16.55, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 16.55], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 02:50:40.512119"], ["updated_at", "2021-06-25 02:50:40.512119"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 02:50:40.525295"], ["id", 8]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 283270.213086], ["updated_at", "2021-06-25 02:50:40.530920"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 101ms (Views: 2.8ms | ActiveRecord: 9.6ms | Allocations: 50178)


Started POST "/trades" for ::1 at 2021-06-25 06:20:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>9, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-9, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-9, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -9], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:20:08.826536"], ["updated_at", "2021-06-25 10:20:08.826536"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-25 10:20:08.857548"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 590404.213086], ["updated_at", "2021-06-25 10:20:08.863322"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 111ms (Views: 2.6ms | ActiveRecord: 11.8ms | Allocations: 50952)


Started POST "/trades" for ::1 at 2021-06-25 06:26:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:26:00.611925"], ["updated_at", "2021-06-25 10:26:00.611925"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-25 10:26:00.624753"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556278.213086], ["updated_at", "2021-06-25 10:26:00.628994"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (12.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.65ms)
Completed 200 OK in 99ms (Views: 5.1ms | ActiveRecord: 21.3ms | Allocations: 51120)


Started POST "/trades" for ::1 at 2021-06-25 06:26:06 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:26:06.925802"], ["updated_at", "2021-06-25 10:26:06.925802"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-25 10:26:06.939287"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 590404.213086], ["updated_at", "2021-06-25 10:26:06.944999"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.17ms)
Completed 200 OK in 90ms (Views: 2.6ms | ActiveRecord: 9.0ms | Allocations: 50655)


Started POST "/trades" for ::1 at 2021-06-25 06:26:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:26:21.356647"], ["updated_at", "2021-06-25 10:26:21.356647"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-25 10:26:21.367842"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 556278.213086], ["updated_at", "2021-06-25 10:26:21.373007"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.56ms)
Completed 200 OK in 92ms (Views: 3.2ms | ActiveRecord: 8.8ms | Allocations: 50822)


Started POST "/trades" for ::1 at 2021-06-25 06:27:14 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:27:14.625209"], ["updated_at", "2021-06-25 10:27:14.625209"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-25 10:27:14.635613"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 522152.213086], ["updated_at", "2021-06-25 10:27:14.641039"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.17ms)
Completed 200 OK in 89ms (Views: 2.6ms | ActiveRecord: 9.1ms | Allocations: 50989)


Started POST "/trades" for ::1 at 2021-06-25 06:27:19 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:27:19.668221"], ["updated_at", "2021-06-25 10:27:19.668221"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-25 10:27:19.683308"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 351522.213086], ["updated_at", "2021-06-25 10:27:19.687791"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 93ms (Views: 2.7ms | ActiveRecord: 11.0ms | Allocations: 51156)


Started POST "/trades" for ::1 at 2021-06-25 06:27:26 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:27:26.510624"], ["updated_at", "2021-06-25 10:27:26.510624"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 18], ["updated_at", "2021-06-25 10:27:26.521737"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 385648.213086], ["updated_at", "2021-06-25 10:27:26.526853"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 90ms (Views: 2.6ms | ActiveRecord: 8.5ms | Allocations: 51323)


Started POST "/trades" for ::1 at 2021-06-25 06:27:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:27:57.000380"], ["updated_at", "2021-06-25 10:27:57.000380"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19], ["updated_at", "2021-06-25 10:27:57.023781"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 351522.213086], ["updated_at", "2021-06-25 10:27:57.031275"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.76ms)
Completed 200 OK in 188ms (Views: 4.2ms | ActiveRecord: 19.1ms | Allocations: 52614)


Started POST "/trades" for ::1 at 2021-06-25 06:28:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:28:02.689453"], ["updated_at", "2021-06-25 10:28:02.689453"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.7ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 10:28:02.703327"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 180892.213086], ["updated_at", "2021-06-25 10:28:02.710118"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 96ms (Views: 2.7ms | ActiveRecord: 11.1ms | Allocations: 51657)


Started POST "/trades" for ::1 at 2021-06-25 06:28:10 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:28:10.516727"], ["updated_at", "2021-06-25 10:28:10.516727"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 10:28:10.536508"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 215018.213086], ["updated_at", "2021-06-25 10:28:10.542895"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (4.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 155ms (Views: 3.2ms | ActiveRecord: 17.4ms | Allocations: 52933)


Started POST "/trades" for ::1 at 2021-06-25 06:29:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:29:41.241792"], ["updated_at", "2021-06-25 10:29:41.241792"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 10:29:41.253428"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 180892.213086], ["updated_at", "2021-06-25 10:29:41.258337"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 95ms (Views: 2.6ms | ActiveRecord: 8.9ms | Allocations: 51991)


Started POST "/trades" for ::1 at 2021-06-25 06:29:48 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:29:48.568199"], ["updated_at", "2021-06-25 10:29:48.568199"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 10:29:48.578501"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 215018.213086], ["updated_at", "2021-06-25 10:29:48.586247"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.15ms)
Completed 200 OK in 95ms (Views: 2.5ms | ActiveRecord: 8.6ms | Allocations: 57474)


Started POST "/trades" for ::1 at 2021-06-25 06:29:56 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:29:56.689274"], ["updated_at", "2021-06-25 10:29:56.689274"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 10:29:56.700277"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 180892.213086], ["updated_at", "2021-06-25 10:29:56.705589"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.36ms)
Completed 200 OK in 91ms (Views: 2.8ms | ActiveRecord: 9.2ms | Allocations: 52325)


Started POST "/trades" for ::1 at 2021-06-25 06:30:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:30:02.042507"], ["updated_at", "2021-06-25 10:30:02.042507"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-25 10:30:02.053664"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 146766.213086], ["updated_at", "2021-06-25 10:30:02.059002"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 93ms (Views: 2.6ms | ActiveRecord: 8.8ms | Allocations: 52492)


Started POST "/trades" for ::1 at 2021-06-25 06:30:09 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:30:09.043132"], ["updated_at", "2021-06-25 10:30:09.043132"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 23], ["updated_at", "2021-06-25 10:30:09.052252"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 215018.213086], ["updated_at", "2021-06-25 10:30:09.056295"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 77ms (Views: 2.4ms | ActiveRecord: 7.1ms | Allocations: 52659)


Started POST "/trades" for ::1 at 2021-06-25 06:30:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:30:15.952799"], ["updated_at", "2021-06-25 10:30:15.952799"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 24], ["updated_at", "2021-06-25 10:30:15.967623"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 180892.213086], ["updated_at", "2021-06-25 10:30:15.972086"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.43ms)
Completed 200 OK in 99ms (Views: 2.8ms | ActiveRecord: 9.5ms | Allocations: 52826)


Started GET "/auto-login" for ::1 at 2021-06-25 06:33:55 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (92.76ms)
Completed 200 OK in 96ms (Views: 91.8ms | ActiveRecord: 1.8ms | Allocations: 49627)


Started POST "/trades" for ::1 at 2021-06-25 06:42:31 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:42:31.097166"], ["updated_at", "2021-06-25 10:42:31.097166"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.9ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 25], ["updated_at", "2021-06-25 10:42:31.109637"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 146766.213086], ["updated_at", "2021-06-25 10:42:31.115876"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.34ms)
Completed 200 OK in 103ms (Views: 2.7ms | ActiveRecord: 11.7ms | Allocations: 53624)


Started POST "/trades" for ::1 at 2021-06-25 06:42:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-5, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -5], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 10:42:41.870635"], ["updated_at", "2021-06-25 10:42:41.870635"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-25 10:42:41.890516"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 317396.213086], ["updated_at", "2021-06-25 10:42:41.897085"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (2.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.18ms)
Completed 200 OK in 139ms (Views: 2.8ms | ActiveRecord: 11.1ms | Allocations: 54533)


Started POST "/trades" for ::1 at 2021-06-25 06:43:47 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-25 10:43:47.807917"], ["updated_at", "2021-06-25 10:43:47.807917"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 6], ["updated_at", "2021-06-25 10:43:47.819754"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 317395.534074], ["updated_at", "2021-06-25 10:43:47.827041"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.95ms)
Completed 200 OK in 97ms (Views: 2.3ms | ActiveRecord: 8.4ms | Allocations: 53359)


Started POST "/trades" for ::1 at 2021-06-25 06:43:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-25 10:43:52.208724"], ["updated_at", "2021-06-25 10:43:52.208724"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.8ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 16], ["updated_at", "2021-06-25 10:43:52.220528"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 317388.743954], ["updated_at", "2021-06-25 10:43:52.225702"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 97ms (Views: 2.7ms | ActiveRecord: 10.7ms | Allocations: 53534)


Started POST "/trades" for ::1 at 2021-06-25 06:43:58 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"XRP", "coin_id"=>"xrp", "price"=>0.679012, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "XRP"], ["coin_id", "xrp"], ["price", 0.679012], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731"], ["created_at", "2021-06-25 10:43:58.693574"], ["updated_at", "2021-06-25 10:43:58.693574"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "xrp"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 14], ["updated_at", "2021-06-25 10:43:58.704249"], ["id", 7]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 317390.101978], ["updated_at", "2021-06-25 10:43:58.709015"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 95ms (Views: 2.8ms | ActiveRecord: 8.5ms | Allocations: 53709)


Started POST "/trades" for ::1 at 2021-06-25 06:45:28 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.05, "quantity"=>0, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.05, "quantity"=>0, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.05], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 10:45:28.457501"], ["updated_at", "2021-06-25 10:45:28.457501"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.8ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["average_price", 17.05], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 10:45:28.470734"], ["updated_at", "2021-06-25 10:45:28.470734"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.11ms)
Completed 200 OK in 114ms (Views: 3.8ms | ActiveRecord: 7.3ms | Allocations: 53546)


Started POST "/trades" for ::1 at 2021-06-25 06:45:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>15.38, "quantity"=>0, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>15.38, "quantity"=>0, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 15.38], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 10:45:39.938861"], ["updated_at", "2021-06-25 10:45:39.938861"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.17ms)
Completed 200 OK in 107ms (Views: 2.5ms | ActiveRecord: 5.4ms | Allocations: 55488)


Started POST "/trades" for ::1 at 2021-06-25 06:45:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>15.38, "quantity"=>0, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Polkadot", "coin_id"=>"dot", "price"=>15.38, "quantity"=>0, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Polkadot"], ["coin_id", "dot"], ["price", 15.38], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12171/large/aJGBjJFU_400x400.jpg?1597804776"], ["created_at", "2021-06-25 10:45:46.807499"], ["updated_at", "2021-06-25 10:45:46.807499"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "dot"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 87ms (Views: 2.8ms | ActiveRecord: 5.1ms | Allocations: 52367)


Started POST "/trades" for ::1 at 2021-06-25 06:50:05 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.05, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>17.05, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 17.05], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 10:50:05.713554"], ["updated_at", "2021-06-25 10:50:05.713554"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 1], ["updated_at", "2021-06-25 10:50:05.726141"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 317373.051978], ["updated_at", "2021-06-25 10:50:05.731082"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.73ms)
Completed 200 OK in 148ms (Views: 9.3ms | ActiveRecord: 9.8ms | Allocations: 54617)


Started GET "/auto-login" for ::1 at 2021-06-25 06:54:34 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (183.69ms)
Completed 200 OK in 189ms (Views: 183.4ms | ActiveRecord: 2.8ms | Allocations: 51597)


Started GET "/auto-login" for ::1 at 2021-06-25 06:57:42 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (124.65ms)
Completed 200 OK in 129ms (Views: 123.2ms | ActiveRecord: 3.2ms | Allocations: 51596)


Started POST "/trades" for ::1 at 2021-06-25 06:58:25 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 10:58:25.738385"], ["updated_at", "2021-06-25 10:58:25.738385"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 0], ["updated_at", "2021-06-25 10:58:25.747946"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 315400.441978], ["updated_at", "2021-06-25 10:58:25.752248"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.15ms)
Completed 200 OK in 83ms (Views: 2.6ms | ActiveRecord: 8.7ms | Allocations: 54759)


Started POST "/trades" for ::1 at 2021-06-25 06:58:29 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>2, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1972.61, "quantity"=>2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1972.61], ["quantity", 2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 10:58:29.312814"], ["updated_at", "2021-06-25 10:58:29.312814"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-25 10:58:29.333391"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 311455.221978], ["updated_at", "2021-06-25 10:58:29.338688"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.19ms)
Completed 200 OK in 101ms (Views: 2.6ms | ActiveRecord: 16.5ms | Allocations: 54934)


Started GET "/auto-login" for ::1 at 2021-06-25 07:01:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (153.59ms)
Completed 200 OK in 157ms (Views: 151.4ms | ActiveRecord: 3.1ms | Allocations: 52001)


Started GET "/auto-login" for ::1 at 2021-06-25 07:07:24 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (2.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (226.33ms)
Completed 200 OK in 232ms (Views: 223.1ms | ActiveRecord: 4.7ms | Allocations: 52540)


Started POST "/trades" for ::1 at 2021-06-25 07:08:15 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>0, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"USD Coin", "coin_id"=>"usdc", "price"=>1, "quantity"=>0, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["price", 1.0], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-25 11:08:15.639525"], ["updated_at", "2021-06-25 11:08:15.639525"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "usdc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "USD Coin"], ["coin_id", "usdc"], ["average_price", 1.0], ["quantity", 0], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"], ["created_at", "2021-06-25 11:08:15.657383"], ["updated_at", "2021-06-25 11:08:15.657383"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 90ms (Views: 2.8ms | ActiveRecord: 12.3ms | Allocations: 54625)


Started POST "/trades" for ::1 at 2021-06-25 07:16:41 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>130.64, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>130.64, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 130.64], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-25 11:16:41.754147"], ["updated_at", "2021-06-25 11:16:41.754147"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["average_price", 130.64], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-25 11:16:41.778243"], ["updated_at", "2021-06-25 11:16:41.778243"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 311324.581978], ["updated_at", "2021-06-25 11:16:41.785296"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (3.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 130ms (Views: 2.6ms | ActiveRecord: 12.6ms | Allocations: 56984)


Started GET "/auto-login" for ::1 at 2021-06-25 07:24:54 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.8ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (240.88ms)
Completed 200 OK in 247ms (Views: 239.6ms | ActiveRecord: 2.7ms | Allocations: 53264)


Started GET "/auto-login" for ::1 at 2021-06-25 07:25:53 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (83.33ms)
Completed 200 OK in 86ms (Views: 82.3ms | ActiveRecord: 1.9ms | Allocations: 52725)


Started GET "/auto-login" for ::1 at 2021-06-25 07:40:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (120.0ms)
Completed 200 OK in 127ms (Views: 119.2ms | ActiveRecord: 3.5ms | Allocations: 53263)


Started POST "/trades" for ::1 at 2021-06-25 08:03:07 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>16.39, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>16.39, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 16.39], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 12:03:07.308450"], ["updated_at", "2021-06-25 12:03:07.308450"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-25 12:03:07.320760"], ["id", 11]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 311308.191978], ["updated_at", "2021-06-25 12:03:07.325018"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 96ms (Views: 2.7ms | ActiveRecord: 9.8ms | Allocations: 56424)


Started POST "/trades" for ::1 at 2021-06-25 08:03:08 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Chainlink", "coin_id"=>"link", "price"=>17.84, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700", "user_id"=>1, "portfolio_id"=>1, "trade"=>{"coin_name"=>"Chainlink", "coin_id"=>"link", "price"=>17.84, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Chainlink"], ["coin_id", "link"], ["price", 17.84], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700"], ["created_at", "2021-06-25 12:03:08.304039"], ["updated_at", "2021-06-25 12:03:08.304039"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "link"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Chainlink"], ["coin_id", "link"], ["average_price", 17.84], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1547034700"], ["created_at", "2021-06-25 12:03:08.323871"], ["updated_at", "2021-06-25 12:03:08.323871"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 311290.351978], ["updated_at", "2021-06-25 12:03:08.329142"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 94ms (Views: 2.7ms | ActiveRecord: 14.9ms | Allocations: 56903)


Started POST "/trades" for ::1 at 2021-06-25 08:07:39 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 12:07:39.105661"], ["updated_at", "2021-06-25 12:07:39.105661"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 21], ["updated_at", "2021-06-25 12:07:39.121537"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 277164.351978], ["updated_at", "2021-06-25 12:07:39.128457"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.4ms)
Completed 200 OK in 104ms (Views: 3.0ms | ActiveRecord: 24.8ms | Allocations: 56286)


Started POST "/trades" for ::1 at 2021-06-25 08:11:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-10, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>34126, "quantity"=>-10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 34126.0], ["quantity", -10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 12:11:04.388972"], ["updated_at", "2021-06-25 12:11:04.388972"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 11], ["updated_at", "2021-06-25 12:11:04.401117"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 618424.351978], ["updated_at", "2021-06-25 12:11:04.405644"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.32ms)
Completed 200 OK in 97ms (Views: 3.0ms | ActiveRecord: 9.3ms | Allocations: 56453)


Started GET "/auto-login" for ::1 at 2021-06-25 08:15:30 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (89.87ms)
Completed 200 OK in 93ms (Views: 88.3ms | ActiveRecord: 2.3ms | Allocations: 53685)


Started GET "/auto-login" for ::1 at 2021-06-25 08:20:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (83.86ms)
Completed 200 OK in 88ms (Views: 82.4ms | ActiveRecord: 2.5ms | Allocations: 53685)


Started GET "/auto-login" for ::1 at 2021-06-25 08:28:06 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (130.02ms)
Completed 200 OK in 137ms (Views: 128.4ms | ActiveRecord: 3.4ms | Allocations: 54224)


Started POST "/trades" for ::1 at 2021-06-25 08:30:53 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33570, "quantity_field"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>1, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>33570, "quantity"=>1, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 33570.0], ["quantity", 1], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 12:30:53.235560"], ["updated_at", "2021-06-25 12:30:53.235560"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-25 12:30:53.248702"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 584854.351978], ["updated_at", "2021-06-25 12:30:53.267634"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.08ms)
Completed 200 OK in 94ms (Views: 2.5ms | ActiveRecord: 7.4ms | Allocations: 56708)


Started GET "/auto-login" for ::1 at 2021-06-25 08:39:01 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (118.39ms)
Completed 200 OK in 123ms (Views: 116.9ms | ActiveRecord: 2.6ms | Allocations: 54418)


Started GET "/auto-login" for ::1 at 2021-06-25 08:41:07 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (91.06ms)
Completed 200 OK in 94ms (Views: 89.9ms | ActiveRecord: 1.9ms | Allocations: 53879)


Started GET "/auto-login" for ::1 at 2021-06-25 08:42:19 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (113.84ms)
Completed 200 OK in 117ms (Views: 112.3ms | ActiveRecord: 2.3ms | Allocations: 53879)


Started GET "/auto-login" for ::1 at 2021-06-25 08:42:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (175.4ms)
Completed 200 OK in 178ms (Views: 174.5ms | ActiveRecord: 1.8ms | Allocations: 53879)


Started GET "/auto-login" for ::1 at 2021-06-25 12:18:37 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (83.12ms)
Completed 200 OK in 87ms (Views: 81.9ms | ActiveRecord: 2.2ms | Allocations: 54418)


Started GET "/auto-login" for ::1 at 2021-06-25 13:51:16 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.9ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (112.66ms)
Completed 200 OK in 120ms (Views: 112.5ms | ActiveRecord: 3.2ms | Allocations: 54418)


Started POST "/trades" for ::1 at 2021-06-25 13:52:27 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31665, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>1, "quantity"=>10, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31665, "quantity"=>10, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 31665.0], ["quantity", 10], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 17:52:27.875393"], ["updated_at", "2021-06-25 17:52:27.875393"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 22], ["updated_at", "2021-06-25 17:52:27.889652"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 268204.351978], ["updated_at", "2021-06-25 17:52:27.896108"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.84ms)
Completed 200 OK in 109ms (Views: 3.5ms | ActiveRecord: 11.6ms | Allocations: 56875)


Started POST "/trades" for ::1 at 2021-06-25 13:52:38 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31665, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>1, "user_id"=>1, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31665, "quantity"=>-2, "user_id"=>1, "portfolio_id"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 31665.0], ["quantity", -2], ["user_id", 1], ["portfolio_id", 1], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 17:52:38.509658"], ["updated_at", "2021-06-25 17:52:38.509658"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 1], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20], ["updated_at", "2021-06-25 17:52:38.527816"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 331534.351978], ["updated_at", "2021-06-25 17:52:38.559536"], ["id", 1]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (5.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.43ms)
Completed 200 OK in 240ms (Views: 2.8ms | ActiveRecord: 21.3ms | Allocations: 58612)


Started GET "/auto-login" for ::1 at 2021-06-25 13:56:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (181.08ms)
Completed 200 OK in 184ms (Views: 179.4ms | ActiveRecord: 2.4ms | Allocations: 54268)


Started GET "/auto-login" for ::1 at 2021-06-25 13:56:15 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.7ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (97.05ms)
Completed 200 OK in 101ms (Views: 95.9ms | ActiveRecord: 2.3ms | Allocations: 54266)


Started GET "/auto-login" for ::1 at 2021-06-25 13:56:22 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (155.44ms)
Completed 200 OK in 161ms (Views: 154.2ms | ActiveRecord: 2.7ms | Allocations: 54268)


Started GET "/auto-login" for ::1 at 2021-06-25 13:56:45 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (291.21ms)
Completed 200 OK in 297ms (Views: 289.9ms | ActiveRecord: 2.4ms | Allocations: 54270)


Started GET "/auto-login" for ::1 at 2021-06-25 15:01:14 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.1ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (93.67ms)
Completed 200 OK in 99ms (Views: 92.8ms | ActiveRecord: 2.1ms | Allocations: 54807)


Started GET "/auto-login" for ::1 at 2021-06-25 15:01:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (200.12ms)
Completed 200 OK in 204ms (Views: 200.7ms | ActiveRecord: 1.7ms | Allocations: 54268)


Started GET "/auto-login" for ::1 at 2021-06-25 15:08:47 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (3.8ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (99.63ms)
Completed 200 OK in 107ms (Views: 95.8ms | ActiveRecord: 4.7ms | Allocations: 54806)


Started GET "/auto-login" for ::1 at 2021-06-25 15:10:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.5ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (228.87ms)
Completed 200 OK in 233ms (Views: 227.5ms | ActiveRecord: 2.2ms | Allocations: 54267)


Started GET "/auto-login" for ::1 at 2021-06-25 15:11:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (198.39ms)
Completed 200 OK in 206ms (Views: 197.8ms | ActiveRecord: 3.5ms | Allocations: 54267)


Started GET "/auto-login" for ::1 at 2021-06-25 15:11:11 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.0ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (96.69ms)
Completed 200 OK in 100ms (Views: 95.6ms | ActiveRecord: 2.1ms | Allocations: 54266)


Started GET "/auto-login" for ::1 at 2021-06-25 15:11:18 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (2.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (131.8ms)
Completed 200 OK in 135ms (Views: 129.7ms | ActiveRecord: 2.9ms | Allocations: 54269)


Started GET "/auto-login" for ::1 at 2021-06-25 15:16:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (1.6ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 1]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (184.7ms)
Completed 200 OK in 190ms (Views: 183.6ms | ActiveRecord: 2.1ms | Allocations: 54267)


Started POST "/signup" for ::1 at 2021-06-25 15:32:35 -0400
Processing by UsersController#create as JSON
  Parameters: {"first_name"=>"Dan", "last_name"=>"Rivera", "email"=>"dan@gmail.com", "password"=>"[FILTERED]", "first_nameError"=>"", "last_nameError"=>"", "emailError"=>"", "passwordError"=>"[FILTERED]", "user"=>{"first_name"=>"Dan", "last_name"=>"Rivera", "email"=>"dan@gmail.com"}}
[31mUnpermitted parameters: :first_nameError, :last_nameError, :emailError, :passwordError, :user[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Dan"], ["last_name", "Rivera"], ["email", "dan@gmail.com"], ["password_digest", "$2a$12$PzHQsbrqgDVdCBmcL8RKTuIByP.JeqCnUrylbevounyk0c945sqxe"], ["created_at", "2021-06-25 19:32:35.301646"], ["updated_at", "2021-06-25 19:32:35.301646"]]
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("name", "description", "initial_balance", "current_balance", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Initial Portfolio"], ["description", "For training"], ["initial_balance", 1000000.0], ["current_balance", 1000000.0], ["user_id", 2], ["created_at", "2021-06-25 19:32:35.312894"], ["updated_at", "2021-06-25 19:32:35.312894"]]
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:22:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:28:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:28:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 7887)


Started POST "/trades" for ::1 at 2021-06-25 15:32:46 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32033, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32033, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 32033.0], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:32:46.336446"], ["updated_at", "2021-06-25 19:32:46.336446"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["average_price", 32033.0], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:32:46.355460"], ["updated_at", "2021-06-25 19:32:46.355460"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 967967.0], ["updated_at", "2021-06-25 19:32:46.361807"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 60ms (Views: 0.6ms | ActiveRecord: 13.0ms | Allocations: 17998)


Started POST "/trades" for ::1 at 2021-06-25 15:32:48 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32033, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32033, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 32033.0], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:32:48.597649"], ["updated_at", "2021-06-25 19:32:48.597649"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-25 19:32:48.610869"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 935934.0], ["updated_at", "2021-06-25 19:32:48.618831"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 46ms (Views: 0.7ms | ActiveRecord: 8.3ms | Allocations: 17366)


Started POST "/trades" for ::1 at 2021-06-25 15:32:52 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23825, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.23825, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.23825], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 19:32:52.663409"], ["updated_at", "2021-06-25 19:32:52.663409"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.4ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["average_price", 0.23825], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 19:32:52.672809"], ["updated_at", "2021-06-25 19:32:52.672809"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 935933.76175], ["updated_at", "2021-06-25 19:32:52.676882"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 200 OK in 37ms (Views: 0.7ms | ActiveRecord: 6.4ms | Allocations: 15189)


Started POST "/trades" for ::1 at 2021-06-25 15:32:57 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>16.12, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Uniswap", "coin_id"=>"uni", "price"=>16.12, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["price", 16.12], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 19:32:57.619054"], ["updated_at", "2021-06-25 19:32:57.619054"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "uni"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.5ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Uniswap"], ["coin_id", "uni"], ["average_price", 16.12], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1600306604"], ["created_at", "2021-06-25 19:32:57.631655"], ["updated_at", "2021-06-25 19:32:57.631655"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 935917.64175], ["updated_at", "2021-06-25 19:32:57.636820"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 200 OK in 63ms (Views: 0.8ms | ActiveRecord: 12.1ms | Allocations: 15566)


Started POST "/trades" for ::1 at 2021-06-25 15:33:02 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>127.61, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>127.61, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 127.61], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-25 19:33:02.201781"], ["updated_at", "2021-06-25 19:33:02.201781"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["average_price", 127.61], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-25 19:33:02.214386"], ["updated_at", "2021-06-25 19:33:02.214386"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 935790.03175], ["updated_at", "2021-06-25 19:33:02.219336"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 43ms (Views: 0.6ms | ActiveRecord: 7.1ms | Allocations: 15917)


Started GET "/auto-login" for ::1 at 2021-06-25 15:33:20 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.35ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.9ms | Allocations: 6130)


Started GET "/auto-login" for ::1 at 2021-06-25 15:33:59 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.14ms)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.9ms | Allocations: 6130)


Started GET "/auto-login" for ::1 at 2021-06-25 15:35:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.16ms)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.8ms | Allocations: 6130)


Started GET "/auto-login" for ::1 at 2021-06-25 15:35:28 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (10.98ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 1.0ms | Allocations: 6130)


Started POST "/trades" for ::1 at 2021-06-25 15:35:43 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.244916, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.244916, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.244916], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 19:35:43.143407"], ["updated_at", "2021-06-25 19:35:43.143407"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 2], ["updated_at", "2021-06-25 19:35:43.158476"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 935789.786834], ["updated_at", "2021-06-25 19:35:43.163142"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 54ms (Views: 0.9ms | ActiveRecord: 10.9ms | Allocations: 15332)


Started GET "/auto-login" for ::1 at 2021-06-25 15:38:27 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.83ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 1.0ms | Allocations: 6332)


Started GET "/auto-login" for ::1 at 2021-06-25 15:41:00 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (29.31ms)
Completed 200 OK in 44ms (Views: 36.6ms | ActiveRecord: 0.8ms | Allocations: 6332)


Started GET "/auto-login" for ::1 at 2021-06-25 15:41:05 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (11.95ms)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 1.5ms | Allocations: 6332)


Started POST "/trades" for ::1 at 2021-06-25 15:42:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity"=>5, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 32476.0], ["quantity", 5], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:42:12.467563"], ["updated_at", "2021-06-25 19:42:12.467563"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 7], ["updated_at", "2021-06-25 19:42:12.479377"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 773409.786834], ["updated_at", "2021-06-25 19:42:12.485321"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.36ms)
Completed 200 OK in 53ms (Views: 1.2ms | ActiveRecord: 8.9ms | Allocations: 15475)


Started POST "/trades" for ::1 at 2021-06-25 15:46:20 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity"=>5, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 32476.0], ["quantity", 5], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:46:20.187930"], ["updated_at", "2021-06-25 19:46:20.187930"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 12], ["updated_at", "2021-06-25 19:46:20.200812"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 611029.786834], ["updated_at", "2021-06-25 19:46:20.207672"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 200 OK in 60ms (Views: 2.3ms | ActiveRecord: 9.2ms | Allocations: 15643)


Started POST "/trades" for ::1 at 2021-06-25 15:46:50 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>32476, "quantity"=>-2, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 32476.0], ["quantity", -2], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 19:46:50.018882"], ["updated_at", "2021-06-25 19:46:50.018882"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.4ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10], ["updated_at", "2021-06-25 19:46:50.031359"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 675981.786834], ["updated_at", "2021-06-25 19:46:50.035817"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 200 OK in 50ms (Views: 0.8ms | ActiveRecord: 8.3ms | Allocations: 15812)


Started POST "/trades" for ::1 at 2021-06-25 15:47:16 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.244993, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.244993, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.244993], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 19:47:16.691549"], ["updated_at", "2021-06-25 19:47:16.691549"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 3], ["updated_at", "2021-06-25 19:47:16.703957"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 675981.541841], ["updated_at", "2021-06-25 19:47:16.708514"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 48ms (Views: 0.7ms | ActiveRecord: 8.4ms | Allocations: 16008)


Started POST "/trades" for ::1 at 2021-06-25 15:47:24 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1867.68, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Ethereum", "coin_id"=>"eth", "price"=>1867.68, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["price", 1867.68], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 19:47:24.916352"], ["updated_at", "2021-06-25 19:47:24.916352"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "eth"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Ethereum"], ["coin_id", "eth"], ["average_price", 1867.68], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"], ["created_at", "2021-06-25 19:47:24.935135"], ["updated_at", "2021-06-25 19:47:24.935135"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 674113.861841], ["updated_at", "2021-06-25 19:47:24.942386"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 66ms (Views: 1.0ms | ActiveRecord: 15.0ms | Allocations: 17118)


Started POST "/trades" for ::1 at 2021-06-25 15:48:04 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>129.05, "quantity_field"=>100, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>100, "trade"=>{"coin_name"=>"Litecoin", "coin_id"=>"ltc", "price"=>129.05, "quantity"=>100, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Litecoin"], ["coin_id", "ltc"], ["price", 129.05], ["quantity", 100], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/2/large/litecoin.png?1547033580"], ["created_at", "2021-06-25 19:48:04.058406"], ["updated_at", "2021-06-25 19:48:04.058406"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "ltc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 101], ["updated_at", "2021-06-25 19:48:04.073320"], ["id", 18]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 661208.861841], ["updated_at", "2021-06-25 19:48:04.078569"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 58ms (Views: 0.8ms | ActiveRecord: 8.9ms | Allocations: 16533)


Started GET "/auto-login" for ::1 at 2021-06-25 19:05:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (22.07ms)
Completed 200 OK in 53ms (Views: 22.7ms | ActiveRecord: 1.5ms | Allocations: 8228)


Started POST "/trades" for ::1 at 2021-06-25 19:06:00 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.236643, "quantity_field"=>10000, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>10000, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.236643, "quantity"=>10000, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (1.4ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.236643], ["quantity", 10000], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 23:06:00.296383"], ["updated_at", "2021-06-25 23:06:00.296383"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.0ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 10003], ["updated_at", "2021-06-25 23:06:00.308321"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 658842.431841], ["updated_at", "2021-06-25 23:06:00.315006"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 200 OK in 52ms (Views: 0.7ms | ActiveRecord: 9.6ms | Allocations: 16796)


Started GET "/auto-login" for ::1 at 2021-06-25 19:10:03 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (15.02ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.9ms | Allocations: 7890)


Started GET "/auto-login" for ::1 at 2021-06-25 19:10:08 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (15.07ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.9ms | Allocations: 7890)


Started GET "/auto-login" for ::1 at 2021-06-25 19:10:43 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (12.67ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 7890)


Started POST "/trades" for ::1 at 2021-06-25 19:18:12 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Stellar", "coin_id"=>"xlm", "price"=>0.243629, "quantity"=>1, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157", "user_id"=>2, "portfolio_id"=>2, "trade"=>{"coin_name"=>"Stellar", "coin_id"=>"xlm", "price"=>0.243629, "quantity"=>1, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "xlm"], ["price", 0.243629], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"], ["created_at", "2021-06-25 23:18:12.753806"], ["updated_at", "2021-06-25 23:18:12.753806"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "xlm"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mCoin Create (0.6ms)[0m  [1m[32mINSERT INTO "coins" ("coin_name", "coin_id", "average_price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Stellar"], ["coin_id", "xlm"], ["average_price", 0.243629], ["quantity", 1], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png?1552356157"], ["created_at", "2021-06-25 23:18:12.767918"], ["updated_at", "2021-06-25 23:18:12.767918"]]
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 658842.188212], ["updated_at", "2021-06-25 23:18:12.773909"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.3ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 200 OK in 56ms (Views: 0.9ms | ActiveRecord: 9.5ms | Allocations: 18424)


Started POST "/trades" for ::1 at 2021-06-25 19:19:21 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31586, "quantity_field"=>5, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>5, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31586, "quantity"=>5, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 31586.0], ["quantity", 5], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 23:19:21.031302"], ["updated_at", "2021-06-25 23:19:21.031302"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.4ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.6ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 15], ["updated_at", "2021-06-25 23:19:21.046529"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 500912.188212], ["updated_at", "2021-06-25 23:19:21.051624"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.3ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (1.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.8ms)
Completed 200 OK in 63ms (Views: 2.5ms | ActiveRecord: 12.3ms | Allocations: 17226)


Started POST "/trades" for ::1 at 2021-06-25 19:19:44 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31586, "quantity_field"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>"-1", "quantity"=>-2, "trade"=>{"coin_name"=>"Bitcoin", "coin_id"=>"btc", "price"=>31586, "quantity"=>-2, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Bitcoin"], ["coin_id", "btc"], ["price", 31586.0], ["quantity", -2], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"], ["created_at", "2021-06-25 23:19:44.364669"], ["updated_at", "2021-06-25 23:19:44.364669"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "btc"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 13], ["updated_at", "2021-06-25 23:19:44.378474"], ["id", 15]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 564084.188212], ["updated_at", "2021-06-25 23:19:44.382767"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.02ms)
Completed 200 OK in 79ms (Views: 1.6ms | ActiveRecord: 10.4ms | Allocations: 17369)


Started POST "/trades" for ::1 at 2021-06-25 19:20:23 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237909, "quantity_field"=>10000, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>1, "quantity"=>10000, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237909, "quantity"=>10000, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237909], ["quantity", 10000], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 23:20:23.685385"], ["updated_at", "2021-06-25 23:20:23.685385"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (1.3ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 20003], ["updated_at", "2021-06-25 23:20:23.703034"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 561705.098212], ["updated_at", "2021-06-25 23:20:23.710032"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.4ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.6ms)
Completed 200 OK in 66ms (Views: 1.4ms | ActiveRecord: 11.3ms | Allocations: 17567)


Started POST "/trades" for ::1 at 2021-06-25 19:20:30 -0400
Processing by TradesController#create as JSON
  Parameters: {"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237909, "quantity_field"=>10, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "portfolio_id"=>2, "user_id"=>2, "tradeBuySell"=>"-1", "quantity"=>-10, "trade"=>{"coin_name"=>"Dogecoin", "coin_id"=>"doge", "price"=>0.237909, "quantity"=>-10, "user_id"=>2, "portfolio_id"=>2, "image"=>"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:19:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? AND "portfolios"."id" = ? LIMIT ?[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:20:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ? ORDER BY "portfolios"."id" ASC LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:21:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "trades" ("coin_name", "coin_id", "price", "quantity", "user_id", "portfolio_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["coin_name", "Dogecoin"], ["coin_id", "doge"], ["price", 0.237909], ["quantity", -10], ["user_id", 2], ["portfolio_id", 2], ["image", "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256"], ["created_at", "2021-06-25 23:20:30.662971"], ["updated_at", "2021-06-25 23:20:30.662971"]]
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:24:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:25:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" WHERE "coins"."portfolio_id" = ? AND "coins"."coin_id" = ?[0m  [["portfolio_id", 2], ["coin_id", "doge"]]
  ↳ app/controllers/trades_controller.rb:27:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mCoin Update (0.5ms)[0m  [1m[33mUPDATE "coins" SET "quantity" = ?, "updated_at" = ? WHERE "coins"."id" = ?[0m  [["quantity", 19993], ["updated_at", "2021-06-25 23:20:30.676883"], ["id", 16]]
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:28:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mPortfolio Update (2.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_balance" = ?, "updated_at" = ? WHERE "portfolios"."id" = ?[0m  [["current_balance", 561707.477302], ["updated_at", "2021-06-25 23:20:30.684912"], ["id", 2]]
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/trades_controller.rb:32:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/trades_controller.rb:33:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mTrade Load (0.5ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
  [1m[36mCoin Load (0.2ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/trades_controller.rb:34:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 200 OK in 70ms (Views: 1.0ms | ActiveRecord: 10.7ms | Allocations: 23061)


Started GET "/auto-login" for ::1 at 2021-06-25 19:26:04 -0400
Processing by SessionController#auto_login as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:15:in `session_user'
[active_model_serializers]   [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mTrade Load (0.2ms)[0m  [1m[34mSELECT "trades".* FROM "trades" INNER JOIN "portfolios" ON "trades"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers]   [1m[36mCoin Load (0.1ms)[0m  [1m[34mSELECT "coins".* FROM "coins" INNER JOIN "portfolios" ON "coins"."portfolio_id" = "portfolios"."id" WHERE "portfolios"."user_id" = ?[0m  [["user_id", 2]]
[active_model_serializers]   ↳ app/controllers/session_controller.rb:21:in `auto_login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (14.37ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.9ms | Allocations: 9052)


